{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"about/","title":"About","text":"<p>Stuff about whow this was created, how to contribute code or documentation</p>"},{"location":"api/dispatch/console_dispatcher/","title":"Console Dispatcher","text":"<p>The ConsoleDispatcher is used to route console related messages to callback functions. Generally this is done to classes.</p>"},{"location":"api/dispatch/console_dispatcher/#artemis-cosmos-console-system","title":"Artemis Cosmos console system","text":"<p>Artemis Cosmos calls the script function HandleConsoleObjectSelection when an item is selected on a console.</p> <p>Artemis Cosmos calls the script function HandleCommsButton when a button is pressed on a comms console.</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils-console-system","title":"sbs_utils console system","text":"<p>The ConsoleDispatcher is intended receive these and route them to callback functions. This can further be used to direct these to classes that represent the ships enabling the handling of this code to be handled in context of the ship(s) involved.</p> <p>The HandleConsoleObjectSelection should call meth:<code>~sbs_utils.consoledispatcher.ConsoleDispatcher.dispatch_select</code> The HandleCommsButton should call meth:<code>~sbs_utils.consoledispatcher.ConsoleDispatcher.dispatch_comms_message</code></p> Python <pre><code>def HandleConsoleObjectSelection(sim, console, obj_selected_id, ship_id):\n   ConsoleDispatcher.dispatch_select(sim,ship_id, console,obj_selected_id)\n\ndef HandleCommsButton(sim, button_tag, ship_id, obj_selected_id):\n   ConsoleDispatcher.dispatch_comms_message(sim, button_tag, ship_id, obj_selected_id)\n</code></pre> <p>Importing the hookhandlers module it does by default.</p> <p>=== \"Python\"    <pre><code>from sbs_utils.handlerhooks import *\n# no longer need to implement handlers in script.py\n</code></pre></p>"},{"location":"api/dispatch/console_dispatcher/#example-adding-comms-to-a-class","title":"Example: Adding Comms to a class","text":"<p>The best way to use the ConsoleDispatcher is to add comms to a class:<code>~sbs_utils.spaceobject.SpaceObject</code> using the class:<code>~sbs_utils.consoledispatcher.ConsoleDispatcher</code> and class:<code>~sbs_utils.consoledispatcher.MCommunications</code> mixin class. and provide an implementation of  meth:<code>~sbs_utils.consoledispatcher.MCommunications.comms_selected</code> and meth:<code>~sbs_utils.consoledispatcher.MCommunications.comms_message</code> methods.</p> <p>To enable comms call meth:<code>~sbs_utils.consoledispatcher.MCommunications.enable_comms</code>. This should be called after the SpaceObject has spawned and has an id.</p> <p>meth:<code>~sbs_utils.consoledispatcher.MCommunications.enable_comms</code> takes a face description and it will set self.face_desc. </p> <p>You can use :doc:<code>faces</code> to get some face descriptions.</p> <p>This can be done on a non-player ship and a PlayerShip. The system will send the proper information.</p> <p>For a non-player ship the player id is sent.</p> Python <p>``` py    class Harvester(SpaceObject, MSpawnActive, MCommunications):       def some_method(self):          self.enable_comms(some_face_desc)</p> <pre><code>  def comms_selected(self, sim, player_id):\n     pass\n\n  def comms_message(self, sim, message, player_id):\n     pass\n</code></pre> <p>For a PlayerShip the other ship id is sent.</p> Python <pre><code>class Player(PlayerShip, MCommunications):\n   def some_method(self):\n      self.enable_comms(some_face_desc)\n\n   def comms_selected(self, sim, other_id):\n      pass\n\n   def comms_message(self, sim, message, other_id):\n      pass\n</code></pre>"},{"location":"api/dispatch/console_dispatcher/#example-sending-selection-info","title":"Example: Sending selection info","text":"<p>A non player ship should send its selection info in comms_selected. This will update the comms to show the name and face of the ship when selected. The self.face_desc can be used, or the face can be altered based on game conditions e.g. change to angry, changed to new face (change of command) etc.</p> Python <pre><code>class Harvester(SpaceObject, MSpawnActive, MCommunications):\n   def comms_selected(self, sim, player_id):\n      sbs.send_comms_selection_info(player_id, self.face_desc, \"green\", self.comms_id)\n</code></pre>"},{"location":"api/dispatch/console_dispatcher/#example-sending-comms-buttons","title":"Example: Sending comms buttons","text":"<p>comms_select is also the place where comms button could be sent to the comms console. This can be done based on the state of the ship.</p> Python <pre><code>class Harvester(SpaceObject, MSpawnActive, MCommunications):\n   def comms_selected(self, sim, player_id):\n      sbs.send_comms_selection_info(player_id, self.face_desc, \"green\", self.comms_id)\n\n     # if Empty it is waiting for what to harvest\n     if self.state == HarvesterState.EMPTY_WAITING:\n         sbs.send_comms_button_info(player_id, \"blue\", \"Harvest energy\", \"get_energy\")\n         sbs.send_comms_button_info(player_id, \"red\", \"Harvest minerals\", \"get_mineral\")\n         sbs.send_comms_button_info(player_id, \"gold\", \"Harvest rare metals\", \"get_rare\")\n         sbs.send_comms_button_info(player_id, \"silver\", \"Harvest alloys\", \"get_alloy\")\n         sbs.send_comms_button_info(player_id, \"green\", \"Harvest replicator fuel\", \"get_food\")\n\n     if self.state == HarvesterState.FULL_WAITING:\n         for base in self.find_close_list(sim, 'Spacedock'):\n             sbs.send_comms_button_info(player_id, \"yellow\", f\"Head to {base.obj.comms_id}\", f\"{base.obj.id}\")\n</code></pre>"},{"location":"api/dispatch/console_dispatcher/#example-handling-comms-button-messages","title":"Example: handling comms button messages","text":"<p>comms_message is called when a comms button is pressed. The message is the button_tag.</p> Python <pre><code>class Harvester(SpaceObject, MSpawnActive, MCommunications):\n  def comms_message(self, sim, message, player_id):\n\n     if message.isnumeric():\n         other_id = int(message)\n         self.target(sim,other_id, False)\n         # every ten seconds r\n         self.tsk = TickDispatcher.do_interval(sim,self.think, 5)\n         self.tsk.base_id = other_id\n         self.state = HarvesterState.RETURNING\n         return\n\n     match message:\n         case 'get_energy':\n             self.resource_type = ResourceTypes.ENERGY\n             self.send_comms('Gathering energy', 'green', player_id)\n             self.state = HarvesterState.HARVESTING\n             self.find_target(sim)\n         case 'get_mineral':\n             self.resource_type = ResourceTypes.MINERAL\n             self.send_comms('Gathering minerals', 'green', player_id)\n             self.state = HarvesterState.HARVESTING\n             self.find_target(sim)\n         case 'get_rare':\n             self.resource_type = ResourceTypes.RARE_METAL\n             self.send_comms('Gathering rare metals', 'green', player_id)\n             self.state = HarvesterState.HARVESTING\n             self.find_target(sim)\n         case 'get_alloy':\n             self.resource_type = ResourceTypes.ALLOY\n             self.send_comms('Gathering alloys', 'green', player_id)\n             self.state = HarvesterState.HARVESTING\n             self.find_target(sim)\n         case 'get_food':\n             self.resource_type = ResourceTypes.FOOD\n             self.send_comms('Gathering replicator fuel', 'green', player_id)\n             self.state = HarvesterState.HARVESTING\n             self.find_target(sim)\n         case '_':\n             return\n\n     # Clear buttons?\n     sbs.send_comms_selection_info(player_id, self.face_desc, \"green\", self.comms_id)\n</code></pre>"},{"location":"api/dispatch/console_dispatcher/#non-class-console-handling","title":"non class console handling","text":"<p>MCommunications is useful for any class. However, if their is another way desired to handle console messages.</p> <p>meth:<code>~sbs_utils.consoledispatcher.ConsoleDispatcher.add_select</code> adds any callback to the console dispatcher system for handling selection.</p> <p>meth:<code>~sbs_utils.consoledispatcher.ConsoleDispatcher.add_message</code> adds any callback to the console dispatcher system for handling messages.</p> Python <pre><code>def some_select_handler(self, sim, other_id):\n   pass\n\ndef some_message_handler(self, sim, message, other_id):\n   pass\n\ndef some_function(self, sim, message, player_id):\n   ConsoleDispatcher.add_select(some_id, 'comms_targetUID', some_select_handler)\n   ConsoleDispatcher.add_message(some_id, 'comms_targetUID', some_message_handler)\n</code></pre>"},{"location":"api/dispatch/console_dispatcher/#api-consoledispatcher-module","title":"API consoledispatcher module","text":""},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher","title":"<code>ConsoleDispatcher</code>","text":""},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_always_select","title":"<code>add_always_select(console, cb)</code>","text":"<p>add a target for console selection :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_default_message","title":"<code>add_default_message(console, cb)</code>","text":"<p>add a target for console message</p> <p>:param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx, message and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_default_select","title":"<code>add_default_select(console, cb)</code>","text":"<p>add a target for console selection :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_message","title":"<code>add_message(an_id, console, cb)</code>","text":"<p>add a target for console message</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx, message and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_message_pair","title":"<code>add_message_pair(an_id, another, console, cb)</code>","text":"<p>add a target for console message</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx, message and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_select","title":"<code>add_select(an_id, console, cb)</code>","text":"<p>add a target for console selection</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.add_select_pair","title":"<code>add_select_pair(an_id, another_id, console, cb)</code>","text":"<p>add a target for console selection</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string :param cb: call back function :type cb:  should have arguments of other ctx and object's id</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.dispatch_message","title":"<code>dispatch_message(event, console)</code>","text":"<p>dispatches a console message</p> <p>:param message_tag: The message :type message_tag: string :param player_id: A player ship ID :type player_id: int :param console: The consoles unique ID :type console: string :param other_id: A non player ship ID player :type other_id: int</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.dispatch_select","title":"<code>dispatch_select(event)</code>","text":"<p>dispatches a console selection</p> <p>:param player_id: A player ship ID :type player_id: int :param console: The consoles unique ID :type console: string :param other_id: A non player ship ID player :type other_id: int</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.remove_message","title":"<code>remove_message(an_id, console, cb=None)</code>","text":"<p>remove a target for console messages</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.remove_message_pair","title":"<code>remove_message_pair(an_id, another_id, console)</code>","text":"<p>remove a target for console messages</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.remove_select","title":"<code>remove_select(an_id, console, cb=None)</code>","text":"<p>remove a target for console selection</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.ConsoleDispatcher.remove_select_pair","title":"<code>remove_select_pair(an_id, another_id, console)</code>","text":"<p>remove a target for console selection</p> <p>:param an_id: A ships ID player or non-player :type an_id: int :param console: The consoles unique ID :type console: string</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.MCommunications","title":"<code>MCommunications</code>","text":""},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.MCommunications.comms_message","title":"<code>comms_message(message, an_id, event)</code>","text":"<p>handle a comms message</p> <p>:param message_tag: The message :type message_tag: string :param an_id: The other ship involved :type an_id: int</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.MCommunications.comms_selected","title":"<code>comms_selected(an_id, event)</code>","text":"<p>handle a comms selection :param an_id: The other ship involved :type an_id: int</p>"},{"location":"api/dispatch/console_dispatcher/#sbs_utils.consoledispatcher.MCommunications.enable_comms","title":"<code>enable_comms(face_desc=None)</code>","text":"<p>includes in ConsoleDispatch system</p> <p>:param face_desc: Face Description :type face_desc: string</p>"},{"location":"api/dispatch/damage_dispatcher/","title":"The Damage Dispatcher","text":"<p>The DamageDispatcher is used to route damage events to an object interested in the damage.</p>"},{"location":"api/dispatch/damage_dispatcher/#artemis-cosmos-damage-system","title":"Artemis Cosmos damage system","text":"<p>Artemis Cosmos calls the script function HandleDamageEvent when an item receives damage.</p>"},{"location":"api/dispatch/damage_dispatcher/#sbs_utils-damage-system","title":"sbs_utils damage system","text":"<p>The DispatcherDispatcher is intended receive these and route them to callback functions. This can further be used to direct these to classes that represent the ships enabling the handling of this code to be handled in context of the ship(s) involved.</p> <p>The HandleDamage should call </p> Python <pre><code>def HandleDamageEvent(sim, damage_event):\n DamageDispatcher.dispatch_damage(sim,damage_event)\n</code></pre> <p>Importing the hookhandlers module it does by default.</p> Python <pre><code>from sbs_utils.handlerhooks import *\n# no longer need to implement handlers in script.py\n</code></pre>"},{"location":"api/dispatch/damage_dispatcher/#being-notified-of-damage","title":"Being notified of damage","text":""},{"location":"api/dispatch/damage_dispatcher/#source-of-damage","title":"Source of damage","text":"Python <pre><code>class Harvester(SpaceObject, MSpawnActive):\n\n   def spawn(self, sim, v, side):\n      ship = super().spawn_v(sim,v, None, side,  \"Cargo\", \"behav_npcship\")\n      DamageDispatcher.add_source(self.id, self.on_damage_source)\n      return ship\n\n   def on_damage_source(self, sim, damage_event):\n      pass\n</code></pre>"},{"location":"api/dispatch/damage_dispatcher/#target-of-damage","title":"Target of damage","text":"Python <pre><code>class Asteroid(SpaceObject, MSpawnActive):\n\n   def spawn(self, sim, v, side):\n      ship = super().spawn_v(sim,v, None, side,  \"Asteroid 1\", \"behav_asteroid\")\n      DamageDispatcher.add_target(self.id, self.on_damage_target)\n      return ship\n\n   def on_damage_target(self, sim, damage_event):\n      pass\n</code></pre> <p>damage_amount: float, how much damage was done  damage_type: string, tag of damage type. 'destroyed' means that this event is really a dead event, not a damage event  event_time: long int, time this damage occured, compare to simulation.time_tick_counter  source_id: int, ID of unit that caused the damage.  Might be zero.  source_parent_id: int, ID of PARENT of unit that caused the damage.  Might be zero.  target_id: int, ID of unit that suffered the damage</p>"},{"location":"api/dispatch/damage_dispatcher/#api-damagedispatcher-module","title":"API: damagedispatcher module","text":""},{"location":"api/dispatch/tick_dispatcher/","title":"TickDispatcher","text":"<p>Artemis Cosmos runs the python script at a set interval (currently once a second). This is done via the HandleSimulationTick method.</p>"},{"location":"api/dispatch/tick_dispatcher/#usage","title":"Usage","text":"<p>The TickDispatcher is used to create tasks that are called when the HandleSimulationTick is called. The function meth:<code>~sbs_utils.tickdispatcher.TickDispatcher.dispatch_tick</code> should be called in HandleSimulationTick, and ideally this is the only code that is needed.</p> Python <pre><code>   def  HandleSimulationTick(sim):\n      TickDispatcher.dispatch_tick(sim)\n</code></pre> <p>Importing the hookhandlers module it does by default.</p> Python <pre><code>   from sbs_utils.handlerhooks import *\n   # no longer need to implement handlers in script.py\n</code></pre> <p>One could implement their own way of handling time and tick related code, the goal of the TickDispatcher is to have a common way to organize this logic.</p> <p>A TickTask is similar to Artemis XML's timer events and are ideally more efficient since they only live while they are relevant.</p> <p>To create a TickTask you can use one of two functions.</p> <p> will schedule a task that is run only one time.</p> <p> will schedule to run multiple times or continuously.</p> <p>Both methods take the simulation used to track the start time, a callback function, a delay time. do_interval additionally optionally takes the number of times it should run. The default is None, which is meant to indicate run continuously.</p> <p>The callback functions will receive the simulation and the task as arguments. Class methods used as a callback will receive 'self' as the first argument.</p>"},{"location":"api/dispatch/tick_dispatcher/#example-run-a-function-once","title":"Example: run a function once","text":"<p>The following will run the function after 5 seconds.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\ndef call_me_later(sim, task):\n   print('Hello, Tick Tasks')\n\n# Some other place\nTickDispatcher.do_once(sim, call_me_later, 5)   \n</code></pre> <p>The following will run a class method on an object after 5 seconds.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\nclass MyPlayer(PlayerShip):\n   def call_me_later(self, sim, task):\n      print('Hello, Tick Tasks')\n\n# Some other place\nplayer_one = MyPlayer()\nTickDispatcher.do_once(sim, player_one.call_me_later, 5)   \n</code></pre> <p>The following will run a class method on an object after 5 seconds. This one show using self.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\nclass MyPlayer(PlayerShip):\n   def call_me_later(self, sim, task):\n      print('Hello, Tick Tasks')\n\n   def some_other_method(self):      \n      TickDispatcher.do_once(sim, self.call_me_later, 5)   \n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#example-run-a-function-multiple-times","title":"Example: run a function multiple times","text":"<p>The following will run the function every 5 seconds, 4 times</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\ndef call_me_later(sim, task):\n   print('Hello, Tick Tasks')\n\n# Some other place\nTickDispatcher.do_interval(sim, call_me_later, 5, 4)   \n</code></pre> <p>The following will run a class method on an object after 5 seconds four times. This one show using self.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\nclass MyPlayer(PlayerShip):\n   def call_me_later(self, sim, task):\n      print('Hello, Tick Tasks')\n\n   def some_other_method(self):      \n      TickDispatcher.do_interval(sim, self.call_me_later, 5,4)   \n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#example-run-continuously","title":"Example: run continuously","text":"<p>The following will run the function every tick. This can be done with classes as well, those examples will be similar to above.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\ndef call_me_later(sim, task):\n   print('Hello, Tick Tasks')\n\n# Some other place\nTickDispatcher.do_interval(sim, call_me_later, 0)   \n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#example-stopping-a-task","title":"Example: Stopping a task","text":"<p>The following will run as task and stop it when a condition is met.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\nclass MyPlayer(PlayerShip):\n   def call_me_later(self, sim, task):\n      print('Hello, Tick Tasks')\n      if some_thing_that_stops_it:\n         task.stop()\n\n   def some_other_method(self):      \n      TickDispatcher.do_interval(sim, self.call_me_later, 5)   \n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#example-passing-data","title":"Example: passing data","text":"<p>The following will run will pass data to the callback.</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\ndef call_me_later(sim, task):\n   print('Hello, Tick Tasks')\n   # use the data attached to the task\n   print(task.data)\n\n# Some other place\nthetask = TickDispatcher.do_interval(sim, call_me_later, 0)\n# attach data to the task\nthetask.data = 42\n</code></pre> <p>For completeness: using the object 'self' data</p> Python <pre><code>from sbs_utils.tickdispatcher import TickDispatcher\n\nclass MyPlayer(PlayerShip):\n   data = 42\n   def call_me_later(self, sim, task):\n      print('Hello, Tick Tasks')\n      print(self.data)\n\n   def some_other_method(self):      \n      TickDispatcher.do_interval(sim, self.call_me_later, 5)   \n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#api-tickdispatcher-module","title":"API: tickdispatcher module","text":""},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickDispatcher","title":"<code>TickDispatcher</code>","text":"<p>The Tick Dispatcher is used to manager timed items via the HandleSimulationTick</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickDispatcher.dispatch_tick","title":"<code>dispatch_tick()</code>","text":"<p>Process all the tasks The task is updated to see if it should be triggered,  and if it is completed</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickDispatcher.do_interval","title":"<code>do_interval(cb, delay, count=None)</code>","text":"<p>Create and return a task that executes more than once</p> <p>:param ctx: The Artemis Cosmos simulation :param cb: call back function :param delay: the time in seconds for the task to delay :type delay: int :param count: The number of times to run None mean infinite :type count: int or None :return: The task is returned and can be used to attach data for future use. :rtype: TickFTask</p> <p>example:</p> <p>.. code-block:: python</p> <pre><code>def some_use():\n    t = TickDispatcher.do_interval(the_callback, 5)\n    t.data = some_data\n\ndef the_callback(t):\n    print(t.some_data)\n    if t.some_data.some_condition:\n        t.stop()\n</code></pre>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickDispatcher.do_once","title":"<code>do_once(cb, delay)</code>","text":"<p>Create and return a task that executes once</p> <p>:param delay: the time in seconds for the task to delay :type delay: int :return: The task is returned and can be used to attach data for future use. :rtype: TickTask</p> example <p>def some_use():     t = TickDispatcher.do_once(the_callback, 5)     t.data = some_data</p> <p>def the_callback(t):     print(t.some_data)</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickTask","title":"<code>TickTask</code>","text":"<p>               Bases: <code>Agent</code></p> <p>A task that is managed by the TickDispatcher</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickTask.done","title":"<code>done</code>  <code>property</code>","text":"<p>returns if this is the task will not run in the future</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickTask.__init__","title":"<code>__init__(cb, delay, count)</code>","text":"<p>new TickTask</p> <p>:param sim: The Artemis Cosmos simulation :param cb: call back function :param delay: the time in seconds for the task to delay :type delay: int :param count: The number of times to run None mean infinite :type count: int or None</p>"},{"location":"api/dispatch/tick_dispatcher/#sbs_utils.tickdispatcher.TickTask.stop","title":"<code>stop()</code>","text":"<p>Stop a tasks The task is removed</p>"},{"location":"api/engine/sbs/","title":"The sbs module","text":"<p>The SBS Module is provided by the Artemis cosmos engine</p>"},{"location":"api/engine/sbs/#overview","title":"Overview","text":""},{"location":"api/engine/sbs/#api-sbs","title":"API: SBS","text":"<p>TDOO fix ::: sbs</p>"},{"location":"api/procedural/","title":"The procedural API","text":"<p>The Procedural API is a set of functions that reduce and limit the uses of object oriented syntax.</p> <p>These functions can be used in Python, Python using the MAST runtime and in the MAST Language. They represent a common way to interact with the Agent model.</p> <p>The procedural API is how most scripters will interact with the system.</p>"},{"location":"api/procedural/behavior/","title":"The behavior tree system","text":""},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_export_variable","title":"<code>bt_export_variable(name, value)</code>","text":"<p>sets a variable on the main task of a behavior tree</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The variable name to set</p> required <code>value</code> <code>any</code> <p>The value to set</p> required"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_get_variable","title":"<code>bt_get_variable(name, defa_value=None)</code>","text":"<p>sets a variable on the blackboard data of a behavior tree</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The variable name to set</p> required <code>defa_value</code> <code>any</code> <p>The value if the name is not found</p> <code>None</code>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_invert","title":"<code>bt_invert(a_bt_promise)</code>","text":"<p>behavior tree invert</p> <p>Parameters:</p> Name Type Description Default <code>a_bt_promise</code> <code>promise</code> <p>Invert the success or failure of a behavior promise</p> required <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until failure or success</p>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_repeat","title":"<code>bt_repeat(a_bt_promise, count)</code>","text":"<p>reruns behavior tree a number of times Behavior promise has a reset() to rerun</p> <p>Parameters:</p> Name Type Description Default <code>a_bt_promise</code> <code>promise</code> <p>The promise to run</p> required <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until success</p>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_sel","title":"<code>bt_sel(*args, **kwargs)</code>","text":"<p>behavior tree select returns success if any task has success</p> <p>Parameters:</p> Name Type Description Default <code>args</code> <code>labels</code> <p>The arguments are labels</p> <code>()</code> <code>kwargs</code> <code>any</code> <p>data = will pass data the the behavior tasks.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until failure or success</p>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_seq","title":"<code>bt_seq(*args, **kwargs)</code>","text":"<p>behavior tree sequence only returns success if the whole sequence has success</p> <p>Parameters:</p> Name Type Description Default <code>args</code> <code>labels</code> <p>The arguments are labels</p> <code>()</code> <code>kwargs</code> <code>any</code> <p>data = will pass data the the behavior tasks.</p> <code>{}</code> <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until failure or success</p>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_set_variable","title":"<code>bt_set_variable(name, value)</code>","text":"<p>sets a variable on the blackboard data of a behavior tree</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The variable name to set</p> required <code>value</code> <code>any</code> <p>The value to set</p> required"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_until_fail","title":"<code>bt_until_fail(a_bt_promise)</code>","text":"<p>reruns behavior tree until failure Behavior promise has a reset() to rerun</p> <p>Parameters:</p> Name Type Description Default <code>a_bt_promise</code> <code>promise</code> <p>The promise to run</p> required <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until failure</p>"},{"location":"api/procedural/behavior/#sbs_utils.procedural.behavior.bt_until_success","title":"<code>bt_until_success(a_bt_promise)</code>","text":"<p>reruns behavior tree until success  Behavior promise has a reset() to rerun</p> <p>Parameters:</p> Name Type Description Default <code>a_bt_promise</code> <code>promise</code> <p>The promise to run</p> required <p>Returns:</p> Name Type Description <code>Promise</code> <p>A Promise that runs until success</p>"},{"location":"api/procedural/comms/","title":"The comms system","text":""},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms","title":"<code>comms(path=None, buttons=None, timeout=None)</code>","text":"<p>Present the comms buttons. and wait for a choice. The timeout can be any promise, but typically is a made using the timeout function.</p> <p>Parameters:</p> Name Type Description Default <code>buttons</code> <code>dict</code> <p>An dict of button dat key = button properties value label to process button press</p> <code>None</code> <code>timeout</code> <code>Promise</code> <p>The comms will end if this promise finishes. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>Promise</code> <code>CommsPromise</code> <p>A Promise that finishes when a comms button is selected</p>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_broadcast","title":"<code>comms_broadcast(ids_or_obj, msg, color=None)</code>","text":"<p>Send text to the text waterfall The ids can be player ship ids or client/console ids</p> <p>Parameters:</p> Name Type Description Default <code>ids_or_obj</code> <code>id or objecr</code> <p>A set or single id or object to send to, </p> required <code>msg</code> <code>str</code> <p>The text to send</p> required <code>color</code> <code>str</code> <p>The Color for the text. Defaults to \"#fff\".</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_info","title":"<code>comms_info(name, face=None, color=None)</code>","text":"<p>Set the communication information status in the comms console</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The name to present</p> required <code>face</code> <code>str</code> <p>The face string of the face. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The colot of the text. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_message","title":"<code>comms_message(msg, from_ids_or_obj, to_ids_or_obj, title=None, face=None, color=None, title_color=None, is_receive=True, from_name=None)</code>","text":"<p>Send a Comms message  This is a lower level function that lets you have more control the sender and receiver</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>from_ids_or_obj</code> <code>idset</code> <p>The senders of the message</p> required <code>to_ids_or_obj</code> <code>idset</code> <p>The set or receivers</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> <code>None</code> <code>face</code> <code>str</code> <p>The face string to use. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The color of the body text. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The color of the title text. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_navigate","title":"<code>comms_navigate(path, face=None, comms_badge=None)</code>","text":"<p>Change the comms path for what buttons to present</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>description</p> required <code>face</code> <code>str</code> <p>description. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_navigate_override","title":"<code>comms_navigate_override(ids_or_obj, sel_ids_or_obj, path=None, path_must_match=True)</code>","text":"<p>Change the comms path for what buttons to present for specific comms  pair. You need the two things in the relationship. If the things are selected in comms, this is a way to refresh the buttons. If the code is in the comms for the things involved, just use comms_navigate This is for a non comms task</p> <p>Parameters:</p> Name Type Description Default <code>ids_or_obj</code> <code>id | set | list</code> <p>The id, set of ids, or list of objects of player ships</p> required <code>sel_ids_or_obj</code> <code>id | set | list</code> <p>The id, set of ids, or list of objects of other ship</p> required <code>path</code> <code>str</code> <p>if none it will use the current path</p> <code>None</code> <code>path_must_match</code> <code>bool</code> <p>Typically the path must match to avoid player confusion</p> <code>True</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_receive","title":"<code>comms_receive(msg, title=None, face=None, color=None, title_color=None)</code>","text":"<p>Receive a message on a player ship from another ship It uses the current context to determine the sender and receiver. typically from the event that it being handled provide the context.</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> <code>None</code> <code>face</code> <code>str</code> <p>The face string of the face to use. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The body text color. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The title text color. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_receive_internal","title":"<code>comms_receive_internal(msg, ids_or_obj=None, from_name=None, title=None, face=None, color=None, title_color=None)</code>","text":"<p>Receiver a message within a player ship It uses the current context to determine the sender and receiver. typically from the event that it being handled provide the context.</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> <code>None</code> <code>face</code> <code>str</code> <p>The face string of the face to use. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The body text color. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The title text color. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_speech_bubble","title":"<code>comms_speech_bubble(msg, seconds=3, color=None, client_id=None, selected_id=None)</code>","text":"<p>Transmits a message from a player ship It uses the current context to determine the sender and receiver. typically from the event that it being handled provide the context.</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> required <code>face</code> <code>str</code> <p>The face string of the face to use. Defaults to None.</p> required <code>color</code> <code>str</code> <p>The body text color. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The title text color. Defaults to None.</p> required"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_transmit","title":"<code>comms_transmit(msg, title=None, face=None, color=None, title_color=None)</code>","text":"<p>Transmits a message from a player ship It uses the current context to determine the sender and receiver. typically from the event that it being handled provide the context.</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> <code>None</code> <code>face</code> <code>str</code> <p>The face string of the face to use. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The body text color. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The title text color. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/comms/#sbs_utils.procedural.comms.comms_transmit_internal","title":"<code>comms_transmit_internal(msg, ids_or_obj=None, to_name=None, title=None, face=None, color=None, title_color=None)</code>","text":"<p>Transmits a message within a player ship It uses the current context to determine the sender and receiver. typically from the event that it being handled provide the context.</p> <p>Parameters:</p> Name Type Description Default <code>msg</code> <code>str</code> <p>The message to send</p> required <code>title</code> <code>str</code> <p>The title text. Defaults to None.</p> <code>None</code> <code>face</code> <code>str</code> <p>The face string of the face to use. Defaults to None.</p> <code>None</code> <code>color</code> <code>str</code> <p>The body text color. Defaults to \"#fff\".</p> <code>None</code> <code>title_color</code> <code>str</code> <p>The title text color. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/cosmos/","title":"The cosmos functions","text":""},{"location":"api/procedural/cosmos/#sbs_utils.procedural.cosmos.sim_create","title":"<code>sim_create()</code>","text":"<p>Creates a new simulation</p>"},{"location":"api/procedural/cosmos/#sbs_utils.procedural.cosmos.sim_pause","title":"<code>sim_pause()</code>","text":"<p>pauses the simulation</p>"},{"location":"api/procedural/cosmos/#sbs_utils.procedural.cosmos.sim_resume","title":"<code>sim_resume()</code>","text":"<p>resume the simulation</p>"},{"location":"api/procedural/execution/","title":"The execution system","text":""},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.AWAIT","title":"<code>AWAIT(promise)</code>","text":"<p>Creates a entity to wait (non-blocking) for a promise to complete</p> <p>Parameters:</p> Name Type Description Default <code>Promise</code> <p>A promise</p> required"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.END","title":"<code>END()</code>","text":"<p>End the current task Returns:     PollResults: The poll results of the jump. used by the task.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.get_shared_variable","title":"<code>get_shared_variable(key, default=None)</code>","text":"<p>get the value of a variable at shared scope. Or returns the passed default if it doesn't exist.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>the variable name</p> required <code>default</code> <code>optional</code> <p>What to return if the variable doesn't exist. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>any</code> <code>any</code> <p>The value of the variable, or default value</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.get_variable","title":"<code>get_variable(key, default=None)</code>","text":"<p>get the value of a variable at task scope. Or returns the passed default if it doesn't exist.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>the variable name</p> required <code>default</code> <code>optional</code> <p>What to return if the variable doesn't exist. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>any</code> <code>any</code> <p>The value of the variable, or default value</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.gui_sub_task_schedule","title":"<code>gui_sub_task_schedule(label, data=None, var=None)</code>","text":"<p>create an new task and start running at the specified label This is a GUI sub task. It will be marked to end if a new GUI is presented.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required <code>data</code> <code>duct</code> <p>Data to initialie task variables. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Set the variable to the task created. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>MastAsyncTask</code> <code>MastAsyncTask</code> <p>The MAST task created</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.gui_task_jump","title":"<code>gui_task_jump(label)</code>","text":"<p>Will redirect the gui_task to a new label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.jump","title":"<code>jump(label)</code>","text":"<p>reset the program flow to a label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to jump to</p> required <p>Returns:</p> Name Type Description <code>PollResults</code> <code>PollResults</code> <p>The poll results of the jump. used by the task.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.log","title":"<code>log(message, name=None, level=None, use_mast_scope=False)</code>","text":"<p>generate a log message</p> <pre><code>note: MAST exposes mast_log as log so it by default uses MAST scope\n</code></pre> <p>Args:     message (str): The message to log     name (str, optional): Name of the logger to log to. Defaults to None.     level (str, optional): The logging level to use. Defaults to None.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.logger","title":"<code>logger(name=None, file=None, var=None, std_err=False, level=None, format=None, file_mode='w')</code>","text":"<p>create or retrieve a logger</p> <p>Parameters:</p> Name Type Description Default <code>name</code> <code>str</code> <p>The name of the logger. Defaults to None.</p> <code>None</code> <code>file</code> <code>str</code> <p>The file to log to. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>The name of a string variable to log to. Defaults to None.</p> <code>None</code> <code>std_err</code> <code>bool</code> <p>Include std_err for logger</p> <code>False</code> <code>level</code> <code>str</code> <p>The logger level follow python's </p> <code>None</code> <code>format</code> <p>(str, option): The format of the log string following python's logger formats</p> <code>None</code> <code>file_mode</code> <p>(str): 'w' = write (default), 'a' append</p> <code>'w'</code>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.mast_log","title":"<code>mast_log(message, name=None, level=None, use_mast_scope=True)</code>","text":"<p>generate a log message using MAST current task</p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>str</code> <p>The message to log</p> required <code>name</code> <code>str</code> <p>Name of the logger to log to. Defaults to None.</p> <code>None</code> <code>level</code> <code>str</code> <p>The logging level to use. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.set_shared_variable","title":"<code>set_shared_variable(key, value)</code>","text":"<p>set the value of a variable at shared scope. Or returns the passed default if it doesn't exist.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>the variable name</p> required <code>value</code> <code>any</code> <p>The value to set the variable to</p> required"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.set_variable","title":"<code>set_variable(key, value)</code>","text":"<p>set the value of a variable at task scope. Or returns the passed default if it doesn't exist.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>the variable name</p> required <code>value</code> <code>any</code> <p>The value to set the variable to</p> required"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.sub_task_all","title":"<code>sub_task_all(*args, **kwargs)</code>","text":"<p>Creates a task for each argument that is a label. Also supports a data named argument to pass the data to all the tasks.</p> <p>Parameters:</p> Name Type Description Default <code>args</code> <code>0..n labels</code> <p>the labels to schedule.</p> <code>()</code> <code>data</code> <code>dict</code> <p>keyword arg to pass data to the tasks.</p> required <p>Returns:     Promise: A promise that is finished when all tasks are completed.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.sub_task_schedule","title":"<code>sub_task_schedule(label, data=None, var=None)</code>","text":"<p>create an new task and start running at the specified label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required <code>data</code> <code>duct</code> <p>Data to initialie task variables. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Set the variable to the task created. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>MastAsyncTask</code> <code>MastAsyncTask</code> <p>The MAST task created</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_all","title":"<code>task_all(*args, **kwargs)</code>","text":"<p>Creates a task for each argument that is a label. Also supports a data named argument to pass the data to all the tasks.</p> <p>Parameters:</p> Name Type Description Default <code>args</code> <code>0..n labels</code> <p>the labels to schedule.</p> <code>()</code> <code>data</code> <code>dict</code> <p>keyword arg to pass data to the tasks.</p> required <p>Returns:     Promise: A promise that is finished when all tasks are completed.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_any","title":"<code>task_any(*args, **kwargs)</code>","text":"<p>Creates a task for each argument that is a label. Also supports a data named argument to pass the data to all the tasks.</p> <p>Parameters:</p> Name Type Description Default <code>args</code> <code>0..n labels</code> <p>the labels to schedule.</p> <code>()</code> <code>data</code> <code>dict</code> <p>keyword arg to pass data to the tasks.</p> required <p>Returns:     Promise: A promise that is finished when any of the tasks completes.</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_cancel","title":"<code>task_cancel(task)</code>","text":"<p>ends the specified task</p> <p>Parameters:</p> Name Type Description Default <code>task</code> <code>MastAsyncTask</code> <p>The task to end</p> required"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_schedule","title":"<code>task_schedule(label, data=None, var=None, defer=False, inherit=True, unscheduled=False)</code>","text":"<p>create an new task and start running at the specified label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required <code>data</code> <code>duct</code> <p>Data to initialie task variables. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Set the variable to the task created. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>MastAsyncTask</code> <code>MastAsyncTask</code> <p>The MAST task created</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_schedule_client","title":"<code>task_schedule_client(label, data=None, var=None)</code>","text":"<p>create an new task and start running at the specified label assuring it runs on the client (which should be the same as task_schedule, but this is more explicit)</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required <code>data</code> <code>duct</code> <p>Data to initialie task variables. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Set the variable to the task created. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>MastAsyncTask</code> <code>MastAsyncTask</code> <p>The MAST task created</p>"},{"location":"api/procedural/execution/#sbs_utils.procedural.execution.task_schedule_server","title":"<code>task_schedule_server(label, data=None, var=None)</code>","text":"<p>create an new task and start running at the specified label assuring it runs on the server</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str or label</code> <p>The label to run</p> required <code>data</code> <code>duct</code> <p>Data to initialie task variables. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Set the variable to the task created. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>MastAsyncTask</code> <code>MastAsyncTask</code> <p>The MAST task created</p>"},{"location":"api/procedural/grid/","title":"Grid Object system","text":""},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.get_open_grid_points","title":"<code>get_open_grid_points(id_or_obj)</code>","text":"<p>Gets a list of open grid locations</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>agent</code> <p>agent id or object to check</p> required <p>Returns:</p> Name Type Description <code>set</code> <code>set[Vec3]</code> <p>a set of Vec3 with x and y set</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_clear_detailed_status","title":"<code>grid_clear_detailed_status(id_or_obj)</code>","text":"<p>clears the detailed status string of a grid object</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent id of object</p> required"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_clear_speech_bubble","title":"<code>grid_clear_speech_bubble(id_or_obj)</code>","text":"<p>Clear the speech bubble for a grid object</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>agent id or object of the grid object</p> required"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_clear_target","title":"<code>grid_clear_target(grid_obj_or_set)</code>","text":"<p>Clear the target of a grid object</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj_or_set</code> <code>Agent | int | set[Agent | int]</code> <p>the id of the object or set</p> required"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_close_list","title":"<code>grid_close_list(grid_obj, the_set, max_dist=None, filter_func=None)</code>","text":"<p>Find and target the closest object matching the criteria</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj</code> <code>Agent | int</code> <p>The agent or id</p> required <code>the_set</code> <code>set[Agent]</code> <p>The items to test. Defaults to None.</p> required <code>max_dist</code> <code>float</code> <p>max distance. Defaults to None.</p> <code>None</code> <code>filter_func</code> <code>Callable</code> <p>additional filer function. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <code>list[CloseData]</code> <p>list[CloseData]: The gird close data of the closest objects</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_closest","title":"<code>grid_closest(grid_obj, target_set=None, max_dist=None, filter_func=None)</code>","text":"<p>Find and target the closest object matching the criteria</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj</code> <code>Agent | int</code> <p>The agent or id</p> required <code>target_set</code> <code>set[Agent]</code> <p>The items to test. Defaults to None.</p> <code>None</code> <code>max_dist</code> <code>float</code> <p>max distance. Defaults to None.</p> <code>None</code> <code>filter_func</code> <code>Callable</code> <p>additional filer function. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>CloseData</code> <code>CloseData</code> <p>The gird close data of the closest object</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_delete_objects","title":"<code>grid_delete_objects(ship_id_or_obj)</code>","text":"<p>Delete all grid objects for the given ship. Args:     ship_id_or_obj (Agent | int): The agent or id of the ship.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_detailed_status","title":"<code>grid_detailed_status(id_or_obj, status, color=None)</code>","text":"<p>sets the detailed status of a grid object</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>Agent id or object</p> required <code>status</code> <code>str</code> <p>The detailed status string</p> required <code>color</code> <code>str</code> <p>change the color of the detailed status text. None does not change the current value</p> <code>None</code>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_get_grid_current_theme","title":"<code>grid_get_grid_current_theme()</code>","text":"<p>Get the current grid theme. Returns:     dict: The grid theme dictionary     * key (str): The key of the theme data, e.g. <code>name</code>, <code>colors</code>, <code>icons</code>, etc.     * value (any): The value of the theme data.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_get_grid_data","title":"<code>grid_get_grid_data()</code>","text":"<p>Get the grid data from all the grid_data.json files</p> <p>Returns:</p> Name Type Description <code>dict</code> <code>dict</code> <p>a dictionary of grid data objects.</p> <code>dict</code> <ul> <li>key (str): The key of the dict, which is a ship key as defined in shipData.</li> </ul> <code>dict</code> <ul> <li>value (dict): A dict with <code>grid_objects</code> as a key, and a list of grid object data as the value.</li> </ul>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_get_grid_named_theme","title":"<code>grid_get_grid_named_theme(name)</code>","text":"<p>Get the grid theme data by name. Args:     name (str): The name of hte grid theme data. Returns:     dict: The grid theme dictionary     * key (str): The key of the theme data, e.g. <code>name</code>, <code>colors</code>, <code>icons</code>, etc.     * value (any): The value of the theme data.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_get_grid_theme","title":"<code>grid_get_grid_theme()</code>","text":"<p>Get the grid data from all the grid_data.json files</p> <p>Returns:</p> Name Type Description <code>dict</code> <p>a dictionary of grid theme data</p> <ul> <li>key (str): The ship key associated with the grid theme</li> </ul> <ul> <li>value (dict): The grid theme data</li> </ul>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_get_item_theme_data","title":"<code>grid_get_item_theme_data(roles, name=None)</code>","text":"<p>Get the item theme data for grid objects with the specified roles, for the optionally specified theme. Args:     roles (str): A comma-separated list of roles to use.     name (str, optional): The name of the grid data theme. Default is None. Returns:     RetVal: An object containing the <code>icon</code>, <code>scale</code>, <code>color</code>, and <code>damage_color</code> for the grid objects that match the roles.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_objects","title":"<code>grid_objects(so_id)</code>","text":"<p>Get a set of agent ids of the grid objects on the specified ship</p> <p>Parameters:</p> Name Type Description Default <code>so_id</code> <code>Agent | int</code> <p>agent id or object </p> required <p>Returns:</p> Type Description <code>set[int]</code> <p>set[int]: a set of agent ids</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_objects_at","title":"<code>grid_objects_at(so_id, x, y)</code>","text":"<p>Get a set of agent ids of the grid objects on the specified ship, at the location specified</p> <p>Parameters:</p> Name Type Description Default <code>so_id</code> <code>Agent | int</code> <p>agent id or object </p> required <code>x</code> <code>int</code> <p>The x grid location</p> required <code>y</code> <code>int</code> <p>The y grid location</p> required <p>Returns:</p> Type Description <code>set[int]</code> <p>set[int]: A set of agent ids</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_pos_data","title":"<code>grid_pos_data(id)</code>","text":"<p>get a set of agent ids of the grid objects on the specified ship, at the location specified</p> <p>Parameters:</p> Name Type Description Default <code>so_id</code> <code>agent</code> <p>agent id or object </p> required <code>x</code> <code>int</code> <p>The x grid location</p> required <code>y</code> <code>int</code> <p>The y grid location</p> required <p>Returns:</p> Name Type Description <code>tuple</code> <code>(float, float, float)</code> <p>x, y, path_length</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_remove_move_role","title":"<code>grid_remove_move_role(event)</code>","text":"<p>Remove the <code>_moving_</code> role from the grid object if the event has the <code>finished_path</code> sub_tag. Args:     event (event): The event that caused the removal</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_set_grid_current_theme","title":"<code>grid_set_grid_current_theme(i)</code>","text":"<p>Set the grid theme by index. Args:     i (int): The index of the grid theme to use.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_set_grid_named_theme","title":"<code>grid_set_grid_named_theme(name)</code>","text":"<p>Set the grid theme by name. Args:     name (str): The name of the grid theme, e.g. <code>cosmos</code> or <code>Retro</code>.</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_short_status","title":"<code>grid_short_status(id_or_obj, status, color=None, seconds=0, minutes=0)</code>","text":"<p>sets the short status (tool tip) and speech bubble text of a grid object</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>Agent id or object</p> required <code>status</code> <code>str</code> <p>The detailed status string</p> required <code>color</code> <code>str</code> <p>change the color of the detailed status text. None does not change the current value</p> <code>None</code> <code>seconds</code> <code>int</code> <p>The seconds for the speech bubble</p> <code>0</code> <code>minutes</code> <p>(int): The minutes for the speech bubble</p> <code>0</code>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_speech_bubble","title":"<code>grid_speech_bubble(id_or_obj, status, color=None, seconds=0, minutes=0)</code>","text":"<p>Sets the speech bubble text of a grid object. The text will disappear if the seconds/minutes are set</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>Agent id or object</p> required <code>status</code> <code>str</code> <p>The detailed status string</p> required <code>color</code> <code>str</code> <p>change the color of the detailed status text. None does not change the current value</p> <code>None</code> <code>seconds</code> <code>int</code> <p>The seconds for the speech bubble</p> <code>0</code> <code>minutes</code> <p>(int): The minutes for the speech bubble</p> <code>0</code>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_target","title":"<code>grid_target(grid_obj_or_set, target_id, speed=0.01)</code>","text":"<p>Set a grid object to target the location of another grid object</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj_or_set</code> <code>Agent | int | set[Agent | int]</code> <p>an id, object or set of agent(s)</p> required <code>target_id</code> <code>Agent</code> <p>an agent id or object </p> required <code>speed</code> <code>float</code> <p>the speed to move. Defaults to 0.01.</p> <code>0.01</code>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_target_closest","title":"<code>grid_target_closest(grid_obj_or_set, target_set=None, max_dist=None, filter_func=None)</code>","text":"<p>Find and target the closest object matching the criteria</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj_or_set</code> <code>Agent | int | set[Agent | int]</code> <p>The agent or set</p> required <code>target_set</code> <code>set[Agent]</code> <p>The items to test. Defaults to None.</p> <code>None</code> <code>max_dist</code> <code>float</code> <p>max distance. Defaults to None.</p> <code>None</code> <code>filter_func</code> <code>Callable</code> <p>additional filer function. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>GridCloseData</code> <code>CloseData</code> <p>The gird close data of the closest object</p>"},{"location":"api/procedural/grid/#sbs_utils.procedural.grid.grid_target_pos","title":"<code>grid_target_pos(grid_obj_or_set, x, y, speed=0.01)</code>","text":"<p>Set the grid object go to the target location</p> <p>Parameters:</p> Name Type Description Default <code>grid_obj_or_set</code> <code>Agent | int | set[Agent | int]</code> <p>An id, object or set of grid object agent(s)</p> required <code>x</code> <code>float</code> <p>x location</p> required <code>y</code> <code>float</code> <p>y location</p> required <code>speed</code> <code>float</code> <p>The grid object speed. Defaults to 0.01.</p> <code>0.01</code>"},{"location":"api/procedural/gui/","title":"GUI","text":""},{"location":"api/procedural/gui/#displaying-a-gui","title":"Displaying a gui","text":"<p>The gui module</p> <p>This module exposes the gui function</p> <p>The gui function is used to present the queued gui layout.</p> <p>gui() returns  Promise and therefore an await should be used to allow the gui to run. </p>  MAST <pre><code>gui_text(\"Hello, World\")\nawait gui()\n</code></pre> Example <p>To insert a blank part of the layout just call gui_blank::</p> <pre><code>gui_blank()\n</code></pre> <p>Proving a count will allow inserting multiple blanks::</p> <pre><code>gui_blank(4)\n</code></pre> <p>One use of blanks it to help center an element but also adding space::</p> <pre><code>gui_blank()\ngui_icon(...)\ngui_blank()\n</code></pre>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.gui.gui","title":"<code>gui(buttons=None, timeout=None)</code>","text":"<p>present the gui that has been queued up</p> <p>Parameters:</p> Name Type Description Default <code>buttons</code> <code>dict</code> <p>description. Defaults to None.</p> <code>None</code> <code>timeout</code> <code>promise</code> <p>A promise that ends the gui. Typically a timeout. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>Promise</code> <p>The promise for the gui, promise is done when a button is selected</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.gui.gui_properties_change","title":"<code>gui_properties_change(var, label)</code>","text":"<p>create an on change on the client GUI for a property</p> <p>Parameters:</p> Name Type Description Default <code>var</code> <code>str</code> <p>The variable to watch</p> required <code>label</code> <code>str or label</code> <p>The label to run</p> required"},{"location":"api/procedural/gui/#layout-related","title":"Layout related","text":"<p>This module exposes the gui_blank function</p> <p>The gui_blank function is used to insert a black space in a layout. Blanks are useful to add space.</p> Example <p>To insert a blank part of the layout just call gui_blank::</p> <pre><code>gui_blank()\n</code></pre> <p>Proving a count will allow inserting multiple blanks::</p> <pre><code>gui_blank(4)\n</code></pre> <p>One use of blanks it to help center an element but also adding space::</p> <pre><code>gui_blank()\ngui_icon(...)\ngui_blank()\n</code></pre>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.blank.gui_blank","title":"<code>gui_blank(count=1, style=None)</code>","text":"<p>adds an empty column to the current gui ow</p> <p>Parameters:</p> Name Type Description Default <code>style</code> <code>_type_</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.hole.gui_hole","title":"<code>gui_hole(count=1, style=None)</code>","text":"<p>adds an empty column that is used by the next item</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of columns to use</p> <code>1</code> <code>style</code> <code>_type_</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.row.gui_row","title":"<code>gui_row(style=None)</code>","text":"<p>queue a gui row</p> <p>Parameters:</p> Name Type Description Default <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.section.PageSubSection","title":"<code>PageSubSection</code>","text":""},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.section.PageSubSection.is_message_for","title":"<code>is_message_for(event)</code>","text":"<p>Used by MessageTrigger i.e. gui_message to know if message is for this object</p> <p>Parameters:</p> Name Type Description Default <code>event</code> <code>EVENT</code> <p>the engine event</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>if the gui_message MessageTrigger should be True</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.section.gui_region","title":"<code>gui_region(style=None)</code>","text":"<p>Create a new gui section that uses the area specified in the style</p> <p>Parameters:</p> Name Type Description Default <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.section.gui_section","title":"<code>gui_section(style=None)</code>","text":"<p>Create a new gui section that uses the area specified in the style</p> <p>Parameters:</p> Name Type Description Default <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.section.gui_sub_section","title":"<code>gui_sub_section(style=None)</code>","text":"<p>Create a new gui section that uses the area specified in the style</p> <p>Parameters:</p> Name Type Description Default <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#responding-to-gui-interactions","title":"Responding to gui interactions","text":""},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.message.gui_message","title":"<code>gui_message(layout_item, label=None)</code>","text":"<p>Trigger to watch when the specified layout element has a message</p> <p>Parameters:</p> Name Type Description Default <code>layout_item</code> <code>layout object</code> <p>The object to watch</p> required <p>Returns:</p> Name Type Description <code>trigger</code> <p>A trigger watches something and runs something when the trigger is reached</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.message.gui_message_callback","title":"<code>gui_message_callback(layout_item, cb)</code>","text":"<p>Trigger to watch when the specified layout element has a message</p> <p>Parameters:</p> Name Type Description Default <code>layout_item</code> <code>layout object</code> <p>The object to watch</p> required <p>Returns:</p> Name Type Description <code>trigger</code> <p>A trigger watches something and runs something when the trigger is reached</p>"},{"location":"api/procedural/gui/#gui-control-formatting","title":"Gui control formatting","text":""},{"location":"api/procedural/gui/#gui-controls","title":"GUI Controls","text":""},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.button.gui_button","title":"<code>gui_button(props, style=None, data=None, on_press=None, is_sub_task=False)</code>","text":"<p>Add a gui button</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>Properties. Usually just the text on the button</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None. End each style with a semicolon, e.g. <code>color:red;</code></p> <code>None</code> <code>data</code> <code>object</code> <p>The data to pass to the button's label</p> <code>None</code> <code>on_press</code> <code>(label, callable, Promise)</code> <p>Handle a button press, label is jumped to, callable is called, Promise has results set</p> <code>None</code> <code>is_sub_task</code> <code>bool</code> <p>Set to True if the button is only responding to the button. Use False only if the whole gui will be changed via <code>await gui()</code>. Default is False for backwards-compatibility.</p> <code>False</code> Valid Styles <p>area:      Format as <code>top, left, bottom, right</code>.      Just numbers indicates percentage of the section or page to cover.      Can also use <code>px</code> (pixels) or <code>em</code> (1em = height of text font).     Can combine different units, e.g. <code>5+5px, 3em, 100-10em, 50px;</code> is a valid area. color:     The color of the text background-color:     The background color of the button padding:     A gap inside the element (makes the button smaller, but the background still is there.) margin:      The gap outside the element (makes the button smaller).  col-width:      The width of the button justify:     Where the text is placed inside the button. <code>left</code>, <code>center</code>, or <code>right</code> font:     The font to use. Overrides the font in prefernces.json</p> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.checkbox.gui_checkbox","title":"<code>gui_checkbox(msg, style=None, var=None, data=None)</code>","text":"<p>Draw a checkbox </p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the value to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.cinematic.gui_cinematic_auto","title":"<code>gui_cinematic_auto(client_id)</code>","text":"<p>Will automatically track the consoles assigned ship</p> <p>??? Note:     The tracked ship needs to have excitement values      player ships automatically have that set    </p> <p>Parameters:</p> Name Type Description Default <code>client_id</code> <code>id</code> <p>the console's client ID</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.content.gui_content","title":"<code>gui_content(content, style=None, var=None)</code>","text":"<p>Place a python code widget e.g. list box using the layout system</p> <p>Parameters:</p> Name Type Description Default <code>content</code> <code>widget</code> <p>A gui widget code in python</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>The variable to set the widget's value to. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The layout object</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.dropdown.gui_drop_down","title":"<code>gui_drop_down(props, style=None, var=None, data=None)</code>","text":"<p>Draw a gui drop down list </p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.face.gui_face","title":"<code>gui_face(face, style=None)</code>","text":"<p>queue a gui face element</p> <p>Parameters:</p> Name Type Description Default <code>face</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.icon.gui_icon","title":"<code>gui_icon(props, style=None)</code>","text":"<p>queue a gui icon element</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.icon.gui_icon_button","title":"<code>gui_icon_button(props, style=None)</code>","text":"<p>queue a gui icon element</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.input.gui_input","title":"<code>gui_input(props, style=None, var=None, data=None)</code>","text":"<p>Draw a text type in</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>hi, low etc.</p> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image","title":"<code>gui_image(props, style=None, fit=0)</code>","text":"<p>queue a gui image element that draw based on the fit argument. Default is stretch</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <code>fit</code> <code>int</code> <p>The type of fill, </p> <code>0</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image_absolute","title":"<code>gui_image_absolute(props, style=None)</code>","text":"<p>queue a gui image element that draw the absolute pixels dimensions</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image_add_atlas","title":"<code>gui_image_add_atlas(key, image, left=None, top=None, right=None, bottom=None)</code>","text":"<p>The image atlas allows a key name to be used to assign to a set of image properties. This key can be used instead of image properties in any command that expect image properties.</p> <p>The image file passed will be used to search for the file. It will first check the mission directory followed by data/graphics folder. In the future this could be modified to account for mods, e.g. a common media folders. The image atlas takes care of supplying the correct path for the engine to use.</p> <p>By specifying the rect (left,top, right, bottom) the image key can reference a part of an image.</p> <p>Add a key to reference a full image</p> <p>  MAST /  python</p> <pre><code>gui_image_add_atlas(\"test\", \"media/LegendaryMissions/operator\")\n</code></pre> <p>Add a key to reference a full image</p> <p>  MAST /  python</p> <pre><code>gui_image_add_atlas(\"test2\", \"media/LegendaryMissions/operator\", 645,570, 950,820)\n</code></pre> <p>Once the atlas is added the key can be used anywhere images can be used.</p> <p>  MAST /  python</p> <pre><code>gui_image(\"test\")\n</code></pre> <p>  MAST /  python</p> <pre><code># Text area also use the image atlas for images\ngui_text_area(\"![](image://test2?scale=0.5&amp;fill=center)\")\n</code></pre> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>the key to define in the image atlas</p> required <code>image</code> <code>str</code> <p>The file of the image. This can also be a image property string do not include the extension. Only PNG files are valid.</p> required <code>left</code> <code>float</code> <p>The pixel location of the left. Defaults to None.</p> <code>None</code> <code>top</code> <code>float</code> <p>The pixel location of the top. Defaults to None.</p> <code>None</code> <code>right</code> <code>float</code> <p>The pixel location of the right. Defaults to None.</p> <code>None</code> <code>bottom</code> <code>float</code> <p>The pixel location of the bottom. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>ImageStales</code> <p>The image Atlas object. This is a low level object typically used by the system</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image_keep_aspect_ratio","title":"<code>gui_image_keep_aspect_ratio(props, style=None)</code>","text":"<p>queue a gui image element that draw keeping the same aspect ratio, left top justified</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image_keep_aspect_ratio_center","title":"<code>gui_image_keep_aspect_ratio_center(props, style=None)</code>","text":"<p>queue a gui image element that keeps the aspect ratio and centers when there is extra</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.image.gui_image_stretch","title":"<code>gui_image_stretch(props, style=None)</code>","text":"<p>queue a gui image element that stretches to fit</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>description</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.radio.gui_radio","title":"<code>gui_radio(msg, style=None, var=None, data=None, vertical=False)</code>","text":"<p>Draw a radio button list </p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>List of buttons to use</p> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <code>vertical</code> <code>bool</code> <p>Layout vertical if True, default False means horizontal</p> <code>False</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.radio.gui_vradio","title":"<code>gui_vradio(msg, style=None, var=None, data=None)</code>","text":"<p>Draw a vertical radio button list </p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>List of buttons to use</p> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.ship.gui_ship","title":"<code>gui_ship(props, style=None)</code>","text":"<p>renders a 3d image of the ship </p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>The ship key</p> required <code>style</code> <code>str</code> <p>Style. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.slider.gui_int_slider","title":"<code>gui_int_slider(msg, style=None, var=None, data=None)</code>","text":"<p>Draw an integer slider control</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>hi, low etc.</p> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.slider.gui_slider","title":"<code>gui_slider(msg, style=None, var=None, data=None, is_int=False)</code>","text":"<p>Draw a slider control</p> <p>Parameters:</p> Name Type Description Default <code>props</code> <code>str</code> <p>hi, low etc.</p> required <code>style</code> <code>style</code> <p>Style. Defaults to None.</p> <code>None</code> <code>var</code> <code>str</code> <p>Variable name to set the selection to. Defaults to None.</p> <code>None</code> <code>data</code> <code>object</code> <p>data to pass the handler. Defaults to None.</p> <code>None</code> <code>is_int</code> <code>bool</code> <p>Use only integers values</p> <code>False</code> <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.text.gui_text","title":"<code>gui_text(props, style=None)</code>","text":"<p>Add a gui text object</p> <p>valid properties      text     color     font</p> <p>props (str): property string  style (style, optional): The style</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.text.gui_text_area","title":"<code>gui_text_area(props, style=None)</code>","text":"<p>Add a gui text object</p> <p>valid properties      text     color     font</p> <p>props (str): property string  style (style, optional): The style</p>"},{"location":"api/procedural/gui/#list-boxes","title":"List boxes","text":""},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.listbox.gui_list_box","title":"<code>gui_list_box(items, style, item_template=None, title_template=None, section_style=None, title_section_style=None, select=False, multi=False, carousel=False, collapsible=False, read_only=False)</code>","text":"<p>Build a LayoutListBox gui element</p> <p>Parameters:</p> Name Type Description Default <code>items</code> <p>A list of the items that should be included</p> required <code>style</code> <code>str</code> <p>Custom style attributes</p> required <code>item_template</code> <code>list(str | LayoutListBoxHeader)</code> <p>A list of strings, or, if a header is desired, then that item should be a LayoutListBoxHeader object</p> <code>None</code> <code>title_template</code> <code>str | callable</code> <p>if a callable, will call the function to build the title. If a string, then title_template will be used as the title of the listbox</p> <code>None</code> <code>section_style</code> <code>str</code> <p>Style attributes for each section</p> <code>None</code> <code>title_section_style</code> <code>str</code> <p>Style attributes for the title</p> <code>None</code> <code>select</code> <code>boolean</code> <p>If true, item(s) within the listbox can be selected.</p> <code>False</code> <code>multi</code> <code>boolean</code> <p>If true, multiple items can be selected. Ignored if <code>select</code> is None</p> <code>False</code> <code>carousel</code> <code>boolean</code> <p>If true, will use the carousel styling, e.g. the ship type selection menu</p> <code>False</code> <code>collapsible</code> <code>boolean</code> <p>If true, clicking on a header will collapse everything until the next header</p> <code>False</code> <code>read_only</code> <code>boolean</code> <p>Can the items be modified</p> <code>False</code> <p>Returns:     The LayoutListBox layout object</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.listbox.gui_list_box_header","title":"<code>gui_list_box_header(label, collapse=False, indent=0, selectable=False, data=None)</code>","text":"<p>Created a gui_list_box_header element</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str</code> <p>The label text</p> required <code>collapse</code> <code>bool</code> <p>Default the collapsed state. Defaults to False.</p> <code>False</code> <code>indent</code> <code>int</code> <p>The indention level e.g. for a tree like structure</p> <code>0</code> <code>selectable</code> <code>bool</code> <p>If the header is also selectable</p> <code>False</code> <code>collapse_pixel_size</code> <code>int</code> <p>The size in pixels for the hit area (only used if selectable)</p> required <code>select_first</code> <code>bool</code> <p>If the select area is before the collapse click area (only used if selectable)</p> required <code>data</code> <code>any</code> <p>Optional additional data</p> <code>None</code> <p>Returns:</p> Name Type Description <code>LayoutListBoxHeader</code> <p>description</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.listbox.gui_list_box_is_header","title":"<code>gui_list_box_is_header(item)</code>","text":"<p>Created a gui_list_box_header element</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>str</code> <p>The label text</p> required <code>collapse</code> <code>bool</code> <p>Default the collapsed state. Defaults to False.</p> required <p>Returns:</p> Name Type Description <code>_type_</code> <p>description</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.listbox.gui_listbox_items_convert_headers","title":"<code>gui_listbox_items_convert_headers(items)</code>","text":"<p>Converts a list of strings into a list of objects that allow a listbox to collapse if a header is clicked To make a header, prefix the name with <code>&gt;&gt;</code>.  Example usage:     <pre><code>item = [\"&gt;&gt;Header\",\"Item1\",\"Item2\",\"&gt;&gt;Another Header\",\"Another Item 1\",\"Another Item 2\"]\nret = gm_convert_listbox_items(item)\ngui_list_box(items=ret, style=\"\", select=True, collapsible=True)\n</code></pre> Args:     items (list(str)): A list of strings Returns:     (list(str|LayoutListBoxHeader)): A list of LayoutListBoxHeader (for the headers) and strings (for the items)</p>"},{"location":"api/procedural/gui/#cosmos-consoles","title":"Cosmos consoles","text":"<p>Console tabs:</p> <p>The console tab system allows for creating a page tabbing system that allows the user to switch between pages quickly.</p> <p>Tabs are defined with a //gui/tab label. This label defines what happens when that tab is press.</p> <p>Example:</p> <pre><code># Allow the debug tab to be shown\n# at the top level\ngui_tab_add_top(\"debug\")\n\n//gui/tab/debug\n    jump show_debug_page\n\n//gui/tab/brain\n    jump show_brain_page\n\n=== show_debug_page\n    # Set the return page\n    gui_tab_back(CONSOLE_SELECT)\n    # Add the brain as a tab of the debug page\n    gui_tab_enable(\"brain\")\n    # Set the back button to the last selected standard console\n    # Rest of code to show page\n\n=== show_brain_page\n    # Set the back button to the last selected standard console\n    gui_tab_back(\"debug\")\n    # Rest of code to show page\n</code></pre>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console.gui_activate_console","title":"<code>gui_activate_console(console)</code>","text":"<p>set the console name for the client</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console name</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console.gui_console","title":"<code>gui_console(console, is_jump=False)</code>","text":"<p>Activates a console using the default set of widgets</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console name</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console.gui_console_clients","title":"<code>gui_console_clients(path, for_ships=None)</code>","text":"<p>gets a set of IDs for matching consoles</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console name</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_activate","title":"<code>gui_tab_activate(tab_name)</code>","text":"<p>Sets the back tab (left most) tab for the console tabs. This is general called automatically by //gui/tab and //console labels</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>The path of a //gui/tab</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_add_top","title":"<code>gui_tab_add_top(tab_name)</code>","text":"<p>Specify a tab by default to shown when the page is shown for standard consoles.</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>A comma separated list of paths of a //gui//tab e.g. helm,weapons</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_back","title":"<code>gui_tab_back(tab_name)</code>","text":"<p>Sets the back tab (left most) tab for the console tabs. The back tag is set by //gui/tab and //console labels This allows overriding</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>The path of a //gui/tab</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_clear_top","title":"<code>gui_tab_clear_top()</code>","text":"<p>Specify a tab by default to shown when the page is shown for standard consoles.</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>A comma separated list of paths of a //gui//tab e.g. helm,weapons</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_enable","title":"<code>gui_tab_enable(tab_name)</code>","text":"<p>Enable a tab on the console tabs</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>A comma separated list of paths of a //gui//tab e.g. helm,weapons</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_get_active","title":"<code>gui_tab_get_active()</code>","text":"<p>returns the active tab</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>The path of a //gui/tab</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_is_top","title":"<code>gui_tab_is_top(tab_name)</code>","text":"<p>Specify a tab by default to shown when the page is shown for standard consoles.</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>A comma separated list of paths of a //gui//tab e.g. helm,weapons</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_tab.gui_tab_remove_top","title":"<code>gui_tab_remove_top(tab_name)</code>","text":"<p>Specify a tab by default to shown when the page is shown for standard consoles.</p> <p>Parameters:</p> Name Type Description Default <code>tab_name</code> <code>str</code> <p>A comma separated list of paths of a //gui//tab e.g. helm,weapons</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_types.gui_add_console_type","title":"<code>gui_add_console_type(path, display_name, description, label)</code>","text":"<p>adds a tab definition </p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>agent</code> <p>agent id or object</p> required <code>console</code> <code>str</code> <p>Console name</p> required <code>tab_name</code> <code>str</code> <p>Tab name</p> required <code>label</code> <code>label</code> <p>Label to run when tab selected</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_types.gui_get_console_type","title":"<code>gui_get_console_type(key)</code>","text":"<p>Get the list of consoles defined by @console decorator labels</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_types.gui_get_console_type_list","title":"<code>gui_get_console_type_list()</code>","text":"<p>Get the list of consoles defined by @console decorator labels path is added as a value</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_types.gui_get_console_types","title":"<code>gui_get_console_types()</code>","text":"<p>Get the list of consoles defined by @console decorator labels</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.console_types.gui_remove_console_type","title":"<code>gui_remove_console_type(path, display_name, label)</code>","text":"<p>adds a tab definition </p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>Console path</p> required <code>display_name</code> <code>str</code> <p>Display name</p> required <code>label</code> <code>label</code> <p>Label to run when tab selected</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.widgets.gui_layout_widget","title":"<code>gui_layout_widget(widget)</code>","text":"<p>Places a specific console widget in the a layout section. Placing it at a specific location</p> <p>Parameters:</p> Name Type Description Default <code>widget</code> <code>str</code> <p>The gui widget</p> required <p>Returns:</p> Type Description <p>layout element: The layout element</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.widgets.gui_update_widget_list","title":"<code>gui_update_widget_list(add_widgets=None, remove_widgets=None)</code>","text":"<p>Set the engine widget list. i.e. controls engine controls</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console type name</p> required <code>widgets</code> <code>str</code> <p>The list of widgets</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.widgets.gui_update_widgets","title":"<code>gui_update_widgets(add_widgets, remove_widgets)</code>","text":"<p>Set the engine widget list. i.e. controls engine controls</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console type name</p> required <code>widgets</code> <code>str</code> <p>The list of widgets</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.widgets.gui_widget_list","title":"<code>gui_widget_list(console, widgets)</code>","text":"<p>Set the engine widget list. i.e. controls engine controls</p> <p>Parameters:</p> Name Type Description Default <code>console</code> <code>str</code> <p>The console type name</p> required <code>widgets</code> <code>str</code> <p>The list of widgets</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.widgets.gui_widget_list_clear","title":"<code>gui_widget_list_clear()</code>","text":"<p>clear the widet list on the client</p>"},{"location":"api/procedural/gui/#update-and-refreshing-the-gui","title":"Update and refreshing the GUI","text":""},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_hide","title":"<code>gui_hide(layout_item)</code>","text":"<p>If the item is visible it will make it hidden</p> Note <p>For sections it will recalculate the layout. For individual item or row, it will hide, but not layout.  so you may also need to pair this with a gui_represent of a section</p> <p>Parameters:</p> Name Type Description Default <code>layout_item</code> <code>layout_item</code> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_rebuild","title":"<code>gui_rebuild(region)</code>","text":"<p>prepares a section/region to be build a new layout</p> <p>Parameters:</p> Name Type Description Default <code>region</code> <code>layout_item</code> <p>a layout/Layout item</p> required <p>Returns:</p> Type Description <p>layout object: The Layout object created</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_refresh","title":"<code>gui_refresh(label)</code>","text":"<p>refresh any gui running the specified label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>A mast label</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_represent","title":"<code>gui_represent(layout_item)</code>","text":"<p>redraw an item</p> Note <p>For sections it will recalculate the layout and redraw all items</p> <p>Parameters:</p> Name Type Description Default <code>layout_item</code> <code>layout_item</code> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_show","title":"<code>gui_show(layout_item)</code>","text":"<p>gui show. If the item is hidden it will make it visible again</p> Note <p>For sections it will recalculate the layout. For individual item or row, it will hide, but not layout.  so you may also need to pair this with a gui_represent of a section</p> <p>Parameters:</p> Name Type Description Default <code>layout_item</code> <code>layout_item</code> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.update.gui_update","title":"<code>gui_update(tag, props, shared=False, test=None)</code>","text":"<p>Update the properties of a current gui element</p> <p>Parameters:</p> Name Type Description Default <code>tag</code> <code>str</code> required <code>props</code> <code>str</code> <p>The new properties to use</p> required <code>shared</code> <code>bool</code> <p>Update all gui screen if true. Defaults to False.</p> <code>False</code> <code>test</code> <code>dict</code> <p>Check the variable (key) update if any value is different than the test. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_history_back","title":"<code>gui_history_back()</code>","text":"<p>Jump back in history</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_history_clear","title":"<code>gui_history_clear()</code>","text":"<p>Clears the history for the given page</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_history_forward","title":"<code>gui_history_forward()</code>","text":"<p>Jump forward in history</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_history_jump","title":"<code>gui_history_jump(to_label, back_name=None, back_label=None, back_data=None)</code>","text":"<p>Jump to a new gui label, but remember how to return to the current state</p> <p>Parameters:</p> Name Type Description Default <code>to_label</code> <code>label</code> <p>Where to jump to</p> required <code>back_name</code> <code>str</code> <p>A name to use if displayed</p> <code>None</code> <code>back_label</code> <code>label</code> <p>The label to return to defaults to the label active when called</p> <code>None</code> <code>back_data</code> <code>dict</code> <p>A set of value to set when returning back</p> <code>None</code> <p>??? Note:     If there is forward history it will be cleared</p> <p>Returns:</p> Name Type Description <code>results</code> <code>PollResults</code> <p>PollResults of the jump</p>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_history_store","title":"<code>gui_history_store(back_text, back_label=None)</code>","text":"<p>store the current </p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>A mast label</p> required"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_reroute_clients","title":"<code>gui_reroute_clients(label, data=None, exclude=None)</code>","text":"<p>reroute client guis to run the specified label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>Label to jump to</p> required <code>exclude</code> <code>set</code> <p>set client_id values to exclude. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/gui/#sbs_utils.procedural.gui.navigation.gui_reroute_server","title":"<code>gui_reroute_server(label, data=None)</code>","text":"<p>reroute server gui to run the specified label</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>Label to jump to</p> required"},{"location":"api/procedural/gui/#windows-clipboard","title":"Windows clipboard","text":""},{"location":"api/procedural/gui/#interacting-with-client-side-data","title":"Interacting with client side data","text":""},{"location":"api/procedural/inventory/","title":"The Inventory system","text":""},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.get_inventory_value","title":"<code>get_inventory_value(id_or_object, key, default=None)</code>","text":"<p>get inventory value with the given key the the agent  has     this is the way to create a collection in inventory</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent id or object to check</p> required <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>default</code> <code>any</code> <p>the default value data</p> <code>None</code> <p>Returns:     any: The inventory value associated with the provided key, or the default value if it doesn't exist.</p>"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.get_shared_inventory_value","title":"<code>get_shared_inventory_value(key, default=None)</code>","text":"<p>Get inventory value from the shared data agent.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>default</code> <code>any</code> <p>the value to return if not found</p> <code>None</code>"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.has_inventory","title":"<code>has_inventory(key)</code>","text":"<p>get the set of agent ids that have a inventory item with the given key</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <p>Returns:</p> Type Description <p>set[int]: set of ids</p>"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.has_inventory_value","title":"<code>has_inventory_value(key, value)</code>","text":"<p>Get the object that have a inventory item with the given key</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <p>Returns:</p> Type Description <p>set[int]: set of ids</p>"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.inventory_set","title":"<code>inventory_set(source, key)</code>","text":"<p>Get the set that inventory items with the given key the the link source has     this is the way to create a collection in inventory</p> <p>Note</p> <p>This is like set_inventory_value but the value is a set</p> <p>Parameters:</p> Name Type Description Default <code>source</code> <code>Agent</code> <p>The agent id or object to check</p> required <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>set[any]</code> <p>set of data</p> required"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.inventory_value","title":"<code>inventory_value(id_or_obj, key, default=None)</code>","text":"<p>Get inventory value with the given key the the agent has. This is the way to create a collection in inventory.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>agent</code> <p>The agent id or object to check</p> required <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>default</code> <code>any</code> <p>the default value data</p> <code>None</code>"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.remove_inventory_value","title":"<code>remove_inventory_value(so, key)</code>","text":"<p>Remove a value from the agent's inventory. <code>so</code> can be a set. If it is, the value is removed from the inventory of each member in the set.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int | set[Agent | int]</code> <p>The agent id or object to check</p> required <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>value</code> <code>any</code> <p>the value</p> required"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.set_inventory_value","title":"<code>set_inventory_value(so, key, value)</code>","text":"<p>Set inventory value with the given key the the agent has. This is the way to create a collection in inventory. <code>so</code> can be a set. If it is, the inventory value is set for each member in the set.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int | set[Agent | int]</code> <p>The agent id or object or set to check</p> required <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>value</code> <code>any</code> <p>the value</p> required"},{"location":"api/procedural/inventory/#sbs_utils.procedural.inventory.set_shared_inventory_value","title":"<code>set_shared_inventory_value(key, value)</code>","text":"<p>Set inventory value with the given key on the shared agent.</p> <p>Parameters:</p> Name Type Description Default <code>key</code> <code>str</code> <p>The key/name of the inventory item</p> required <code>value</code> <code>any</code> <p>the value</p> required"},{"location":"api/procedural/links/","title":"Links","text":""},{"location":"api/procedural/links/#sbs_utils.procedural.links.get_dedicated_link","title":"<code>get_dedicated_link(so, link_name)</code>","text":"<p>Get the agent linked to the specified agent.</p> <p>Note</p> <p>Dedicated link means there is only one thing linked to 1-1</p> <p>Parameters:</p> Name Type Description Default <code>link_name</code> <code>str</code> <p>The link name</p> required <p>Returns:</p> Type Description <p>int | None: The id of a single agent or None</p>"},{"location":"api/procedural/links/#sbs_utils.procedural.links.has_link","title":"<code>has_link(link_name)</code>","text":"<p>Get the objects that have a link item with the given key.</p> <p>Parameters:</p> Name Type Description Default <code>link_name</code> <code>str</code> <p>The key/name of the link</p> required <p>Returns:</p> Type Description <p>set[int]: set of ids</p>"},{"location":"api/procedural/links/#sbs_utils.procedural.links.has_link_to","title":"<code>has_link_to(link_source, link_name, link_target)</code>","text":"<p>check if target and source are linked to for the given key</p> <p>Parameters:</p> Name Type Description Default <code>link_source</code> <code>Agent | int</code> <p>The agent or id hosting the link</p> required <code>link_name</code> <code>str</code> <p>The key/name of the inventory item</p> required <p>Returns:</p> Type Description <p>set[int]: The set of linked ids</p>"},{"location":"api/procedural/links/#sbs_utils.procedural.links.link","title":"<code>link(set_holder, link_name, set_to)</code>","text":"<p>Create a link between agents</p> <p>Parameters:</p> Name Type Description Default <code>set_holder</code> <code>Agent | int | set[Agent | int]</code> <p>The host (agent, id, or set) of the link</p> required <code>link_name</code> <code>str</code> <p>The link name</p> required <code>set_to</code> <code>Agent | set[Agent]</code> <p>The items to link to</p> required"},{"location":"api/procedural/links/#sbs_utils.procedural.links.linked_to","title":"<code>linked_to(link_source, link_name)</code>","text":"<p>Get the set of ids that the source is linked to for the given key.</p> <p>Parameters:</p> Name Type Description Default <code>link_source</code> <code>Agent | int</code> <p>The agent or id to check</p> required <code>link_name</code> <code>str</code> <p>The key/name of the inventory item</p> required <p>Returns:     set[int]: The set of linked ids</p>"},{"location":"api/procedural/links/#sbs_utils.procedural.links.set_dedicated_link","title":"<code>set_dedicated_link(so, link_name, to)</code>","text":"<p>Set the agent linked to</p> <p>Note</p> <p>Dedicated link means there is only one thing linked to 1-1</p> <p>Parameters:</p> Name Type Description Default <code>link_name</code> <code>str</code> <p>The link name</p> required <code>to</code> <code>Agent | int</code> <p>The single agent or id or None</p> required"},{"location":"api/procedural/links/#sbs_utils.procedural.links.unlink","title":"<code>unlink(set_holder, link_name, set_to)</code>","text":"<p>Removes the link between things</p> <p>Parameters:</p> Name Type Description Default <code>set_holder</code> <code>Agent | int | set[Agent | int]</code> <p>An agent or set of agents (ids or objects)</p> required <code>link_name</code> <code>str</code> <p>Link name</p> required <code>set_to</code> <code>Agent | int | set[Agent | int]</code> <p>The agent or set of agents (ids or objects) to add a link to</p> required"},{"location":"api/procedural/query/","title":"The query module","text":""},{"location":"api/procedural/query/#overview","title":"Overview","text":""},{"location":"api/procedural/query/#api-query","title":"API: query","text":""},{"location":"api/procedural/query/#sbs_utils.procedural.query.all_objects_exists","title":"<code>all_objects_exists(the_set)</code>","text":"<p>Tests to see if all the objects in the set exist Args:     the_set (Agent | int | set[Agent | int] | list[Agent | int]): A set, list or single object internally it will assure it is a list Returns:     bool: False if any object does not exist, True if all exist</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.are_variables_defined","title":"<code>are_variables_defined(keys)</code>","text":"<p>Check if the provided variable keys are defined in the current task. Args:     keys (str): A comma-separated list of the keys. Returns:     bool: True if all variables are defined, otherwise False.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.dec_disable_selection","title":"<code>dec_disable_selection(id_or_obj, console_selected_UID)</code>","text":"<p>Decrease the inventory value of the given console's current selection by one and disable the selection.  Args:     id_or_obj (Agent | int): The player ship     console_selected_UID (int): The console.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_comms_selection","title":"<code>get_comms_selection(id_or_not)</code>","text":"<p>Gets the id of the comms selection Args:     id_or_not (Agent | int): agent id or object Returns:     int | None: The agent id or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_crew","title":"<code>get_crew(id_or_obj)</code>","text":"<p>Get the race of the specified agent * Race by default is the side from shipData Args:     id_or_obj (Agent | int): an agent id or object Returns:     str: The race of the object or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_data_set_value","title":"<code>get_data_set_value(id_or_obj, key, index=0)</code>","text":"<p>Get the data set (blob) value for the object with the given key. Args:     id_or_obj (Agent | int): The agent or id.     key (str): The data set key     index (int, optional): The index of the data set value Returns:     any: The value associated with the key and index.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_engine_data_set","title":"<code>get_engine_data_set(id_or_obj)</code>","text":"<p>Get the data set (blob) for the id or object. Args:     id_or_obj (Agent | SpawnData | int) Returns:     data_set: The data set for the object.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_grid_selection","title":"<code>get_grid_selection(id_or_not)</code>","text":"<p>Gets the id of the engineering grid selection Args:     id_or_not (Agent | int): agent id or object Returns:     int | None: The agent id or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_origin","title":"<code>get_origin(id_or_obj)</code>","text":"<p>Get the race of the specified agent * Origin by default is the side from shipData Args:     id_or_obj (Agent | int): an agent id or object Returns:     str: The race of the object or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_race","title":"<code>get_race(id_or_obj)</code>","text":"<p>Get the race of the specified agent * Race by default is the side from shipData  Args:     id_or_obj (Agent | int): an agent id or object Returns:     str: The race of the object or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_science_selection","title":"<code>get_science_selection(id_or_not)</code>","text":"<p>Gets the id of the science selection Args:     id_or_not (Agent | int): agent id or object Returns:     int | None: The agent id or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_side","title":"<code>get_side(id_or_obj)</code>","text":"<p>Gets the side of the agent Args:     id_or_obj (Agent | int): agent id or object Returns:     str|None: the side</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_side_display","title":"<code>get_side_display(id_or_obj)</code>","text":"<p>Gets the side of the agent Args:     id_or_obj (Agent | int): agent id or object Returns:     str|None: the side</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.get_weapons_selection","title":"<code>get_weapons_selection(id_or_not)</code>","text":"<p>Gets the id of the weapons selection Args:     id_or_not (Agent | int): agent id or object Returns:     int | None: The agent id or None</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.inc_disable_selection","title":"<code>inc_disable_selection(id_or_obj, console_selected_UID)</code>","text":"<p>Increase the inventory value of the given console's current selection by one and disable the selection.  Args:     id_or_obj (Agent | int): The player ship     console_selected_UID (int): The console.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.is_client_id","title":"<code>is_client_id(id)</code>","text":"<p>Checks if the agent is a client/console id Args:     id (Agent | int): Agent id or object Returns:     bool: True if the agent is a client or console id</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.is_grid_object_id","title":"<code>is_grid_object_id(id)</code>","text":"<p>Checks if the agent is a grid object id Args:     id (Agent | int): Agent id or object Returns:     bool: True if it is a grid object</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.is_space_object_id","title":"<code>is_space_object_id(id)</code>","text":"<p>Checks if the agent is a space object id Args:     id (Agent | int): Agent id or object Returns:     bool: True if it is a space object</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.is_story_id","title":"<code>is_story_id(id)</code>","text":"<p>Checks if the agent is a story id</p> <p>Note</p> <ul> <li>Story agent are object not in the engine. e.g. Fleets Args:     id (Agent | int): Agent id or object Returns:     bool: True if the agent is a story object</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.is_task_id","title":"<code>is_task_id(id)</code>","text":"<p>Checks if the agent is a task id Args:     id (Agent | int): Agent id or object Returns:     bool: True if the agent is a task</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.object_exists","title":"<code>object_exists(so_id)</code>","text":"<p>Check the engine to see if the item exists Args:     so_id (Agent | int): agent like data converted to id internally Returns:     bool: if the object exists in the engine</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.random_id","title":"<code>random_id(the_set)</code>","text":"<p>Get a random id from the set provided Args:     the_set (set[Agent | int]): a set, list etc. of ids or agents Returns:     int: The id of one of the objects</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.random_object","title":"<code>random_object(the_set)</code>","text":"<p>Get a random object from the set provided Args:     the_set (set[Agent | int]): a set, list etc. of ids or agents Returns:     Agent: The one of the objects</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.random_object_list","title":"<code>random_object_list(the_set, count=1)</code>","text":"<p>Get a list of objects selected randomly from the set provided Args:      the_set (set[Agent | int]): Set of Ids or agents     count (int, optional): The number of objects to pick. Default is 1.</p> <p>Returns:</p> Name Type Description <code>list</code> <p>A list of Agent</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.safe_int","title":"<code>safe_int(s, defa=0)</code>","text":"<p>Gets an integer or None for the passed data Args:     s (str): The source assumed str, but could also be a number     defa (int, optional): What to return if the supplied value is not an integer. Default is 0. Returns:     int: the integer or the default</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_comms_selection","title":"<code>set_comms_selection(id_or_not, other_id_or_obj)</code>","text":"<p>Sets the id of the comms selection. Args:     id_or_not (Agent | int): agent id or object of the player ship.     other_id_or_obj (Agent | int): The agent id or object target agent.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_console_selection","title":"<code>set_console_selection(id_or_not, other_id_or_obj, console)</code>","text":"<p>Set the id of the selection for the console and client. Args:     id_or_not (Agent | int): The player ship ID.     other_id_or_obj (Agent | int): The selected space object.     console (str): The console for which the object is selected.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_data_set_value","title":"<code>set_data_set_value(to_update, key, value, index=0)</code>","text":"<p>Set the data set (blob) value for the objects with the given key. If <code>to_update</code> is a set or list, sets the data set value for each object. Args:     to_update (Agent | int | set[Agent | int] | list[Agent | int]): The agent or id or set or list.     key (str): The data set key.     value (any): The value to assign.     index (int, optional): The index of the data set value</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_grid_selection","title":"<code>set_grid_selection(id_or_not, other_id_or_obj)</code>","text":"<p>Sets the id of the engineering grid selection. Args:     id_or_not (Agent | int): agent id or object of the player ship.     other_id_or_obj (Agent | int): The agent id or object target agent.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_science_selection","title":"<code>set_science_selection(id_or_not, other_id_or_obj)</code>","text":"<p>Sets the id of the science selection. Args:     id_or_not (Agent | int): agent id or object of the player ship.     other_id_or_obj (Agent | int): The agent id or object target agent.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.set_weapons_selection","title":"<code>set_weapons_selection(id_or_not, other_id_or_obj)</code>","text":"<p>Sets the id of the weapons selection. Args:     id_or_not (Agent | int): agent id or object of the player ship.     other_id_or_obj (Agent | int): The agent id or object target agent.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_blob","title":"<code>to_blob(id_or_obj)</code>","text":"<p>Gets the engine dataset of the specified agent</p> <p>Note</p> <ul> <li>Same as to_data_set Args:     id_or_obj (Agent | int): Agent id or object Returns:     data_set | None: Returns the data or None if it does not exist</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_client_object","title":"<code>to_client_object(other)</code>","text":"<p>Converts the item passed to an gui client</p> Note <ul> <li>Retrun of None could mean the agent no longer exists Args:     other (Agent | CloseData | int): The agent ID or other agent like data Returns:     Agent | None: The agent or None</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_data_set","title":"<code>to_data_set(id_or_obj)</code>","text":"<p>Gets the engine dataset of the specified agent</p> <p>Note</p> <ul> <li>Same as to_blob Args:     id_or_obj (Agent | int): Agent id or object Returns:     data_set | None: Returns the data or None if it does not exist</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_engine_object","title":"<code>to_engine_object(id_or_obj)</code>","text":"<p>Converts the agent to get its engine object pointer Args:     id (Agent | int): Agent id or object Returns:     pointer: A C++ pointer to the engine object</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_grid_object","title":"<code>to_grid_object(other)</code>","text":"<p>Converts the item passed to an gui client</p> Note <ul> <li>Retrun of None could mean the agent no longer exists Args:     other (Agent | CloseData | int): The agent ID or other agent like data Returns:     Agent | None: The agent or None</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_id","title":"<code>to_id(other)</code>","text":"<p>Converts item passed to an agent id Args:     other (Agent | CloseData | int): The agent Returns:     int: The agent id</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_id_list","title":"<code>to_id_list(the_set)</code>","text":"<p>Converts a set to a list of ids Args:           the_set (set[Agent | int] | list[Agent | int]): a set or list of agents or ids Returns:     list[int]: A list of agent ids</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_list","title":"<code>to_list(other)</code>","text":"<p>Converts a single object/id, set or list of things to a list Args:           other (Agent | CloseData | int | set[Agent | int] | list[Agent | int]): The agent or id or set. Returns:     list[Agent | CloseData | int]: A list containing whatever was passed in.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_object","title":"<code>to_object(other)</code>","text":"<p>Converts the item passed to an agent</p> Note <ul> <li>Return of None could mean the agent no longer exists Args:     other (Agent | CloseData | int): The agent ID or other agent like data Returns:     Agent | None: The agent or None</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_object_list","title":"<code>to_object_list(the_set)</code>","text":"<p>Converts a set to a list of objects Args:           the_set (set[Agent | int] | list[Agent | int]): a set or list of agents or ids Returns:     list[Agent]: A list of Agent objects</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_py_object_list","title":"<code>to_py_object_list(the_set)</code>","text":"<p>Converts a set of ids to a set of objects Args:     the_set (set[int]): A set of IDs Returns:     list[Agent]</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_set","title":"<code>to_set(other)</code>","text":"<p>Converts a single object/id, set or list of things to a set of ids Args:           other (Agent | CloseData | int | set[Agent | int] | list[Agent | int]): The agent or id or set. Returns:     set[Agent | CloseData | int]: A set containing whatever was passed in.</p>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_space_object","title":"<code>to_space_object(other)</code>","text":"<p>Converts the item passed to an gui client</p> Note <ul> <li>Retrun of None could mean the agent no longer exists Args:     other (Agent | CloseData | int): The agent ID or other agent like data Returns:     Agent | None: The agent or None</li> </ul>"},{"location":"api/procedural/query/#sbs_utils.procedural.query.to_space_object_list","title":"<code>to_space_object_list(the_set)</code>","text":"<p>Converts a set to a list of objects Args:           the_set (set[Agent | int] | list[Agent | int]): a set or list of agents or ids Returns:     list[Agent]: A list of Agent objects</p>"},{"location":"api/procedural/roles/","title":"The roles system","text":"<p>The SpaceObject class has methods for assigning and removing 'roles' to objects.</p> <p>Roles are like sides but can be more dynamic and are not seen by the simulation. You can have multiple roles on an object. Roles can be used in targeting etc.</p> <p>** This need more documentation** placing examples for now</p>"},{"location":"api/procedural/roles/#adding-a-role","title":"Adding a role","text":"Python <pre><code>add_role(some_id, 'spy')\n</code></pre>"},{"location":"api/procedural/roles/#remove-a-role","title":"Remove a role","text":"Python <pre><code>remove_role(some_id, 'spy')\n</code></pre>"},{"location":"api/procedural/roles/#check-for-a-role","title":"Check for a role","text":"PyThon <pre><code>if has_role(some_id, 'spy')\n      pass\n</code></pre>"},{"location":"api/procedural/roles/#using-with-targeting","title":"Using with targeting","text":"PyThon <pre><code>close = closest(some_id, role(\"spy\"))\n# class names are included in roles\nclose = closest(some_id, role(\"station\"))\n# side is included in roles\nclose = closest(some_id, role(\"tsn\"))\n</code></pre>"},{"location":"api/procedural/roles/#api-roles","title":"API: Roles","text":""},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.add_role","title":"<code>add_role(set_holder, role)</code>","text":"<p>Add a role to an agent or a set of agents.</p> <p>Parameters:</p> Name Type Description Default <code>set_holder</code> <code>Agent | int | set[Agent | int]</code> <p>An agent or ID or a set of agents or IDs.</p> required <code>role</code> <code>str</code> <p>The role to add.</p> required"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.all_roles","title":"<code>all_roles(roles)</code>","text":"<p>Returns a set of all the agents which have all of the given roles.</p> <p>Parameters:</p> Name Type Description Default <code>roles</code> <code>str</code> <p>A comma-separated list of roles.</p> required <p>Returns:</p> Type Description <p>set[int]: a set of agent IDs.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.any_role","title":"<code>any_role(roles)</code>","text":"<p>Returns a set of all the agents which have any of the given roles.</p> <p>Parameters:</p> Name Type Description Default <code>role</code> <code>str</code> <p>The role, or a comma-separated list of roles.</p> required <p>Returns:</p> Type Description <p>set[int]: a set of agent IDs.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.get_role_list","title":"<code>get_role_list(id_or_obj)</code>","text":"<p>Returns a list of role names an Agent has.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The object or ID.</p> required <p>Returns:</p> Type Description <p>list[str]: The list of roles.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.get_role_string","title":"<code>get_role_string(id_or_obj)</code>","text":"<p>Returns a comma-separated list of role names an Agent has.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The Agent or id.</p> required <p>Returns:</p> Name Type Description <code>str</code> <p>A comma-separated string.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.has_any_role","title":"<code>has_any_role(so, roles)</code>","text":"<p>Check if an agent has any of the roles specified.</p> <p>Parameters:</p> Name Type Description Default <code>so</code> <code>Agent | int</code> <p>An agent or id.</p> required <code>role</code> <code>str</code> <p>A comma-separated list of roles.</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if the agent has one or more of the roles.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.has_role","title":"<code>has_role(so, role)</code>","text":"<p>Check if an agent has the specified role.</p> <p>Parameters:</p> Name Type Description Default <code>so</code> <code>Agent | int</code> <p>An agent or id.</p> required <code>role</code> <code>str</code> <p>The role to test for</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if the agent has that role</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.has_roles","title":"<code>has_roles(so, roles)</code>","text":"<p>Check if an agent has all the roles specified.</p> <p>Parameters:</p> Name Type Description Default <code>so</code> <code>Agent | int</code> <p>An agent or id.</p> required <code>role</code> <code>str</code> <p>A comma-separated list of roles.</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if the agent has all the listed roles.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.remove_role","title":"<code>remove_role(agents, role)</code>","text":"<p>Remove a role from an agent or a set of agents.a</p> <p>Parameters:</p> Name Type Description Default <code>agents</code> <code>Agent | int | set[Agent | int]</code> <p>An agent or ID or a set of agents or IDs.</p> required <code>role</code> <code>str</code> <p>The role to add.</p> required"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.role","title":"<code>role(role)</code>","text":"<p>Returns a set of all the agents with a given role as a set of IDs.</p> <p>Parameters:</p> Name Type Description Default <code>role</code> <code>str</code> <p>The role.</p> required <p>Returns:</p> Type Description <p>set[int]: a set of agent IDs.</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.role_allies","title":"<code>role_allies(id_or_obj)</code>","text":"<p>Returns a set of the IDs of all objects allied with the specified object.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The object for which to get the allies.</p> required <p>Returns:</p> Type Description <p>set[int]: a set of agent IDs</p>"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.role_ally_add","title":"<code>role_ally_add(id_or_obj, side)</code>","text":"<p>Adds a side as an ally and add all the objects with that side to the specified object's ally list.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The object for which to add allies.</p> required <code>side</code> <code>str</code> <p>The side string.</p> required"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.role_ally_remove","title":"<code>role_ally_remove(id_or_obj, side)</code>","text":"<p>Remove a side as an ally and remove all objects of that side from the specified object's ally list.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The object from which to remove allies.</p> required <code>side</code> <code>str</code> <p>The side string.</p> required"},{"location":"api/procedural/roles/#sbs_utils.procedural.roles.role_are_allies","title":"<code>role_are_allies(id_or_obj, other_id_or_obj)</code>","text":"<p>Check if the two objects are allied.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The first object.</p> required <code>other_id_or_obj</code> <code>Agent | int</code> <p>The second object.</p> required <p>Returns:     bool: True if they are allied.</p>"},{"location":"api/procedural/routes/","title":"The routes module","text":""},{"location":"api/procedural/routes/#overview","title":"Overview","text":""},{"location":"api/procedural/routes/#api-routes","title":"API: routes","text":""},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteCommsFocus","title":"<code>RouteCommsFocus</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteCommsFocus\n@label\ndef handle_comms_focus():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteCommsMessage","title":"<code>RouteCommsMessage</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteCommsMessage\n@label\ndef handle_comms_message():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteCommsSelect","title":"<code>RouteCommsSelect</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteCommsSelect\n@label\ndef handle_comms_select():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDamageDestroy","title":"<code>RouteDamageDestroy</code>","text":"<p>               Bases: <code>RouteLifetime</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDestroy\n@label\ndef handle_destroy():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDamageHeat","title":"<code>RouteDamageHeat</code>","text":"<p>               Bases: <code>RouteDamageSource</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDamageHeat\n@label\ndef handle_damage_heat():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDamageInternal","title":"<code>RouteDamageInternal</code>","text":"<p>               Bases: <code>RouteDamageSource</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDamageInternal\n@label\ndef handle_damage_internal():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDamageKilled","title":"<code>RouteDamageKilled</code>","text":"<p>               Bases: <code>RouteLifetime</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDestroy\n@label\ndef handle_destroy():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDamageObject","title":"<code>RouteDamageObject</code>","text":"<p>               Bases: <code>RouteDamageSource</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDamageObject\n@label\ndef handle_damage_object():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteDockHangar","title":"<code>RouteDockHangar</code>","text":"<p>               Bases: <code>RouteLifetime</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteDockHangar\n@label\ndef handle_dock():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteGridFocus","title":"<code>RouteGridFocus</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteGridFocus\n@label\ndef handle_grid_focus():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteGridMessage","title":"<code>RouteGridMessage</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteGridMessage\n@label\ndef handle_grid_message():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteGridPoint","title":"<code>RouteGridPoint</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteGridPoint\n@label\ndef handle_grid_point():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteGridSelect","title":"<code>RouteGridSelect</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteGridSelect\n@label\ndef handle_grid_select():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteGridSpawn","title":"<code>RouteGridSpawn</code>","text":"<p>               Bases: <code>RouteLifetime</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteGridSpawn\n@label\ndef handle_grid_spawn():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteScienceFocus","title":"<code>RouteScienceFocus</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteScienceFocus\n@label\ndef handle_science_focus():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteScienceMessage","title":"<code>RouteScienceMessage</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteScienceMessage\n@label\ndef handle_science_message():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteSciencePoint","title":"<code>RouteSciencePoint</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteSciencePoint\n@label\ndef handle_science_point():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteScienceSelect","title":"<code>RouteScienceSelect</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteScienceSelect\n@label\ndef handle_science_select():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteSpawn","title":"<code>RouteSpawn</code>","text":"<p>               Bases: <code>RouteLifetime</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteSpawn\n@label\ndef handle_spawn():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteWeaponsFocus","title":"<code>RouteWeaponsFocus</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteWeaponsFocus\n@label\ndef handle_weapons_focus():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteWeaponsPoint","title":"<code>RouteWeaponsPoint</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteWeaponsPoint\n@label\ndef handle_weapons_point():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.RouteWeaponsSelect","title":"<code>RouteWeaponsSelect</code>","text":"<p>               Bases: <code>RouteConsole</code></p> <p>decorator for routing to a python function or python class method</p> Note <p>The route is expected to be a label</p> Example <pre><code>@RouteWeaponsSelect\n@label\ndef handle_weapons_select():\n    ....\n    yield PollResults.OK_YIELD\n</code></pre>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.follow_route_select_comms","title":"<code>follow_route_select_comms(origin_id, selected_id)</code>","text":"<p>cause the comms selection route to execute</p> <p>Parameters:</p> Name Type Description Default <code>origin_id</code> <code>agent</code> <p>The agent id of the player ship</p> required <code>selected_id</code> <code>agent</code> <p>The agent id of the target space object</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.follow_route_select_grid","title":"<code>follow_route_select_grid(origin_id, selected_id)</code>","text":"<p>cause the engineering grid selection route to execute</p> <p>Parameters:</p> Name Type Description Default <code>origin_id</code> <code>agent</code> <p>The agent id of the player ship</p> required <code>selected_id</code> <code>agent</code> <p>The agent id of the target grid object</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.follow_route_select_science","title":"<code>follow_route_select_science(origin_id, selected_id)</code>","text":"<p>cause the science selection route to execute</p> <p>Parameters:</p> Name Type Description Default <code>origin_id</code> <code>agent</code> <p>The agent id of the player ship</p> required <code>selected_id</code> <code>agent</code> <p>The agent id of the target space object</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_change_console","title":"<code>route_change_console(label)</code>","text":"<p>called when a  change console button is pressed.</p> Note <p>Typically this redirects the console gui to a console selection gui.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_collision_interactive","title":"<code>route_collision_interactive(label)</code>","text":"<p>called when a space_object takes a collision.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_collision_passive","title":"<code>route_collision_passive(label)</code>","text":"<p>called when a space_object takes a collision.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_common_navigate","title":"<code>route_common_navigate(path, label)</code>","text":"<p>called to extend a comms navigation</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <p>(str): The navigation path to extend</p> required <code>label</code> <code>label</code> <p>The label to run</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_comms_navigate","title":"<code>route_comms_navigate(path, label)</code>","text":"<p>called to extend a comms navigation</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <p>(str): The navigation path to extend</p> required <code>label</code> <code>label</code> <p>The label to run</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_console_mainscreen_change","title":"<code>route_console_mainscreen_change(label)</code>","text":"<p>called when a  change to the main screen view occurs</p> Note <p>Typically this redirects the console gui to a gui_console</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_damage_destroy","title":"<code>route_damage_destroy(label)</code>","text":"<p>called when a space_object is destroyed.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_damage_heat","title":"<code>route_damage_heat(label)</code>","text":"<p>called when a player ship takes heat damage.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_damage_internal","title":"<code>route_damage_internal(label)</code>","text":"<p>called when a player ship takes internal damage.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_damage_killed","title":"<code>route_damage_killed(label)</code>","text":"<p>called when a space_object is about to be removed from the engine.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_damage_object","title":"<code>route_damage_object(label)</code>","text":"<p>called when a space_object takes hull damage.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_dock_hangar","title":"<code>route_dock_hangar(label)</code>","text":"<p>called when a space_object docks.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_comms","title":"<code>route_focus_comms(label)</code>","text":"<p>called when comms changes selection.</p> Note <p>The label called should not be long running. Use route_select_comms for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_comms_2d","title":"<code>route_focus_comms_2d(label)</code>","text":"<p>called when comms changes selection.</p> Note <p>The label called should not be long running. Use route_select_comms for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_grid","title":"<code>route_focus_grid(label)</code>","text":"<p>called when engineering grid changes selection.</p> Note <p>The label called should not be long running. Use route_select_grid for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_normal","title":"<code>route_focus_normal(label)</code>","text":"<p>called when comms changes selection.</p> Note <p>The label called should not be long running. Use route_select_comms for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_science","title":"<code>route_focus_science(label)</code>","text":"<p>called when science changes selection.</p> Note <p>The label called should not be long running. Use route_select_science for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_focus_weapons","title":"<code>route_focus_weapons(label)</code>","text":"<p>called when weapons changes selection.</p> Note <p>The label called should not be long running. Use route_select_weapons for long running tasks.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_gui_navigate","title":"<code>route_gui_navigate(path, label)</code>","text":"<p>called to extend a gui navigation</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <p>(str): The navigation path to extend</p> required <code>label</code> <code>label</code> <p>The label to run</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_message_science","title":"<code>route_message_science(label)</code>","text":"<p>called when science changes selection.</p> Note <p>Typically used to run a task that uses an await scan</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_object_grid","title":"<code>route_object_grid(label)</code>","text":"<p>called when a grid object event occurs. i.e. grid object reached a location.</p> Note <p>Typically not a long running task</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_comms","title":"<code>route_point_comms(label)</code>","text":"<p>called when a a point event occurs in comms.</p> Note <p>No know use for this currently</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_comms_2d","title":"<code>route_point_comms_2d(label)</code>","text":"<p>called when a a point event occurs in comms.</p> Note <p>No know use for this currently</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_grid","title":"<code>route_point_grid(label)</code>","text":"<p>called when a a point event occurs in the engineering grid.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_normal","title":"<code>route_point_normal(label)</code>","text":"<p>called when a a point event occurs in comms.</p> Note <p>No know use for this currently</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_science","title":"<code>route_point_science(label)</code>","text":"<p>called when a a point event occurs in science by clicking the 2d view.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_point_weapons","title":"<code>route_point_weapons(label)</code>","text":"<p>called when a a point event occurs in weapons by clicking the 2d view.</p> Note <p>This is not intended for long running tasks</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_popup_comms_2d","title":"<code>route_popup_comms_2d(label)</code>","text":"<p>called when a a point event occurs in comms.</p> Note <p>No know use for this currently</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_science_navigate","title":"<code>route_science_navigate(path, label)</code>","text":"<p>called to extend a gui navigation</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <p>(str): The navigation path to extend</p> required <code>label</code> <code>label</code> <p>The label to run</p> required"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_comms","title":"<code>route_select_comms(label)</code>","text":"<p>called when comms changes selection. Note:     Typically used to run a task that uses an await comms</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_comms_2d","title":"<code>route_select_comms_2d(label)</code>","text":"<p>called when comms changes selection. Note:     Typically used to run a task that uses an await comms</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_grid","title":"<code>route_select_grid(label)</code>","text":"<p>called when grid changes selection.</p> Note <p>Typically used to run a task that uses an await comms</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_normal","title":"<code>route_select_normal(label)</code>","text":"<p>called when comms changes selection. Note:     Typically used to run a task that uses an await comms</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_science","title":"<code>route_select_science(label)</code>","text":"<p>called when science changes selection.</p> Note <p>Typically used to run a task that uses an await scan</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_select_weapons","title":"<code>route_select_weapons(label)</code>","text":"<p>called when weapons changes selection.</p> Note <p>No know use for this yet</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_spawn","title":"<code>route_spawn(label)</code>","text":"<p>called when a space_object is spawned.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/routes/#sbs_utils.procedural.routes.route_spawn_grid","title":"<code>route_spawn_grid(label)</code>","text":"<p>called when a grid_object is spawned.</p> <p>Parameters:</p> Name Type Description Default <code>label</code> <code>label</code> <p>The label to run</p> required <p>Returns:</p> Type Description <p>The route: Used rarely to cancel the route</p>"},{"location":"api/procedural/science/","title":"The science module","text":""},{"location":"api/procedural/science/#overview","title":"Overview","text":""},{"location":"api/procedural/science/#api-science","title":"API: science","text":""},{"location":"api/procedural/science/#sbs_utils.procedural.science.scan","title":"<code>scan(path=None, buttons=None, timeout=None, auto_side=True)</code>","text":"<p>Start a science scan</p> <p>Parameters:</p> Name Type Description Default <code>path</code> <code>str</code> <p>The path of scripted scan data. Default is None.</p> <code>None</code> <code>buttons</code> <code>dict</code> <p>dictionary key = button, value = label. Defaults to None.</p> <code>None</code> <code>timeout</code> <code>Promise</code> <p>A promise typically by calling timeout(). Defaults to None.</p> <code>None</code> <code>auto_side</code> <code>bool</code> <p>If true quickly scans thing on the same side. Defaults to True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>Promise</code> <p>A promise to wait. Typically passed to an await/AWAIT</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.scan_results","title":"<code>scan_results(message, target=None, tab=None)</code>","text":"<p>Set the scan results for the current scan. This should be called when the scan is completed.    This is typically called as part of a scan()    This could also be called in response to a routed science message.    When paired with a scan() the target and tab are not needed.    Tab is the variable SCAN_TAB, target is track </p> <p>Parameters:</p> Name Type Description Default <code>message</code> <code>str</code> <p>Scan text for a scan that is in progress.</p> required <code>target</code> <code>Any</code> <p>Not currently used. Default is None.</p> <code>None</code> <code>tab</code> <code>str</code> <p>Scan tab for a scan that is in progress. Default is None.</p> <code>None</code>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_add_scan","title":"<code>science_add_scan(message, label=None, data=None, path=None)</code>","text":"<p>Add a scan button. Args:     message (str): The text contents of the button.     label (str | Label): The label to run when the button is pressed.     data (dict, optional): Data associated with this button.     path (str, optional): The path to follow when the button is pressed.</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_ensure_scan","title":"<code>science_ensure_scan(ids_or_objs, target_ids_or_objs, tabs='scan')</code>","text":"<p>Checks that the target objects have been scanned by the specified objects. Args:     ids_or_objs (set[Agent | int]): The scanning ship(s)     target_ids_or_objs (set[Agent | int]): The targeted ship(s)</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_get_scan_data","title":"<code>science_get_scan_data(origin, target, tab='scan')</code>","text":"<p>Get the science scan as seen by the ship doing the scan. Args:     origin (int | Agent): The ship doing the scan     target (int |Agent): The target space object     tab (str): The science tab the info goes to Returns:     str: The applicable scan data</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_has_scan_data","title":"<code>science_has_scan_data(origin, target, tab='scan')</code>","text":"<p>Check if the target is has scan data for the scanning ship. Args:     origin (int | Agent): The ship doing the scan (probably a player ship)     target (int | Agent): The target space object     tab (str): The science tab being checked (optional, default is 'scan') Returns:     bool: True if the scan data exists</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_is_unknown","title":"<code>science_is_unknown(origin, target)</code>","text":"<p>Check if the target is known to the given ship. Based on the 'scan' tab on the science widget. To use a different tab, use <code>science_has_scan_data()</code> instead Args:     origin (int | Agent): The ship doing the scan (probably a player ship)     target (int | Agent): The target space object</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_navigate","title":"<code>science_navigate(path)</code>","text":"<p>Navigate to a particular comms path. Must be called on the GUI task for science. Args:     path (str): The comms button path to which the GUI will navigate.</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_set_2dview_focus","title":"<code>science_set_2dview_focus(client_id, focus_id=0)</code>","text":"<p>Set the specified client to focus its 2D view on the specified alternate ship. Args:     client_id (int): The client id     focus_id (int, optional): The object on which to focus.</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_set_scan_data","title":"<code>science_set_scan_data(player_id_or_obj, scan_target_id_or_obj, tabs)</code>","text":"<p>Immediately set the science scan data for a scan target. Use this for things that you do not want to have scan delayed.</p> <p>Parameters:</p> Name Type Description Default <code>player_id_or_obj</code> <code>Agent | int</code> <p>The player ship agent id or object</p> required <code>scan_target_id_or_obj</code> <code>Agent | int</code> <p>The target ship agent id or object</p> required <code>tabs</code> <code>dict</code> <p>A dictionary to key = tab, value = scan string</p> required"},{"location":"api/procedural/science/#sbs_utils.procedural.science.science_update_scan_data","title":"<code>science_update_scan_data(origin, target, info, tab='scan')</code>","text":"<p>Immediately update the scan data of the target space object for the scanning ship. NOTE: Only use this if the scanning ship has already scanned the target, and the scan text needs to be updated, or if you want to forcibly add the scan info a ship even if it hasn't been scanned yet. Args:     origin (int | Agent): The scanning ship (probably a player ship)     target (int | Agent): The object being scanned     info (str): The new scan information     tab (str): The science tab to which the info belongs (e.g. 'scan' or 'intel')</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.show_warning","title":"<code>show_warning(t)</code>","text":"<p>Same as <code>print(t)</code>. Prints a message to the F7 screen. Args:     t (str): The string to display.</p>"},{"location":"api/procedural/science/#sbs_utils.procedural.science.start_science_message","title":"<code>start_science_message(event)</code>","text":"<p>This is how AUTOSCAN AUTO SCAN is accomplished</p> <p>Parameters:</p> Name Type Description Default <code>event</code> <code>event</code> <p>The event that triggered the auto scan.</p> required"},{"location":"api/procedural/science/#sbs_utils.procedural.science.start_science_selected","title":"<code>start_science_selected(event)</code>","text":"<p>Trigger a science scan to begin. Args:     event (event): The event that triggered the scan.</p>"},{"location":"api/procedural/ship_data/","title":"The ship_data module","text":""},{"location":"api/procedural/ship_data/#overview","title":"Overview","text":""},{"location":"api/procedural/ship_data/#api-ship-data","title":"API: ship data","text":""},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.alien_keys","title":"<code>alien_keys()</code>","text":"<p>Get all keys in the ship data that contain \"alien\" in the key. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.arvonian_ship_keys","title":"<code>arvonian_ship_keys()</code>","text":"<p>Get all keys in the ship data for Arvonian ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.arvonian_starbase_keys","title":"<code>arvonian_starbase_keys()</code>","text":"<p>Get all keys in the ship data for Arvonian starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.asteroid_keys","title":"<code>asteroid_keys()</code>","text":"<p>Get all asteroid keys in the ship data. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.container_keys","title":"<code>container_keys()</code>","text":"<p>Get all keys in the ship data that contian \"container\" in the key. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.crystal_asteroid_keys","title":"<code>crystal_asteroid_keys()</code>","text":"<p>Get all crystal asteroid keys (excludes plain) in the ship data. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.danger_keys","title":"<code>danger_keys()</code>","text":"<p>Get all keys in the ship data that contain \"danger\" in the key. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.filter_ship_data_by_side","title":"<code>filter_ship_data_by_side(test_ship_key, sides, role=None, ret_key_only=False)</code>","text":"<p>Get a list of all ships with the given sides. Args:     test_ship_key (str | None): Only include ship data for which the key includes this substring.     sides (str): The comma-separated list of sides by which the ship data should be filtered.     role (str, optional): An optional role by which the list may also be filtered. Must be a single role.     ret_key_only (bool, optional): Should the returned list be a list of keys (if True), or a list of ship data entries (if False)? Returns:     list[str | dict]: The list of keys or list of ship data entries.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.get_ship_data","title":"<code>get_ship_data()</code>","text":"<p>Load the ship data, store it to the cache, and return it. If the ship data is already in cache, returns it the cache contents instead of loading the file again. Includes ship data from <code>extraShipData.json</code> for the current mission directory, if present. Returns:     dict: The ship data dictionary.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.get_ship_data_for","title":"<code>get_ship_data_for(ship_key)</code>","text":"<p>Get the ship data information for the ship with the given key. Args:     ship_key (str): The key for the ship. Returns:     dict: The ship data contents.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.get_ship_index","title":"<code>get_ship_index()</code>","text":"<p>Get the ship data information and index it as a dictionary.  Keys include: * individual ship keys Returns:     dict: The indexed ship data information.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.get_ship_name","title":"<code>get_ship_name(ship_key)</code>","text":"<p>Get the name of the ship with the specified key. Args:     ship_key (str): The key for the ship. Returns:     str | None: The name of the ship, or None.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.kralien_ship_keys","title":"<code>kralien_ship_keys()</code>","text":"<p>Get all keys in the ship data for Kralien ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.kralien_starbase_keys","title":"<code>kralien_starbase_keys()</code>","text":"<p>Get all keys in the ship data for Kralien starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.merge_mod_ship_data","title":"<code>merge_mod_ship_data(mod)</code>","text":"<p>Get the ship data for the current mission, then adds the contents of <code>extraShipData.json</code> for the specified mission folder, if present, and adds it to the cache. Returns:     dict: The ship data.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.pirate_ship_keys","title":"<code>pirate_ship_keys()</code>","text":"<p>Get all keys in the ship data for pirate ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.pirate_starbase_keys","title":"<code>pirate_starbase_keys()</code>","text":"<p>Get all keys in the ship data for pirate starbases. (As of 1.2.2, there were none.) Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.plain_asteroid_keys","title":"<code>plain_asteroid_keys()</code>","text":"<p>Get all plain asteroid keys (excludes crystal) in the ship data. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.reset_ship_data_caches","title":"<code>reset_ship_data_caches()</code>","text":"<p>Clear the ship data cache. Use to remove mission ship data for other mission folders, or possibly to just clear out some memory usage if it won't be used.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.skaraan_ship_keys","title":"<code>skaraan_ship_keys()</code>","text":"<p>Get all keys in the ship data for Skaraan ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.skaraan_starbase_keys","title":"<code>skaraan_starbase_keys()</code>","text":"<p>Get all keys in the ship data for Skaraan starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.terran_ship_keys","title":"<code>terran_ship_keys()</code>","text":"<p>Get all keys in the ship data for terran ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.terran_starbase_keys","title":"<code>terran_starbase_keys()</code>","text":"<p>Get all keys in the ship data for terran starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.torgoth_ship_keys","title":"<code>torgoth_ship_keys()</code>","text":"<p>Get all keys in the ship data for Torgoth ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.torgoth_starbase_keys","title":"<code>torgoth_starbase_keys()</code>","text":"<p>Get all keys in the ship data for Torgoth starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.ximni_ship_keys","title":"<code>ximni_ship_keys()</code>","text":"<p>Get all keys in the ship data for Ximni ships. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/ship_data/#sbs_utils.procedural.ship_data.ximni_starbase_keys","title":"<code>ximni_starbase_keys()</code>","text":"<p>Get all keys in the ship data for Ximni starbases. Returns:     list[str]: The list of keys.</p>"},{"location":"api/procedural/space_objects/","title":"The space_objects module","text":""},{"location":"api/procedural/space_objects/#overview","title":"Overview","text":""},{"location":"api/procedural/space_objects/#api-space-objects","title":"API: Space Objects","text":""},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.broad_test","title":"<code>broad_test(x1, z1, x2, z2, broad_type=65520)</code>","text":"<p>Returns a set of ids that are in the target rect. Args:     x1 (float): x location (left)     z1 (float): z location (top)     x2 (float): x location (right)     z2 (float): z location (bottom)     broad_type (int, optional): The type of objects for which to search.         * TERRAIN = 0x01,         * NPC = 0x10,         * PLAYER = 0x20,         * ALL = 0xffff,         * NPC_AND_PLAYER = 0x30,         * DEFAULT is 0xfff0 Returns:     set[int]: A set of ids</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.broad_test_around","title":"<code>broad_test_around(id_or_obj, width, depth, broad_type=65520)</code>","text":"<p>Returns a set of ids that are around the specified object in the target rect. Args:     id_obj (Agent | int): The ID or object of an agent     w (float): width     d (float): depth     broad_type (int, optional): The type of objects for which to search.         * TERRAIN = 0x01,         * NPC = 0x10,         * PLAYER = 0x20,         * ALL = 0xffff,         * NPC_AND_PLAYER = 0x30,         * DEFAULT is 0xfff0 Returns:     set[int]: A set of ids</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.clear_target","title":"<code>clear_target(chasers, throttle=0)</code>","text":"<p>Clear the target on an agent or set of agents.</p> <p>Parameters:</p> Name Type Description Default <code>chasers</code> <code>set[Agent | int] | int | Agent | CloseData | SpawnData</code> <p>an agent or set of agents</p> required"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.closest","title":"<code>closest(the_ship, the_set, max_dist=None, filter_func=None)</code>","text":"<p>Get the CloseData that matches the test set, max_dist, and optional filter function.</p> <p>Parameters:</p> Name Type Description Default <code>the_ship</code> <code>Agent | int</code> <p>The agent ID or object</p> required <code>the_set</code> <code>Agent | int | set[Agent | int]</code> <p>The agent or id or set of objects or ids to test against</p> required <code>max_dist</code> <code>float</code> <p>The maximum distance to check. Defaults to None.</p> <code>None</code> <code>filter_func</code> <code>Callable</code> <p>An additional function to test with. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>CloseData</code> <code>CloseData</code> <p>The closest object's CloseData to get the distance.</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.closest_list","title":"<code>closest_list(source, the_set, max_dist=None, filter_func=None)</code>","text":"<p>Get the list of close data that matches the test set, max_dist, and optional filter function. Args:     source (Agent | int | CloseData | SpawnData): The agent object or id of the agent.     the_set (set[int]): A set of ids to check against.     max_dist (float, optional): The maximum distance to include. Defaults to None.     filter_func (Callable, optional): An additional function to check against. Defaults to None.</p> <p>Returns:</p> Type Description <code>list[CloseData]</code> <p>list[CloseData]: The list of CloseData representing the close objects to get the distance.</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.closest_object","title":"<code>closest_object(the_ship, the_set, max_dist=None, filter_func=None)</code>","text":"<p>Get the CloseData that matches the test set, max_dist, and optional filter function.</p> <p>Parameters:</p> Name Type Description Default <code>the_ship</code> <code>Agent | int</code> <p>The agent ID or object.</p> required <code>the_set</code> <code>Agent | int | set[Agent | int]</code> <p>The id or object or set of objects or ids to test against.</p> required <code>max_dist</code> <code>float</code> <p>The maximum distance to check. Defaults to None.</p> <code>None</code> <code>filter_func</code> <code>func</code> <p>An additional function to test with. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>agent</code> <code>Agent</code> <p>Return the closest agents or None</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.delete_object","title":"<code>delete_object(id_or_objs)</code>","text":"<p>Delete the specified object or set of objects. Args:     id_or_objs (Agent | int | set[Agent | int]): The object or set of objects.</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.delete_objects_box","title":"<code>delete_objects_box(x, y, z, w, h, d, broad_type=15, roles=None)</code>","text":"<p>Removes items from an area</p> <p>Parameters:</p> Name Type Description Default <code>x,y,z</code> <code>(float, float, float)</code> <p>the start point/origin</p> required <code>radius</code> <code>float</code> <p>the radius </p> required <code>broad_type</code> <code>int</code> <p>The engine level bit test for broadtest * TERRAIN = 0x01, * NPC = 0x10, * PLAYER = 0x20, * ALL = 0xffff, * NPC_AND_PLAYER = 0x30, * DEFAULT is 0x0F</p> <code>15</code> <code>roles</code> <code>str</code> <p>A comma-separated list of roles that the objects must have to be deleted.</p> <code>None</code>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.delete_objects_sphere","title":"<code>delete_objects_sphere(x, y, z, radius, broad_type=15, roles=None)</code>","text":"<p>Removes items from an area if they meet the broadtype and role filter requirements.</p> <p>Parameters:</p> Name Type Description Default <code>x,y,z</code> <code>(float, float, float)</code> <p>The start point/origin of the sphere.</p> required <code>radius</code> <code>float</code> <p>The radius of the sphere.</p> required <code>roles</code> <code>str</code> <p>A comma-separated list of roles that the objects must have to be deleted.</p> <code>None</code>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.get_engineering_value","title":"<code>get_engineering_value(id_or_obj, name, default=None)</code>","text":"<p>Gets an engineering value by name.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>An agent id or object.</p> required <code>name</code> <code>str</code> <p>The engineering value to get.</p> required <code>default</code> <code>float</code> <p>What to return if not found. Defaults to None.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>float</code> <p>A value or the default</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.get_pos","title":"<code>get_pos(id_or_obj)</code>","text":"<p>Get the position of an agent.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent for which to get the position.</p> required <p>Returns:</p> Type Description <p>Vec3 | None: The position of the agent or None if it doesn't exist.</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.set_engineering_value","title":"<code>set_engineering_value(id_or_obj, name, value)</code>","text":"<p>Sets an engineering value by name</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>An agent id or object.</p> required <code>name</code> <code>str</code> <p>The engineering value to set.</p> required <code>value</code> <code>float</code> <p>The value.</p> required"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.set_pos","title":"<code>set_pos(id_or_obj, x, y=None, z=None)</code>","text":"<p>Set the position of an agent or set of agents.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int | set[Agent | int]</code> <p>An agent or set of agent IDs or objects.</p> required <code>x</code> <code>float | Vec3</code> <p>The x location or a vector.</p> required <code>y</code> <code>float</code> <p>y location. If None, <code>x</code> is assumed to be a Vec3. Defaults to None.</p> <code>None</code> <code>z</code> <code>float</code> <p>z location. Defaults to None.</p> <code>None</code>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.target","title":"<code>target(set_or_object, target_id, shoot=True, throttle=1.0, stop_dist=None)</code>","text":"<p>Set the target for an agent or set of agents. Args:     set_or_object (Agent | int | set[Agent | int]): The agent or set of agents for which to set the target.     target_id (Agent | int): The agent id or object to target.     shoot (bool, optional): Whether to also lock weapons on target. Defaults to True.     throttle (float, optional): The speed at which to travel. Defaults to 1.0.     stop_dist (int, optional): If the target is within this distance, then the throttle will be set to 0. Default is None.</p>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.target_pos","title":"<code>target_pos(chasers, x, y, z, throttle=1.0, target_id=None, stop_dist=None)</code>","text":"<p>Set the target position of an agent or set of agents</p> <p>Parameters:</p> Name Type Description Default <code>chasers</code> <code>Agent | int | set[Agent | int]</code> <p>The agents which should go to the target position.</p> required <code>x</code> <code>float</code> <p>x location</p> required <code>y</code> <code>float</code> <p>y location</p> required <code>z</code> <code>float</code> <p>z location</p> required <code>throttle</code> <code>float</code> <p>The speed at which to travel. Defaults to 1.0.</p> <code>1.0</code> <code>target_id</code> <code>id</code> <p>What to shoot</p> <code>None</code> <code>stop_dist</code> <code>float</code> <p>If the target position is within this distance, then the throttle will be set to 0. Default is None.</p> <code>None</code>"},{"location":"api/procedural/space_objects/#sbs_utils.procedural.space_objects.target_shoot","title":"<code>target_shoot(chasers, target_id=None)</code>","text":"<p>Set the target id only Args:     chasers (agent id | agent set): the agents to set     target_id (id, optional): What to shoot</p>"},{"location":"api/procedural/spawn/","title":"The spawn module","text":""},{"location":"api/procedural/spawn/#overview","title":"Overview","text":""},{"location":"api/procedural/spawn/#api-spawn","title":"API: Spawn","text":""},{"location":"api/procedural/spawn/#sbs_utils.procedural.spawn.grid_spawn","title":"<code>grid_spawn(id, name, tag, x, y, icon_index, color, roles)</code>","text":"<p>Spawn a grid object on a ship.</p> <p>Parameters:</p> Name Type Description Default <code>id</code> <code>Agent | int</code> <p>The agent to which the grid object should be added</p> required <code>name</code> <code>str</code> <p>The name of the grid object</p> required <code>tag</code> <code>str</code> <p>The tag/side</p> required <code>x</code> <code>int</code> <p>the x grid location</p> required <code>y</code> <code>int</code> <p>the y grid location</p> required <code>icon_index</code> <code>int</code> <p>the icon index</p> required <code>color</code> <code>str</code> <p>color </p> required <code>roles</code> <code>str</code> <p>string of comma-separated roles</p> required <p>Returns:</p> Name Type Description <code>GridObject</code> <p>The grid object.</p>"},{"location":"api/procedural/spawn/#sbs_utils.procedural.spawn.npc_spawn","title":"<code>npc_spawn(x, y, z, name, side, ship_key, behave_id)</code>","text":"<p>Spawn a non-player ship.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>float</code> <p>the x location</p> required <code>y</code> <code>float</code> <p>the y location</p> required <code>z</code> <code>float</code> <p>The z location</p> required <code>name</code> <code>str</code> <p>The name can be None</p> required <code>side</code> <code>str</code> <p>The side the the ship is on</p> required <code>ship_key</code> <code>str</code> <p>The key from shipData to use</p> required <code>behave_id</code> <code>str</code> <p>Behavior type</p> required <p>Returns:</p> Name Type Description <code>SpawnData</code> <p>The SpawnData object for the npc.</p>"},{"location":"api/procedural/spawn/#sbs_utils.procedural.spawn.player_spawn","title":"<code>player_spawn(x, y, z, name, side, ship_key)</code>","text":"<p>Spawn a player ship.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>float</code> <p>the x location</p> required <code>y</code> <code>float</code> <p>the y location</p> required <code>z</code> <code>float</code> <p>The z location</p> required <code>name</code> <code>str</code> <p>The name can be None</p> required <code>side</code> <code>str</code> <p>The side the the ship is on</p> required <code>ship_key</code> <code>str</code> <p>The key from shipData to use</p> required <p>Returns:</p> Name Type Description <code>SpawnData</code> <p>The SpawnData object for the player ship.</p>"},{"location":"api/procedural/spawn/#sbs_utils.procedural.spawn.terrain_spawn","title":"<code>terrain_spawn(x, y, z, name, side, ship_key, behave_id)</code>","text":"<p>Spawn a terrain (passive) object.</p> <p>Parameters:</p> Name Type Description Default <code>x</code> <code>float</code> <p>the x location</p> required <code>y</code> <code>float</code> <p>the y location</p> required <code>z</code> <code>float</code> <p>The z location</p> required <code>name</code> <code>str</code> <p>The name can be None</p> required <code>side</code> <code>str</code> <p>The side the the object is on can be None</p> required <code>ship_key</code> <code>str</code> <p>The key from shipData to use</p> required <code>behave_id</code> <code>str</code> <p>Behavior type</p> required <p>Returns:</p> Name Type Description <code>SpawnData</code> <p>The SpawnData object for the terrain.</p>"},{"location":"api/procedural/timers/","title":"The timers and counters","text":""},{"location":"api/procedural/timers/#overview","title":"Overview","text":""},{"location":"api/procedural/timers/#api-timers-and-counters","title":"API: Timers and Counters","text":""},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.clear_counter","title":"<code>clear_counter(id_or_obj, name)</code>","text":"<p>Removes a counter. Args:     id_or_obj (Agent | int): The agent id or object.     name (str): The name of the counter.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.clear_timer","title":"<code>clear_timer(id_or_obj, name)</code>","text":"<p>Deactivate a timer.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The id or object of the agent that has the timer.</p> required <code>name</code> <code>str</code> <p>Timer name.</p> required"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.delay_app","title":"<code>delay_app(seconds=0, minutes=0)</code>","text":"<p>Creates a Promise that waits for the specified time to elapse. This is in application time (i.e. it could NOT get paused).</p> <p>Parameters:</p> Name Type Description Default <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code> <p>Returns:</p> Name Type Description <code>Promise</code> <code>Delay</code> <p>A promise that is done when time has elapsed.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.delay_sim","title":"<code>delay_sim(seconds=0, minutes=0)</code>","text":"<p>Creates a Promise that waits for the specified time to elapse. This is in simulation time (i.e. it could get paused).</p> <p>Parameters:</p> Name Type Description Default <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code> <p>Returns:</p> Name Type Description <code>Promise</code> <code>Delay</code> <p>A promise that is done when time has elapsed.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.delay_test","title":"<code>delay_test(seconds=0, minutes=0)</code>","text":"<p>Creates a Promise that waits for the specified time to elapse. This is for unit testing and not realtime.</p> <p>Parameters:</p> Name Type Description Default <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code> <p>Returns:</p> Name Type Description <code>Promise</code> <p>A promise that is done when time has elapsed.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.format_time_remaining","title":"<code>format_time_remaining(id_or_obj, name)</code>","text":"<p>Get the remaining time on a timer and return a formatted string.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent id or object.</p> required <code>name</code> <code>str</code> <p>The timer name.</p> required <p>Returns:</p> Name Type Description <code>str</code> <p>A formatted string with the minutes and seconds left on the timer.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.get_counter_elapsed_seconds","title":"<code>get_counter_elapsed_seconds(id_or_obj, name, default_value=None)</code>","text":"<p>Returns the number of seconds since the counter started.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent id or object.</p> required <code>name</code> <code>str</code> <p>The counter name.</p> required <p>Returns:</p> Name Type Description <code>int</code> <p>The number of seconds since the counter started.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.get_time_remaining","title":"<code>get_time_remaining(id_or_obj, name)</code>","text":"<p>The number of seconds remaining for a timer.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>agent</code> <p>The agent id or object.</p> required <code>name</code> <code>str</code> <p>The timer name.</p> required <p>Returns:</p> Name Type Description <code>int</code> <p>The number of seconds remaining.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.is_timer_finished","title":"<code>is_timer_finished(id_or_obj, name)</code>","text":"<p>Check to see if a timer is finished.</p> Note <ul> <li>If the timer is not set, this function returns true.</li> </ul> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The id or object of the agent that has the timer.</p> required <code>name</code> <code>str</code> <p>Timer name</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if a timer finished, or if it is not set.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.is_timer_set","title":"<code>is_timer_set(id_or_obj, name)</code>","text":"<p>Check to see if a timer is running.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The id or object of the agent that has the timer</p> required <code>name</code> <code>str</code> <p>Timer name</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if a timer exists</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.is_timer_set_and_finished","title":"<code>is_timer_set_and_finished(id_or_obj, name)</code>","text":"<p>Check to see if a timer was set and is finished.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The id or object of the agent that has the timer.</p> required <code>name</code> <code>str</code> <p>Timer name.</p> required <p>Returns:</p> Name Type Description <code>bool</code> <p>True if a timer finished and was set.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.set_timer","title":"<code>set_timer(id_or_obj, name, seconds=0, minutes=0)</code>","text":"<p>Set up a timer</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent to set the timer for</p> required <code>name</code> <code>str</code> <p>The name of the timer</p> required <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.start_counter","title":"<code>start_counter(id_or_obj, name)</code>","text":"<p>Starts counting seconds.</p> <p>Parameters:</p> Name Type Description Default <code>id_or_obj</code> <code>Agent | int</code> <p>The agent for which to set the timer.</p> required <code>name</code> <code>str</code> <p>The name of the counter.</p> required"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.timeout","title":"<code>timeout(seconds=0, minutes=0)</code>","text":"<p>Creates a Promise that waits for the specified time to elapse. This is in simulation time (i.e. it could NOT get paused).</p> <p>Parameters:</p> Name Type Description Default <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code> <p>Returns:</p> Name Type Description <code>Promise</code> <code>Delay</code> <p>A promise that is done when time has elapsed.</p>"},{"location":"api/procedural/timers/#sbs_utils.procedural.timers.timeout_sim","title":"<code>timeout_sim(seconds=0, minutes=0)</code>","text":"<p>Creates a Promise that waits for the specified time to elapse. This is in simulation time (i.e. it could get paused).</p> <p>Parameters:</p> Name Type Description Default <code>seconds</code> <code>int</code> <p>The number of seconds. Defaults to 0.</p> <code>0</code> <code>minutes</code> <code>int</code> <p>The number of minutes. Defaults to 0.</p> <code>0</code> <p>Returns:</p> Name Type Description <code>Promise</code> <code>Delay</code> <p>A promise that is done when time has elapsed</p>"},{"location":"api/utility/faces/","title":"The Faces module","text":"<p>The faces module is used for creating face images for comms screens.</p> <p>Faces are based off of a set of image textures with a grid of cell images.</p> <p>The set of images is defined in allFaceFiles.txt. This file defines a key name for the texture and an image in the data\\graphics folder. Cells are 512x512 and the total images must be a valid DirectX12 pixel size.</p> <p>This set of images can be extended with new textures added to allFacesFiles.txt</p>"},{"location":"api/utility/faces/#face-generation-functions","title":"Face generation functions","text":"<p>The faces module has a set of functions to generate random faces for the base set of face image textures provided by Artemis Cosmos.</p> <p>=== \"python\"     <pre><code>self.face_desc = random_skaraan()\n</code></pre></p> <p>There are also function to make it easier to create specific faces by passing indexes to define indexes that represent cells containing know art images for things like hair, eyes, mouth etc. It may take some experimentation to find the values for your character, but this is a simplified way to create repeatable characters. Other ways to create consistent faces is to use one of the predefined class:<code>~sbs_utils.faces.Characters</code> or hand code a face string.</p> Python <pre><code>  self.face_desc = skaraan(0, 1,2,1,3)\n</code></pre>"},{"location":"api/utility/faces/#character-faces","title":"Character Faces","text":"<p>The class class:<code>~sbs_utils.faces.Characters</code> has a list of predefined face strings.</p> <p>These are a good examples for creating a face string by hand.</p>"},{"location":"api/utility/faces/#the-faces-string-syntax","title":"The faces string syntax","text":"<p>Face string is a set of layers that reference a cell in a texture separated by a semi-colon. The first layer is the lowest layer.</p> <p>  [] []; <ul> <li> the texture tag specified in allFaceFiles.txt <li> a Tint to add to the layer. e.g. changing skin tone <li> the cell's col <li> the cell's row <li> optional to offset the layer in x <li> optional to offset the layer in y"},{"location":"api/utility/faces/#api-faces-module","title":"API: faces module","text":""},{"location":"api/utility/faces/#sbs_utils.faces.Characters","title":"<code>Characters</code>","text":"<p>A set of predefined faces</p>"},{"location":"api/utility/faces/#sbs_utils.faces.arvonian","title":"<code>arvonian(face_id, eye_id, mouth_id, crown_id, collar_id)</code>","text":"<p>Create an arvonian face</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int</code> <p>The index of the face 0</p> required <code>eye_id</code> <code>int</code> <p>The index of the eyes 0-4</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-4</p> required <code>crown_id</code> <code>int | None</code> <p>The index of the crown 0-4 or None</p> required <code>collar_id</code> <code>int | None</code> <p>The index of the collar 0-4 or None</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.clear_face","title":"<code>clear_face(ship_id)</code>","text":"<p>Removes a face string for a specified ID.</p> <p>Parameters:</p> Name Type Description Default <code>ship_id</code> <code>Agent | int</code> <p>The id of the ship/object</p> required"},{"location":"api/utility/faces/#sbs_utils.faces.get_face","title":"<code>get_face(ship_id)</code>","text":"<p>Returns a face string for a specified ID</p> <p>Parameters:</p> Name Type Description Default <code>ship_id</code> <code>Agent | int</code> <p>The id of the ship/object</p> required <p>Returns:</p> Name Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.get_face_from_data","title":"<code>get_face_from_data(race)</code>","text":""},{"location":"api/utility/faces/#sbs_utils.faces.get_face_from_data--deprecated-in-v110","title":"Deprecated in v1.1.0.","text":"<p>Use random_race instead.</p> <p>Parameters:</p> Name Type Description Default <code>race</code> <code>_type_</code> <p>description</p> required <p>Returns:</p> Name Type Description <code>_type_</code> <p>description</p>"},{"location":"api/utility/faces/#sbs_utils.faces.kralien","title":"<code>kralien(face_id, eye_id, mouth_id, scalp_id, extra_id)</code>","text":"<p>Create an kralien face.</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int</code> <p>The index of the face 0</p> required <code>eye_id</code> <code>int</code> <p>The index of the eyes 0-4</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-4</p> required <code>scalp_id</code> <code>int | None</code> <p>The index of the scalp 0-4 or None</p> required <code>extra_id</code> <code>int | None</code> <p>The index of the extra 0-4 or None</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.probably","title":"<code>probably(chance)</code>","text":"<p>Will compare a float with a random float between 0 and 1. If the provided number is larger than the random number, will return True. Args:     chance (float): A float between 0 and 1.</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_arvonian","title":"<code>random_arvonian()</code>","text":"<p>Create a random arvonian face.</p> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_face","title":"<code>random_face(race=None)</code>","text":"<p>Returns a random face for the specified race.</p> <p>Parameters:</p> Name Type Description Default <code>race</code> <code>str</code> <p>The Race Terran, Torgoth etc.</p> <code>None</code> <p>Returns:</p> Name Type Description <code>str</code> <p>The Face String</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_kralien","title":"<code>random_kralien()</code>","text":"<p>Create a random kralien face.</p> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_skaraan","title":"<code>random_skaraan()</code>","text":"<p>Create a random skaraan face.</p> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_terran","title":"<code>random_terran(face=None, civilian=None)</code>","text":"<p>Create a random terran face.</p> <p>Parameters:</p> Name Type Description Default <code>face</code> <code>int | None</code> <p>The index of the hair 0=male,1=female,2=fluid male, 3=fluid female or None= random</p> <code>None</code> <code>civilian</code> <code>boolean | None</code> <p>The force this to be a civilian=True, For non-civilian=False or None= random</p> <code>None</code> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_terran_female","title":"<code>random_terran_female(civilian=None)</code>","text":"<p>Create a random terran female face.</p> <p>Parameters:</p> Name Type Description Default <code>civilian</code> <code>boolean</code> <p>The force this to be a civilian=True, For non-civilian=False or None= random. Default is None.</p> <code>None</code> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_terran_fluid","title":"<code>random_terran_fluid(civilian=None)</code>","text":"<p>Create a random fluid terran face i.e. may have male or female features.</p> <p>Parameters:</p> Name Type Description Default <code>civilian</code> <code>boolean</code> <p>The force this to be a civilian=True, For non-civilian=False or None= random. Default is None.</p> <code>None</code> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_terran_male","title":"<code>random_terran_male(civilian=None)</code>","text":"<p>Create a random terran male face.</p> <p>Parameters:</p> Name Type Description Default <code>civilian</code> <code>boolean</code> <p>The force this to be a civilian=True, For non-civilian=False, or None= random. Default is None.</p> <code>None</code> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_torgoth","title":"<code>random_torgoth()</code>","text":"<p>Create a random torgoth face.</p> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.random_ximni","title":"<code>random_ximni()</code>","text":"<p>Create a random ximni face.</p> <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.set_face","title":"<code>set_face(ship_id, face)</code>","text":"<p>Sets a face string for a specified ID.</p> <p>Parameters:</p> Name Type Description Default <code>ship_id</code> <code>Agent | int</code> <p>The id of the ship/object</p> required <code>face</code> <code>str</code> <p>A Face string</p> required"},{"location":"api/utility/faces/#sbs_utils.faces.skaraan","title":"<code>skaraan(face_id, eye_id, mouth_id, horn_id, hat_id)</code>","text":"<p>Create a skaraan face</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int</code> <p>The index of the face 0</p> required <code>eye_id</code> <code>int</code> <p>The index of the eyes 0-4</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-4</p> required <code>horn_id</code> <code>int | None</code> <p>The index of the horn 0-4 or None</p> required <code>hat_id</code> <code>int | None</code> <p>The index of the hat 0-4 or None</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.terran","title":"<code>terran(face_id, eye_id, mouth_id, hair_id, longhair_id, facial_id, extra_id, uniform_id, skintone, hairtone)</code>","text":"<p>Create a terran face.</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int | None</code> <p>The index of the face 0=male, 1=female, 2=fluid_male, 3=fluid_female</p> required <code>eye_id</code> <code>int | None</code> <p>The index of the eyes 0-9</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-9</p> required <code>hair_id</code> <code>int | None</code> <p>The index of the hair 0-9 or None</p> required <code>longhair_id</code> <code>int | None</code> <p>The index of the hair 0-7 or None</p> required <code>facial_id</code> <code>int | None</code> <p>The index of the hair 0-11 or None</p> required <code>extra_id</code> <code>int | None</code> <p>The index of the extra 0-5 or None</p> required <code>uniform_id</code> <code>int | None</code> <p>The index of the uniform 0 or None. None = civilian</p> required <code>skintone</code> <code>int | str | None</code> <p>The index of the skintone 0-??, string = color string or None. </p> required <code>hairtone</code> <code>int | str | None</code> <p>The index of the skintone 0-??, string = color string  or None.</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.torgoth","title":"<code>torgoth(face_id, eye_id, mouth_id, hair_id, extra_id, hat_id)</code>","text":"<p>Create a torgoth face.</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int</code> <p>The index of the face 0</p> required <code>eye_id</code> <code>int</code> <p>The index of the eyes 0-4</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-4</p> required <code>hair_id</code> <code>int | None</code> <p>The index of the hair 0-4 or None</p> required <code>extra_id</code> <code>int | None</code> <p>The index of the extra 0-4 or None</p> required <code>hat_id</code> <code>int | None</code> <p>The index of the hat 0 or None</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/faces/#sbs_utils.faces.ximni","title":"<code>ximni(face_id, eye_id, mouth_id, horns_id, mask_id, collar_id)</code>","text":"<p>Create an ximni face</p> <p>Parameters:</p> Name Type Description Default <code>face_id</code> <code>int</code> <p>The index of the face 0</p> required <code>eye_id</code> <code>int</code> <p>The index of the eyes 0-4</p> required <code>mouth_id</code> <code>int</code> <p>The index of the mouth 0-4</p> required <code>horns_id</code> <code>int | None</code> <p>The index of the horns 0-4 or None</p> required <code>mask_id</code> <code>int | None</code> <p>The index of the mask 0-4 or None</p> required <code>collar_id</code> <code>int | None</code> <p>The index of the collar 0 or None</p> required <p>Returns:</p> Type Description <code>str</code> <p>A Face string</p>"},{"location":"api/utility/scatter/","title":"The Scatter API","text":""},{"location":"api/utility/scatter/#overview","title":"Overview","text":"<ul> <li>scatter </li> <li>scattervec</li> </ul> <p>They contain the same functionality. The only differ in that scattervec takes a single vec (vector) instead of three floats for x,y,z.</p>"},{"location":"api/utility/scatter/#api-scatter","title":"API: scatter","text":""},{"location":"api/utility/scatter/#sbs_utils.scatter.arc","title":"<code>arc(count, x, y, z, r, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points along an circular arc.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate.</p> required <code>x</code> <code>float</code> <p>The start point.</p> required <code>y</code> <code>float</code> <p>The start point.</p> required <code>z</code> <code>float</code> <p>The start point.</p> required <code>r</code> <code>float</code> <p>The radius of the arc.</p> required <code>start</code> <code>float</code> <p>The angle to start at in degrees. Default is 0.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>The angle to end at in degrees default 360. Default is 90.0.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>Should the points be randomly placed along the arc (True), or evenly spaced (False)?</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.box","title":"<code>box(count, x, y, z, x2, y2, z2, centered=False, ax=0, ay=0, az=0, degrees=True)</code>","text":"<p>Calculate the points within a box. If <code>centered</code> is True, <code>x</code>,<code>y</code>,<code>z</code> are the center of the box, and <code>x2</code>,<code>y2</code>,<code>z2</code> are the width, height, and depth, respectively. Otherwise, <code>x</code>,<code>y</code>,<code>z</code> are left, bottom, and front, respectively, while <code>x2</code>,<code>y2</code>,<code>z2</code> are right, top, and back.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate</p> required <code>x</code> <code>float</code> <p>The start point/origin. If <code>centered</code> is true this is the center. If <code>centered</code> is False this is the left.</p> required <code>y</code> <code>float</code> <p>The start point/origin. If <code>centered</code> is true this is the center. If <code>centered</code> is False this is the bottom.</p> required <code>z</code> <code>float</code> <p>The start point/origin. If <code>centered</code> is true this is the center. If <code>centered</code> is False this is the front.</p> required <code>x2</code> <code>float</code> <p>If <code>centered</code> is True, this is the width. If <code>centered</code> is False, this is the right.</p> required <code>y2</code> <code>float</code> <p>If <code>centered</code> is True, this is the height. If <code>centered</code> is False, this is the top.</p> required <code>z2</code> <code>float</code> <p>If <code>centered</code> is True, this is the depth. If <code>centered</code> is False, this is the back.</p> required <code>center</code> <code>bool</code> <p>When True, x,y,z are the center point. Default is False.</p> required <code>ax</code> <code>float</code> <p>Rotate the box around the x axis by this amount.</p> <code>0</code> <code>ay</code> <code>float</code> <p>Rotate the box around the y axis by this amount.</p> <code>0</code> <code>az</code> <code>float</code> <p>Rotate the box around the z axis by this amount.</p> <code>0</code> <code>degrees</code> <code>bool</code> <p>True if the axis rotation values use degrees, False if they use radians. Default is True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.box_fill","title":"<code>box_fill(cw, ch, cd, x, y, z, w, h, d, random=False, ax=0, ay=0, az=0, degrees=True)</code>","text":"<p>Calculate the points within a box. The box is subdivided to ideally avoid overlap.</p> <p>Parameters:</p> Name Type Description Default <code>cw</code> <code>int</code> <p>The number of points to generate for each line width (x)</p> required <code>ch</code> <code>int</code> <p>The number of points to generate for each line height (y)</p> required <code>cd</code> <code>int</code> <p>The number of points to generate for each line width (z)</p> required <code>x</code> <code>float</code> <p>The start point/origin</p> required <code>y</code> <code>float</code> <p>The start point/origin</p> required <code>z</code> <code>float</code> <p>The start point/origin</p> required <code>w</code> <code>float</code> <p>The width</p> required <code>h</code> <code>float</code> <p>The height</p> required <code>d</code> <code>float</code> <p>The depth</p> required <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed. Default is True.</p> <code>False</code> <code>ax</code> <code>float</code> <p>Rotate the box around the x axis by this amount. Default is 0.</p> <code>0</code> <code>ay</code> <code>float</code> <p>Rotate the box around the y axis by this amount. Default is 0.</p> <code>0</code> <code>az</code> <code>float</code> <p>Rotate the box around the z axis by this amount. Default is 0.</p> <code>0</code> <code>degrees</code> <code>bool</code> <p>True if the axis rotation values use degrees, False if they use radians. Default is True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.line","title":"<code>line(count, start_x, start_y, start_z, end_x, end_y, end_z, random=False)</code>","text":"<p>Calculate the points along a line.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate</p> required <code>start_x</code> <code>float</code> <p>The start point/origin</p> required <code>start_y</code> <code>float</code> <p>The start point/origin</p> required <code>start_z</code> <code>float</code> <p>The start point/origin</p> required <code>end_x</code> <code>float</code> <p>The end point/origin</p> required <code>end_y</code> <code>float</code> <p>The end point/origin</p> required <code>end_z</code> <code>float</code> <p>The end point/origin</p> required <code>random</code> <code>bool</code> <p>Should the points be placed randomly along the line? Default is False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.rect_fill","title":"<code>rect_fill(cw, cd, x, y, z, w, d, random=False, ax=0, ay=0, az=0, degrees=True)</code>","text":"<p>Calculate the points within a rect. This assumes it to be flat on the y axis.</p> <p>Parameters:</p> Name Type Description Default <code>cw</code> <code>int</code> <p>The number of points to generate for each line width (x)</p> required <code>cd</code> <code>int</code> <p>The number of points to generate for each line depth (z)</p> required <code>x</code> <code>float</code> <p>The start point</p> required <code>y</code> <code>float</code> <p>The start point</p> required <code>z</code> <code>float</code> <p>The start point</p> required <code>w</code> <code>float</code> <p>The width (x)</p> required <code>d</code> <code>float</code> <p>The depth (z)</p> required <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed. Default is True.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.ring","title":"<code>ring(ca, cr, x, y, z, outer_r, inner_r=0, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points on rings with each ring has same count.</p> <p>Parameters:</p> Name Type Description Default <code>ca</code> <code>int</code> <p>The number of points to generate on each ring</p> required <code>cr</code> <code>int</code> <p>The number of rings</p> required <code>x</code> <code>float</code> <p>The start point/origin</p> required <code>y</code> <code>float</code> <p>The start point/origin</p> required <code>z</code> <code>float</code> <p>The start point/origin</p> required <code>outer_r</code> <code>float</code> <p>The radius</p> required <code>inner_r</code> <code>float</code> <p>The inner radius. Default is 0.</p> <code>0</code> <code>start</code> <code>float</code> <p>degrees start angle. Default is 0.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>degrees start angle. Default is 90.0.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.ring_density","title":"<code>ring_density(counts, x, y, z, outer_r, inner_r=0, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points on rings with each ring specifying count in array.</p> <p>Parameters:</p> Name Type Description Default <code>counts</code> <code>list[int]</code> <p>The number of points to generate per ring.</p> required <code>x</code> <code>float</code> <p>The start point/origin</p> required <code>y</code> <code>float</code> <p>The start point/origin</p> required <code>z</code> <code>float</code> <p>The start point/origin</p> required <code>outer_r</code> <code>float</code> <p>The radius of the outer ring.</p> required <code>inner_r</code> <code>float</code> <p>The inner radius of the ring. Default is 0.</p> <code>0</code> <code>start</code> <code>float</code> <p>Start angle, in degrees.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>Start angle, in degrees.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>When true pointw will be randomly placed. When false points will be evenly placed.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scatter.sphere","title":"<code>sphere(count, x, y, z, r, outer=0, top_only=False, ring=False)</code>","text":"<p>Calculate the points within a sphere or ring.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate.</p> required <code>x</code> <code>float</code> <p>The start point/origin</p> required <code>y</code> <code>float</code> <p>The start point/origin</p> required <code>z</code> <code>float</code> <p>The start point/origin</p> required <code>r</code> <code>float</code> <p>The radius. If <code>outer</code> is specified, this is the inner radius.</p> required <code>outer</code> <code>float</code> <p>The outer radius of the ring or sphere. Default is 0.</p> <code>0</code> <code>top_only</code> <code>bool</code> <p>Generate only the top hemisphere. Default is False.</p> <code>False</code> <code>ring</code> <code>bool</code> <p>Generate a flat ring. Default is False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#api-scattervec","title":"API: scattervec","text":""},{"location":"api/utility/scatter/#sbs_utils.scattervec.arc","title":"<code>arc(count, v, r, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points along an circular arc.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate.</p> required <code>v</code> <code>Vec3</code> <p>The center point/origin</p> required <code>r</code> <code>float</code> <p>The radius of the arc.</p> required <code>start</code> <code>float</code> <p>The angle to start at in degrees. Default is 0.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>The angle to end at in degrees default 360. Default is 90.0.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>Should the points be randomly placed along the arc (True), or evenly spaced (False)?</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.box","title":"<code>box(count, v1, v2, centered=False, a=None, degrees=True)</code>","text":"<p>Calculate the points within a box. If <code>centered</code> is True, <code>v1</code> is the center of the box, and <code>v2</code> contains the width, height, and depth, respectively. Otherwise, <code>v1</code> is the left, bottom, and front, while <code>v2</code> is right, top, and back.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate</p> required <code>v1</code> <code>Vec3</code> <p>The start point/origin. If <code>centered</code> is True this is the center.</p> required <code>v2</code> <code>Vec3</code> <p>The size of the box. If <code>centered</code> is True, this is the width.</p> required <code>center</code> <code>bool</code> <p>When True, x,y,z are the center point. Default is False.</p> required <code>a</code> <code>Vec3</code> <p>Rotate the box around the x axis by this amount.</p> <code>None</code> <code>degrees</code> <code>bool</code> <p>True if the axis rotation value uses degrees, False if it uses radians. Default is True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.box_fill","title":"<code>box_fill(cw, ch, cd, v, w, h, d, random=False)</code>","text":"<p>Calculate the points within a box. The box is subdivided to ideally avoid overlap.</p> <p>Parameters:</p> Name Type Description Default <code>cw</code> <code>int</code> <p>The number of points to generate for each line width (x)</p> required <code>ch</code> <code>int</code> <p>The number of points to generate for each line height (y)</p> required <code>cd</code> <code>int</code> <p>The number of points to generate for each line width (z)</p> required <code>v</code> <code>Vec3</code> <p>The start point/origin</p> required <code>w</code> <code>float</code> <p>The width</p> required <code>h</code> <code>float</code> <p>The height</p> required <code>d</code> <code>float</code> <p>The depth</p> required <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed. Default is True.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.line","title":"<code>line(count, start, end, random=False)</code>","text":"<p>Calculate the points along a line.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate</p> required <code>start</code> <code>Vec3</code> <p>The start point/origin</p> required <code>end</code> <code>Vec3</code> <p>The end point/origin</p> required <code>random</code> <code>bool</code> <p>Should the points be placed randomly along the line? Default is False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.rect_fill","title":"<code>rect_fill(cw, cd, v, w, d, random=False)</code>","text":"<p>Calculate the points within a rect. This assumes it to be flat on the y axis.</p> <p>Parameters:</p> Name Type Description Default <code>cw</code> <code>int</code> <p>The number of points to generate for each line width (x)</p> required <code>cd</code> <code>int</code> <p>The number of points to generate for each line depth (z)</p> required <code>v</code> <code>Vec3</code> <p>The start point</p> required <code>w</code> <code>float</code> <p>The width (x)</p> required <code>d</code> <code>float</code> <p>The depth (z)</p> required <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed. Default is True.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.ring","title":"<code>ring(ca, cr, v, outer_r, inner_r=0, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points on rings with each ring has same count.</p> <p>Parameters:</p> Name Type Description Default <code>ca</code> <code>int</code> <p>The number of points to generate on each ring</p> required <code>cr</code> <code>int</code> <p>The number of rings</p> required <code>v</code> <code>Vec3</code> <p>The start point/origin</p> required <code>outer_r</code> <code>float</code> <p>The radius</p> required <code>inner_r</code> <code>float</code> <p>The radius inner. Default is 0.</p> <code>0</code> <code>start</code> <code>float</code> <p>Degrees start angle. Default is 0.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>Degrees start angle. Default is 99.0.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>When True, points will be randomly placed. When False, points will be evenly placed.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.ring_density","title":"<code>ring_density(counts, v, outer_r, inner_r=0, start=0.0, end=90.0, random=False)</code>","text":"<p>Calculate the points on rings with each ring specifying count in array.</p> <p>Parameters:</p> Name Type Description Default <code>counts</code> <code>list[int]</code> <p>The number of points to generate per ring.</p> required <code>v</code> <code>Vec3</code> <p>The start point/origin</p> required <code>outer_r</code> <code>float</code> <p>The radius of the outer ring.</p> required <code>inner_r</code> <code>float</code> <p>The inner radius of the ring. Default is 0.</p> <code>0</code> <code>start</code> <code>float</code> <p>Start angle, in degrees.</p> <code>0.0</code> <code>end</code> <code>float</code> <p>Start angle, in degrees.</p> <code>90.0</code> <code>random</code> <code>bool</code> <p>When true pointw will be randomly placed. When false points will be evenly placed.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/scatter/#sbs_utils.scattervec.sphere","title":"<code>sphere(count, v, r, outer=0, top_only=False, ring=False)</code>","text":"<p>Calculate the points within a sphere or ring.</p> <p>Parameters:</p> Name Type Description Default <code>count</code> <code>int</code> <p>The number of points to generate.</p> required <code>v</code> <code>Vec3</code> <p>The start point/origin</p> required <code>r</code> <code>float</code> <p>The radius. If <code>outer</code> is specified, this is the inner radius.</p> required <code>outer</code> <code>float</code> <p>The outer radius of the ring or sphere. Default is 0.</p> <code>0</code> <code>top_only</code> <code>bool</code> <p>Generate only the top hemisphere. Default is False.</p> <code>False</code> <code>ring</code> <code>bool</code> <p>Generate a flat ring. Default is False.</p> <code>False</code> <p>Returns:</p> Name Type Description <code>points</code> <code>Generator</code> <p>A generator of Vec3</p>"},{"location":"api/utility/vec/","title":"The vector class","text":""},{"location":"api/utility/vec/#api-vec3-class","title":"API: Vec3 class","text":""},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.xyz","title":"<code>xyz</code>  <code>property</code>","text":"<p>Get the vector as a tuple Useful for passing to arguments e.g. player.spawn(sim, *v.xyz())</p> <p>Returns:</p> Name Type Description <code>values</code> <code>tuple</code> <p>a tuple with x,y,z</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__add__","title":"<code>__add__(v)</code>","text":"<p>operator add immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__eq__","title":"<code>__eq__(v)</code>","text":"<p>operator equals immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>bool</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__iadd__","title":"<code>__iadd__(v)</code>","text":"<p>operator inline add (+=) mutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__imul__","title":"<code>__imul__(v)</code>","text":"<p>operator inline multiply mutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__isub__","title":"<code>__isub__(v)</code>","text":"<p>operator inline subtract mutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__itruediv__","title":"<code>__itruediv__(v)</code>","text":"<p>operator inline divide mutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__matmul__","title":"<code>__matmul__(v)</code>","text":"<p>operator matrix multiply (@) dot product immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__mul__","title":"<code>__mul__(v)</code>","text":"<p>operator multiply immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__neg__","title":"<code>__neg__()</code>","text":"<p>operator Negate a vector immutable</p> <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector negated version of this one</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__sub__","title":"<code>__sub__(v)</code>","text":"<p>operator sub immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.__truediv__","title":"<code>__truediv__(v)</code>","text":"<p>operator divide immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.add","title":"<code>add(v)</code>","text":"<p>add immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.angleTo","title":"<code>angleTo(a)</code>","text":"<p>angle to</p> <p>Parameters:</p> Name Type Description Default <code>a</code> <code>Vec3</code> <p>The other point</p> required <p>Returns:</p> Name Type Description <code>float</code> <p>Angle in radians</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.cross","title":"<code>cross(v)</code>","text":"<p>cross product immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.divide","title":"<code>divide(v)</code>","text":"<p>divide immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.dot","title":"<code>dot(v)</code>","text":"<p>dot product immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.equals","title":"<code>equals(v)</code>","text":"<p>equals immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>bool</code> <p>if they are equal</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.length","title":"<code>length()</code>","text":"<p>length immutable</p> <p>Returns:</p> Type Description <code>float</code> <p>The length of the vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.max","title":"<code>max()</code>","text":"<p>max of x,y,z</p> <p>Returns:</p> Type Description <code>float</code> <p>max of x,y,z</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.min","title":"<code>min()</code>","text":"<p>min of x,y,z</p> <p>Returns:</p> Type Description <code>float</code> <p>min of x,y,z</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.multiply","title":"<code>multiply(v)</code>","text":"<p>multiply immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.neg","title":"<code>neg()</code>","text":"<p>Negate a vector immutable</p> <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector negated version of this one</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.rand_in_sphere","title":"<code>rand_in_sphere(radius, outer=0, only_top_half=False, ring=False)</code>","text":"<p>random within a sphere</p> <p>Parameters:</p> Name Type Description Default <code>radius</code> <code>float</code> <p>radius</p> required <code>outer</code> <code>float</code> <p>outer radius if 0 r is outer, if non-zero r is inner radius. default=0</p> <code>0</code> <code>only_top_half</code> <code>bool</code> <p>limit to top half</p> <code>False</code> <code>ring</code> <code>bool</code> <p>limit to 2d ring</p> <code>False</code> <p>Returns:</p> Type Description <code>Vec3</code> <p>A randomly offset vector within the sphere/ring</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.rand_offset","title":"<code>rand_offset(r, outer=0, top_only=False, ring=False)</code>","text":"<p>random spherical offset</p> <p>Parameters:</p> Name Type Description Default <code>r</code> <code>float</code> <p>radius</p> required <code>outer</code> <code>float</code> <p>outer radius if 0 r is outer, if non-zero r is inner radius. default=0</p> <code>0</code> <code>top_only</code> <code>bool</code> <p>limit to top half</p> <code>False</code> <code>ring</code> <code>bool</code> <p>limit to 2d ring</p> <code>False</code> <p>Returns:</p> Type Description <code>Vec3</code> <p>A randomly offset vector within the sphere/ring</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.rotate_around","title":"<code>rotate_around(o, ax, ay, az, degrees=True)</code>","text":"<p>Rotate around a point</p> <p>Parameters:</p> Name Type Description Default <code>o</code> <code>Vec3</code> <p>origin </p> required <code>ax</code> <code>float</code> <p>x angle</p> required <code>ay</code> <code>float</code> <p>y angle</p> required <code>az</code> <code>float</code> <p>z angle</p> required <code>degrees</code> <code>bool</code> <p>Use degrees if true, radians if false. Defaults to True.</p> <code>True</code> <p>Returns:</p> Name Type Description <code>Vec3</code> <p>The new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.subtract","title":"<code>subtract(v)</code>","text":"<p>subtract immutable</p> <p>Parameters:</p> Name Type Description Default <code>v</code> <code>Vec3 or number</code> <p>the other vector</p> required <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.toAngles","title":"<code>toAngles()</code>","text":"<p>polar angles</p> <p>Returns:</p> Type Description <p>theta, phi (float, float):  tuple containing theta and phi</p>"},{"location":"api/utility/vec/#sbs_utils.vec.Vec3.unit","title":"<code>unit()</code>","text":"<p>unit vector immutable</p> <p>Returns:</p> Type Description <code>Vec3</code> <p>new vector</p>"},{"location":"cosmos/","title":"Index","text":""},{"location":"cosmos/#artemis-cosmos-specific-functionality","title":"Artemis: Cosmos specific functionality","text":""},{"location":"cosmos/comms/","title":"Mast Communication syntax","text":"<p>The mast language provides labels an commands for processing communications.</p> <p>This is a work in progress, currently it documenting the idea, and not what exists.</p>"},{"location":"cosmos/comms/#enabling-comms-for-agents","title":"Enabling comms for Agents","text":"Mast <pre><code>//enable/comms if COMMS_SELECTED &amp; \"tsn, station\"\n# Other code can be here to initialize data, add invemtory etc.\n# e.g. The station has three apples, three oranges\n#\n# Note this is a proposed simplified get_inventory_value(COMMS_SELECTED_ID, \"Apples\", 3)\n#\nCOMMS_SELECTED[\"Apples\"] =  3\nCOMMS_SELECTED[\"Oranges\"] = 3\n</code></pre>"},{"location":"cosmos/comms/#providing-comms-buttons","title":"Providing Comms buttons","text":""},{"location":"cosmos/comms/#providing-comms-button-to-the-root-comms-path","title":"Providing comms button to the root comms path","text":"Mast <pre><code>//comms if COMMS_SELECTED_ID &amp; \"tsn, station\"\n+ \"Buy\" //comms/buy\n</code></pre>"},{"location":"cosmos/comms/#providing-comms-button-to-the-comms-branch-path","title":"Providing comms button to the comms branch path","text":"<p>notice this branch the comms to the \"buy\" path</p> Mast <pre><code>//comms/buy if COMMS_SELECTED_ID &amp; \"tsn, station\"\n+ \"Buy apple\" if COMMS_SELECTED[\"Apples\"] &gt; 0:\n    COMMS_SELECTED[\"Apples\"] -= 1\n+ \"Buy orange\" if COMMS_SELECTED[\"Apples\"] &gt; 0:\n    COMMS_SELECTED[\"Oranges\"] -= 1\n</code></pre>"},{"location":"cosmos/comms/#providing-choices-of-buttons","title":"Providing choices of buttons","text":"Mast <pre><code>//comms/buy if COMMS_SELECTED &amp; \"tsn, station\"\n+ if COMMS_SELECTED.inv[\"Apples\"] &gt; 0:\n    % \"Buy a tasty Apple\"\n    % \"How about an Apple\"\n    COMMS_SELECTED[\"Apples\"] -= 1\n+ if COMMS_SELECTED[\"Apples\"] &gt; 0:\n    % \"Buy a sweet Orange\"\n    % \"Need some vitamin C\"\n    COMMS_SELECTED[\"Oranges\"] -= 1\n</code></pre>"},{"location":"cosmos/comms/#providing-choices-of-buttons-based-on-reputation","title":"Providing choices of buttons based on reputation","text":"Mast <pre><code>//comms/buy if COMMS_SELECTED &amp; \"tsn, station\"\n+ if COMMS_SELECTED.inv[\"Apples\"] &gt; 0:\n    %+ \"Free tasty Apple\"\n    %+ \"How about a free Apple\"\n    %= \"Buy a tasty Apple\"\n    %= \"How about an Apple\"\n    %- \"Buy a day old Apple\"\n    %- \"How about half an Apple\"\n    . . .\n</code></pre>"},{"location":"cosmos/comms/#providing-choices-of-buttons-based-on-reputation-levels","title":"Providing choices of buttons based on reputation levels","text":"<p>Multiple reputation indicators create 'bands' </p> Mast <pre><code>//comms/buy if COMMS_SELECTED &amp; \"tsn, station\"\n+ if COMMS_SELECTED.inv[\"Apples\"] &gt; 0:\n    %+++ \"Free tasty Apple\"\n    %+++ \"How about a free Apple\"\n    %++ \"Buy a tasty Apple\"\n    %++ \"How about an Apple\"\n    %+ \"Buy a day old Apple\"\n    %+ \"How about half an Apple\"\n    . . .\n</code></pre>"},{"location":"cosmos/comms/#providing-choices-of-buttons-based-on-reputation-levels-weighting","title":"Providing choices of buttons based on reputation levels, weighting","text":"<p>Multiple reputation indicators create 'bands'  Adding a weight number increases the chances</p> Mast <pre><code>//comms/buy if COMMS_SELECTED &amp; \"tsn, station\"\n+ if COMMS_SELECTED.inv[\"Apples\"] &gt; 0:\n    %+++3 \"Free tasty Apple\"\n    %+++ \"How about a free Apple\"\n    %++3 \"Buy a tasty Apple\"\n    %++ \"How about an Apple\"\n    %+4 \"Buy a day old Apple\"\n    %+ \"How about half an Apple\"\n    . . .\n</code></pre>"},{"location":"cosmos/comms/#providing-choices-of-via-data","title":"Providing choices of via data","text":"<p>What data is need tbd</p> Mast <pre><code>//comms/buy if COMMS_SELECTED &amp; \"tsn, station\"\n+ apple_options if COMMS_SELECTED[\"Apples\"] &gt; 0:\n    COMMS_SELECTED[\"Apples\"] -= 1\n+ orange_options if COMMS_SELECTED[\"Apples\"] &gt; 0:\n    COMMS_SELECTED[\"Oranges\"] -= 1\n</code></pre>"},{"location":"cosmos/comms/#providing-via-data-with-limits-and-validity","title":"Providing via data with limits, and validity","text":"<p>What data is need tbd</p> <p>You can provide a number to pick and the number of those that are valid You can shuffle them once or every time</p> Mast <pre><code>//comms if COMMS_SELECTED &amp; \"tsn, station\"\n+ taunt_options choose once 3 validate 1 handle_taunt\n+ complement_options choose once 3 validate 2 handle_complement\n+ salutation_options choose always 3  handle_salutation\n</code></pre>"},{"location":"cosmos/comms/#comms-messages","title":"comms messages","text":""},{"location":"cosmos/comms/#receive-message","title":"Receive message","text":"Mast <pre><code>&lt;&lt;[$info] Title\n    \" this is a multiline \n    \" message\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#transmit-message","title":"Transmit message","text":"Mast <pre><code>&gt;&gt;[$info] Title\n    \" this is a multiline \n    \" message\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#speech-bubble-message","title":"Speech Bubble message","text":"Mast <pre><code>&lt;&gt;[$info] Title\n    \" this is a multiline \n    \" message\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#message-with-options","title":"Message with options","text":"Mast <pre><code>&lt;&lt;[$info] Title\n    % option 1\n    \" message\n    % option 2\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#message-with-options-with-rep","title":"Message with options with rep","text":"Mast <pre><code>&lt;&lt;[$info] Title\n    %+ option good\n    \" message\n    %= option neutral\n    \" here\n    %- option neutral\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#message-with-options-with-rep-level-bands","title":"Message with options with rep level bands","text":"Mast <pre><code>&lt;&lt;[$info] Title\n    %+++ option good\n    \" message\n    %++ option neutral\n    \" here\n    %+ option neutral\n    \" here\n</code></pre>"},{"location":"cosmos/comms/#message-with-options-with-rep-level-bands_1","title":"Message with options with rep level bands","text":"Mast <pre><code>&lt;&lt;[$info] Title\n    %+++3 option good most likely\n    \" message\n    %+++3 option good most likely\n    \" message\n    %+++2 option good more likely\n    \" message\n    %+++2 option good more likely\n    \" message\n    %+++ option good less likely\n    \" message\n    %+++ option good less likely\n    \" message\n    %++ option good etc.\n    \" message\n    %++ option good etc.\n    \" message\n    %+ option good etc.\n    \" message\n    %+ option good etc.\n    \" message\n</code></pre>"},{"location":"cosmos/gui/","title":"Gui","text":"<p>Gui Components</p>"},{"location":"cosmos/gui/#_1","title":"Gui","text":"<p>The MAST Story Components are used to create GUI elements.</p> <p>This can be part of a console, </p> <ul> <li>Layout</li> <li>Layout components</li> <li>Form Controls</li> </ul>"},{"location":"cosmos/gui/#gui-layout","title":"Gui Layout","text":""},{"location":"cosmos/gui/#await-gui-choices","title":"await gui (choices)","text":"<p>def await_gui (self,      buttons=None,      timeout=None,      on_message=None,      test_refresh=None,      test_end_await=None,      on_disconnect=None):</p> <p>.. tabs::     .. code-tab:: mast</p> <pre><code>    await gui\n\n.. code-tab:: py PyMast\n\n    self.await_gui()\n</code></pre>"},{"location":"cosmos/gui/#section","title":"Section","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    section style=\"\"\n\n.. code-tab:: py PyMast\n\n    self.gui_section(\"\")\n</code></pre>"},{"location":"cosmos/gui/#row","title":"Row","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    row\n    row style=\"\"\n\n.. code-tab:: py PyMast\n\n    self.gui_row()\n    self.gui_row(\"\")\n</code></pre>"},{"location":"cosmos/gui/#row_1","title":"Row","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    blank\n\n.. code-tab:: py PyMast\n\n    self.gui_blank()\n</code></pre>"},{"location":"cosmos/gui/#hole","title":"Hole","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    hole\n\n.. code-tab:: py PyMast\n\n    self.gui_hole()\n</code></pre>"},{"location":"cosmos/gui/#text-and-text-append","title":"Text and Text append","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    \"\"\"TEXT \"\"\"\n\n    ^^^ Append ^^^\n\n\n.. code-tab:: py PyMast\n\n    self.gui_text(\"\")\n</code></pre>"},{"location":"cosmos/gui/#text-input","title":"Text Input","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    input message \"Make a toast\"\n\n.. code-tab:: py PyMast\n\n    self.gui_text_input(\"\", \"Hint\" label)\n</code></pre>"},{"location":"cosmos/gui/#button","title":"Button","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    button \"Text\":\n       ... code...\n    end_button\n\n.. code-tab:: py PyMast\n\n    self.gui_button(\"Text\", label)\n</code></pre>"},{"location":"cosmos/gui/#checkbox","title":"Checkbox","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    checkbox var \"Text\"\n\n.. code-tab:: py PyMast\n\n    self.gui_checkbox(\"Text\", value)\n</code></pre>"},{"location":"cosmos/gui/#dropdown","title":"Dropdown","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    dropdown var \"val1,val2\":\n        ... code...\n    end_dropdown\n\n.. code-tab:: py PyMast\n\n    self.gui_dropdown(\"val1,val2\", value)\n    # Handle change in on_message\n</code></pre>"},{"location":"cosmos/gui/#face","title":"Face","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    face var\n\n.. code-tab:: py PyMast\n\n    self.gui_face(\"Face Text\")\n</code></pre>"},{"location":"cosmos/gui/#slider","title":"Slider","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    intslider var low high value\n    slider var low high value\n\n.. code-tab:: py PyMast\n\n    def gui_slider (self, val, low, high, show_number=True, label=None, style=None):\n    self.gui_slider(\"Face Text\")\n</code></pre>"},{"location":"cosmos/gui/#radio-buttons","title":"Radio buttons","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    radio var \"b1, b2, b3\"\n    vradio var \"b1, b2, b3\"\n\n.. code-tab:: py PyMast\n\n    self.gui_radio(\"b1, b2, b3\")\n    self.gui_radio(\"b1, b2, b3\", True)\n</code></pre>"},{"location":"cosmos/gui/#ship","title":"Ship","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    ship val # this isn't support when write this\n    ship \"val\"\n\n.. code-tab:: py PyMast\n\n    self.gui_ship(ship)\n</code></pre>"},{"location":"cosmos/gui/#image","title":"Image","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    ship val # this isn't support when write this\n    ship \"val\"\n\n.. code-tab:: py PyMast\n\n    self.gui_image(file, color)\n</code></pre>"},{"location":"cosmos/gui/#sprite","title":"Sprite","text":"<p>This doesn't exists as I write this</p> <p>.. tabs::     .. code-tab:: mast</p> <pre><code>    sprite val # this isn't support when write this\n\n\n.. code-tab:: py PyMast\n\n    self.gui_sprite(ship, x,y, w,h)\n</code></pre>"},{"location":"cosmos/gui/#full-console","title":"Full console","text":"<p>For building console widget by widget.  Call this to specify which console.</p> <p>.. tabs::     .. code-tab:: mast</p> <pre><code>    console \"helm\"\n    console var\n\n\n.. code-tab:: py PyMast\n\n    self.gui_console(\"helm\")\n</code></pre>"},{"location":"cosmos/gui/#activate-console","title":"Activate console","text":"<p>For building console widget by widget.  Call this to specify which console.</p> <p>.. tabs::     .. code-tab:: mast</p> <pre><code>    console activate \"helm\"\n\n\n.. code-tab:: py PyMast\n\n    self.gui_activate_console(\"helm\")\n</code></pre>"},{"location":"cosmos/gui/#layout-console-widget","title":"Layout console widget","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    console widget \"2dview\"\n\n\n.. code-tab:: py PyMast\n\n    self.gui_console_widget(\"2dview\")\n</code></pre>"},{"location":"cosmos/gui/#layout-console-widget_1","title":"Layout console widget","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    widget_list \"norm_helm\"  \"2dview^throttle\"\n\n\n.. code-tab:: py PyMast\n\n    self.gui_console_widget+list(\"norm_helm\", \"2dview^throttle\")\n</code></pre>"},{"location":"cosmos/gui/#layout-python-coded-widget","title":"Layout python coded widget","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    gui control func()\n\n\n.. code-tab:: py PyMast\n\n    self.gui_content(listbox())\n</code></pre>"},{"location":"cosmos/science/","title":"Await Science","text":"<p>.. tabs::     .. code-tab:: mast</p> <pre><code>    await scan():\n        scan tab \"scan\":\n            scan results \"Scan\"\n        scan tab \"bio\":\n            scan results \"Bio\"\n    end_await\n\n\n\n.. code-tab:: py PyMast\n\n          self.await_science({\n            \"scan\": self.scan_default,\n            \"bio\": self.scan_bio,\n            \"intel\": self.scan_intel,\n            \"signl\": self.scan_signl\n        })\n\n\n    def scan_default(self, event):\n        return \"This space object is now scanned, in the most general way. This text was generated by the script.\"\n\n    def scan_intel(self, event):\n        return \"This space object is detailed in the ship's computer banks. This text was generated by the script.\"\n\n    def scan_bio(self, event):\n        return \"This space object has indeterminate life signs. This text was generated by the script.\"\n    def scan_signl(self, event):\n        return \"This space object radiating signals. This text was generated by the script.\"\n</code></pre>"},{"location":"home/start/","title":"Getting Started","text":"<p>Creating directly using the library will be documented in the future.</p> <p>Currently, it suggested that scripts should use the MAST language.</p> <p>Getting started with MAST</p>"},{"location":"mast/","title":"Index","text":""},{"location":"mast/#what-is-mast","title":"What is MAST","text":"<p>MAST (Multiple Agent Story Telling) is a programming language used in Artemis: Cosmos to create Game Mastered and Story driven Missions. </p> <p>MAST provides a new simple programming language that enables:</p> <ul> <li>Language that flows more like a narrative or film script</li> <li>Easy and rich GUIs for the pause scene and the Artemis: Cosmos consoles</li> <li>A Task/State driven system managing multiple tasks in parallel e.g. a quest with side quests</li> <li>Complex AI </li> <li>Interactive choices and dialog</li> <li>Similar capabilities to Visual Novel systems, such as RenPy, Inkle Ink, and Choice script</li> </ul>"},{"location":"mast/#multiple-agent-story-telling","title":"Multiple Agent Story Telling","text":""},{"location":"mast/#multiple-agents","title":"Multiple Agents","text":"<p>The multiple agents of a MAST story (players, non-player characters, etc.) each have their own story and those stories can have multiple side plots.</p> <p>In MAST for Artemis: Cosmos, the multiple agents are the player consoles, the ships, various characters that can be on ships, etc. Artemis: Cosmos has the ability to add many more characters to the game. For example there can be multiple characters on a space station that you may interact with. The Damage Control teams can have richer stories and each can be unique.</p>"},{"location":"mast/#storytelling","title":"Storytelling","text":"<p>Stories have a forward moving flow; there is a beginning, a middle and an end. MAST's programming flow keeps the story moving forward. MAST also facilitates an interactive narrative which allows for choice and branching of the story, revisiting aspects of the story etc. while still flowing the story on a single path.</p>"},{"location":"mast/#multiple-stories","title":"Multiple stories","text":"<p>An Artemis: Cosmos mission is not just one story about one thing; it is many. </p> <p>Artemis: Spaceship Bridge Simulator may be familiar with the <code>&lt;event&gt;</code>. </p> <p>Artemis: Cosmos has the concept of Task.</p> <p>Tasks run a single script. From beginning to end.</p> <p>Tasks run in (pseudo) parallel. Unlike the Artemis: SBS events, Task can be scheduled, canceled, and can end.</p> <p>Tasks are described in detail in the MAST Language </p>"},{"location":"mast/#why-a-language-other-than-python","title":"Why a language other than python?","text":"<p>Artemis: Cosmos engine allows for scripting missions using Python. Python is a productive and easy to learn programming language. To help script writers, the sbs_utils library was created. This is a powerful and viable option to create Artemis: Cosmos scripts.</p> <p>While working with several script writers familiar with the Artemis: Spaceship Bridge Simulator XML mission scripting some found the python daunting and far less productive. Many of these script writers are authors, educators and are not full time programmers. </p>"},{"location":"mast/#markup-language-vs-programming-language","title":"Markup language vs. programming language","text":"<p>MAST is a hybrid of a markup language and a programming language. </p> <p>Markup languages provide a simple text document that simplifies a more complex system.</p> <p>Inspiration for MAST are languages like Inkle Ink, choice script, renPy.</p>"},{"location":"mast/#reuse-and-add-ons","title":"Reuse and add-ons","text":"<p>The MAST system makes it easy to extend things and package these extensions to be shared by other missions.</p> <p>For example, Artemis: Cosmos ships with the Secret Meeting and Walk the Line missions. They appear very small, but they use code from Legendary Missions that are packaged as mastlib add-ons (found in the __lib__ folder)</p> <p>As more scripts are written it should be easy to create a side mission as an add on and allow it to be dropped into many other missions to share.</p>"},{"location":"mast/#hierarchical-flow-vs-sequential-flow","title":"Hierarchical flow vs. Sequential flow","text":"<p>Early programming languages like BASIC were more approachable to hobbyists and non-programmers. They would run in a sequential flow from beginning to end in a simple script that was easier to follow. However, reusing and reorganizing code was difficult to manage as projects grew larger and more complex.</p> <p>Python and other object oriented languages tend to have a complicated interconnected execution flow, where the hierarchy of which functions are calling other functions isn\u2019t always clear. </p>"},{"location":"mast/#state-and-state-machine","title":"State and State machine","text":"<p>Games in general tend to manage the state of items in the world and respond to changes to change the state. </p> <p>Programmers often create a pattern called a State Machine to deal with this.</p> <p>The Artemis: Spaceship Bridge Simulator XML language was a simplified markup 'language' that ran a series of state machines, where each <code>&lt;event&gt;</code> tag was its own state machine. The state conditions are checked in order, and if the conditions are met the event runs.</p> <p>The Artemis: Spaceship Bridge Simulator XML language is inefficient in that all events always run every tick, and it had no concept of reuse. Script writers copy and pasted events to 'reuse' them. </p> <p>Even in other programming languages State Machines require boiler plate code to add new states and transitions. This also requires copy and pasting code.</p> <p>MAST is intended to enabling creating state driven programming that is:</p> <ul> <li>More efficient because only needed things are executed</li> <li>script writers do not write state machine and management code</li> </ul>"},{"location":"mast/model/","title":"SBS Utils Object Model","text":"<p>Sbs Utils creates an Object model. This Object Model is used by MAST and pyMAST.</p> <p>MAST needs participants in the story. In stories Artemis: Cosmos these participants are:</p> <ul> <li>The Story itself (aka the server, the game, the engine or the world)</li> <li>Bridge Crew (The player consoles)</li> <li>The Player ships (Ships control by the Bridge Crew)</li> <li>Non-Player ships Starbases, Enemy Ships, Friendly Ships (Things controled by script)</li> <li>The terrain element asteroids, pickups, nebula etc.</li> <li>Non-Player Crew and Characters (Seen as faces in engineering, Comms etc.)</li> <li>Internals ship location (Rooms and other things)</li> </ul> <p>These agents/participants are the things in the Artemis Cosmos world. Each of this agents can have stories and tasks associated with them. </p> <ul> <li>Engine objects<ul> <li>engine data set</li> </ul> </li> <li>Script Objects<ul> <li>roles</li> <li>Inventory</li> <li>Linked</li> </ul> </li> </ul>"},{"location":"mast/model/#engine-script-and-persisted","title":"Engine, script and persisted","text":"<p>The object model is designed to work with three sets of the model data: </p> <ul> <li>Engine</li> <li>Script</li> <li>Persisted</li> </ul>"},{"location":"mast/model/#engine-data","title":"Engine data","text":"<p>Engine data are in memory objects that the engine manages.</p> <p>Engine data is the data the the Artemis Cosmos game engine deals with. This the data that get ships, etc drawn on screen and the engine manages low level behavior (e.g. moving a ship from a pont a to point b)</p> <p>Engine data has:</p> <ul> <li>The object its self</li> <li>A engine type (Player, Active, Passive)</li> <li>data tag</li> <li>tick type / behavior</li> <li>A data set</li> </ul>"},{"location":"mast/model/#engine-object","title":"Engine object","text":"<p>The engine object provides the raw object in the engine.</p> <p>There are two types of engine objects </p> <ul> <li>sbs.space_object</li> <li>sbs.grid_object</li> </ul> <p>It has data the is common to all engine objects.</p> <ul> <li>side</li> <li>position</li> <li>steering properties</li> </ul> <p>An engine data has a 'data set' this is data that can be different for space objects. e.g. a player ship data set may have ship systems, while an asteroid does not.</p> <p>The engine 'type' is the high level behavior type of player, active, and passive. </p> <ul> <li>player are player ships.</li> <li>Active are npc, space docks, friendly and enemy ships etc.</li> <li>Passive are terrain e.g. nebula, asteroids etc.</li> </ul> <p>The data tag relates to the artwork and other properties that are assigned to the object. The values are defined in ship_dat.json. The values are used by the engine, and some of these values are available in the data set.</p> <p>The tick type is a engine level behavior setting. For example specifying the object is a player ship, npc ship, vs. a space dock.</p> <p>that script can get and set data that the engine uses. Scripts can change this data and see those change reflected in the engine (e.g. Add torpedoes to a ship.)</p>"},{"location":"mast/model/#script-data","title":"Script data","text":"<p>Script data are python object in memory that script manages.</p> <p>Script data is a reflection of the Engine Data, and can also be used to synchronize with a persisted model.</p> <ul> <li>sbs_utils.spaceobject.SpaceObject</li> <li>class:<code>~sbs_utils.spaceobject.SpaceObject</code></li> <li> <p>class:<code>~sbs_utils.gridobject.GridObject</code></p> </li> <li> <p>class:<code>~sbs_utils.objects.PlayerShip</code></p> </li> <li>class:<code>~sbs_utils.objects.Npc</code> </li> <li>class:<code>~sbs_utils.objects.Active</code></li> <li>class:<code>~sbs_utils.objects.Terrain</code></li> <li>class:<code>~sbs_utils.objects.Passive</code></li> </ul>"},{"location":"mast/model/#role","title":"role","text":"<p>Script object can have multiple \"roles\". Roles are similar to 'hashtags' in social media apps. You can tag script objects with a role. </p>"},{"location":"mast/model/#links","title":"Links","text":"<p>Links are named relationship between two objects.</p>"},{"location":"mast/model/#inventory","title":"Inventory","text":"<p>Inventory is data that can be added to any object.</p>"},{"location":"mast/model/#persisted-data-obsolete-needs-adjust-to-card-grid","title":"Persisted data (obsolete, needs adjust to Card Grid)","text":"<p>NOTE: This is speculative of how the persisted data will work in the future. NOTE: This is just really notes on what is hoped to accomplish</p> <p>Persistence will persist:</p> <ul> <li>Engine Objects </li> <li>roles</li> <li>Links</li> <li>Inventory</li> </ul> <p>There should be a db_query that has similar functions to the query module. e.g. so that you can retrieve from the data base using similar set operation</p> <p>sector_objects = db_query.broadtest(100000, 100000, 150000, 150000, -1) db_query.spawn(sector_objects)</p> <p>Object</p>  pyMAST pyMAST <pre><code>    CREATE TABLE engine_object (\n        db_id INTEGER NOT NULL PRIMARY KEY,\n        data JSON NOT NULL\n        -- What else \n    );\n</code></pre> <pre><code> \"engine_objects\": {\n    \"&lt;db_id&gt;\": {\n        \"data\": { . . .}\n    }\n }\n</code></pre> <p>Roles</p>  pyMAST pyMAST <pre><code>    CREATE TABLE role (\n    role TEXT NOT NULL,\n    FOREIGN KEY (db_id) REFERENCES engine_object (db_id) \n                ON DELETE CASCADE ON UPDATE NO ACTION,\n    PRIMARY KEY(role, db_id)\n    );\n</code></pre> <p>```</p> <pre><code>    \"roles\": {\n        \"&lt;role&gt;\": {1,2,3,}\n     }\n\n```\n</code></pre> <p>Links</p>  pyMAST pyMAST <pre><code>CREATE TABLE link (\nlink TEXT NOT NULL,\nFOREIGN KEY (from_db_id) REFERENCES engine_object (db_id) \n            ON DELETE CASCADE ON UPDATE NO ACTION,\nFOREIGN KEY (to_db_id) REFERENCES engine_object (db_id) \n            ON DELETE CASCADE ON UPDATE NO ACTION,\nPRIMARY KEY(role, from_db_id, to_db_id)\n);\n</code></pre> <pre><code>    \"links\":{\n        \"&lt;link&gt;\":  {(1,9), (2,7) , (3,8)}\n    }     \n</code></pre> <p>Inventory</p>  pyMAST pyMAST <pre><code>    CREATE TABLE inventory (\n    name TEXT NOT NULL,\n    FOREIGN KEY (db_id) REFERENCES engine_object (db_id) \n                ON DELETE CASCADE ON UPDATE NO ACTION,\n    value JSON NOT NULL,\n    PRIMARY KEY(role, db_id, value)\n    );\n</code></pre> <pre><code>// Not sure this one is right\n\"inventory\":{\n    \"&lt;key&gt;\":  {\n        \"&lt;db_id&gt;\": &lt;value&gt;\n    }\n}     \n</code></pre>"},{"location":"mast/overview/","title":"MAST Language","text":""},{"location":"mast/overview/#mast-execution-flow","title":"MAST execution flow","text":"<p>The goal of MAST is to enable non-programmers to be productive in creating interactive narratives.</p> <p>The MAST language is a programming language that simplifies many of the programming language concepts to help make writing interactive narratives easier as well as provide an easier-to-follow syntax.</p> <p>The intent is to be approachable to non-programmers. It is not intended to be 'structured' programming language like C++ or Python. </p> <p>The flow of MAST is similar to the original BASIC programming language. The code executes moving forward, it can branch by jumping to new locations (labels). This can be called 'unstructured' programming. MAST was also influenced by choice script, Inkle's Ink, and others.</p>  MASTOutput <pre><code>========= start =======\nlog(\"Hello, world\")\n-&gt; goodbye\n====== not_here =======\nlog(\"I get jumped over\")\n======= goodbye =======\nlog(\"Goodbye\")\n</code></pre> <pre><code>Hello, world\nGoodbye\n</code></pre>"},{"location":"mast/overview/#mast-and-pymast","title":"MAST and pyMAST","text":"<p>MAST is a standalone language running inside of the python system provided by Artemis Cosmos.</p> <p>pyMAST is python code that runs using the MAST execution flow. This gives python programmers the benefits of MAST's simple flow while enabling greater access to the native python.</p>  MAST pyMASTOutput <pre><code>========= start =======\nlog(\"Hello, world\")\n-&gt; goodbye\n====== not_here =======\nlog(\"I get jumped over\")\n======= goodbye =======\nlog(\"Goodbye\")\n</code></pre> <pre><code>@label()\ndef start():\n    print(\"Hello, world\")\n    yield jump(goodbye)\n\n@label()\ndef not_here():\n    print(\"I get jumped over\")\n\n@label()\ndef goodbye():\n    print(\"Goodbye\")\n</code></pre> <pre><code>    Hello, world\n    Goodbye\n</code></pre>"},{"location":"mast/overview/#mast-and-pausing-the-flow","title":"MAST and pausing the flow","text":"<p>MAST is running as part of a game engine. The engine only gives MAST a small amount of time to run. If MAST ran unconditionally it would not allow the engine to run and stall the game. However, there are times a story cannot continue until conditions are met. e.g. A comms button is press, a science scan it started etc.</p> <p>MAST can \"pause\" execution and yield control back to the engine. The engine keeps calling MAST and it yields until the condition is met then the flow can continue.</p> <p>This example prints \"Hello, world\" and five seconds later it prints \"Goodbye\". During that five seconds the engine is able to run because MAST yields control back since it cannot move forward.</p> <p>This ability to yield control back to the engine is a reason that MAST flow can be enable users to focus on the flow of the story and not how to get the programming language to deal with this.</p>  MAST pyMASTOutput <pre><code>========= start =======\nlog(\"Hello, world\")\nawait delay_app(5)\nlog(\"Goodbye\")\n</code></pre> <pre><code>@label()\ndef start():\n    log(\"Hello, world\")\n    yield AWAIT(delay_app(5))\n    log(\"Goodbye\")\n</code></pre> <pre><code>|    Hello, world\n|    Goodbye\n</code></pre> <p>Yielding control is handled by MAST. If there ever is a time you need to force a yield you can us the MAST 'yeild' command. In pyMAST the python keyword yield is used, however you must specify how to yield by providing a PollResults.OK_RUN_AGAIN. There are other types of yields in pyMAST. This is not the time to detail those uses. </p>  MAST pyMASTOutput <pre><code>========= start =======\nlog(\"Hello, world\")\nyield\nlog(\"Goodbye\")\n</code></pre> <pre><code>@label()\ndef start():\n    log(\"Hello, world\")\n    yield PollResults.OK_RUN_AGAIN\n    log(\"Goodbye\")\n</code></pre> <pre><code>|    Hello, world\n|    Goodbye\n</code></pre> <p>In future topics there will be other times descibed when MAST yields. Typically this is when MAST is waiting for something to occur. For example:</p> <ul> <li>time (e.g. the delay used in the examples)</li> <li>awaiting a choice to be made in the gui </li> <li>awaiting a comms button to be selected</li> <li>awaiting a science scan </li> </ul>"},{"location":"mast/overview/#sub-plots-aka-tasks","title":"Sub plots aka Tasks","text":"<p>MAST is MULTI Agent Story Telling so each agent has their own story or event stories.</p> <p>MAST allows multiple storylines to run in \"parallel\". </p> <p>MAST in Artemis Cosmos is inherently a single thread of execution. These storylines do not run exactly in parallel, but you can run multiple things and make sure they run at the same time. These are called Tasks, and tasks can be scheduled so that multiple tasks can run on the same tick. A 'tick' is a very short piece of time where the game engine checks for input from the clients, calculates how everything in the game is supposed to move, processes damage and other internal logic, and then sends updated information to the clients. </p> <p>For example a Player Ship can run a Task for handling Comms messages, another for Science scan. This player ship could in fact run multiple tasks for handling comms with different sets of ships.</p> <p>These tasks themselves act as small side stories, They run as long as needed.</p> <p>In MAST tasks are scheduled in MAST with a parallel jump, and in pyMAST with a task_schedule</p> <p>If you have programmed Artemis 2.x scripts, tasks are similar to the  tags. Unlike the  tags, task only run when needed. They are scheduled, and when they end they are unscheduled they can also be canceled.  MAST pyMASTOutput <pre><code>===== start ====\n# Run another task\nawait task_schedule(count_to_ten)\nlog(\"done\")\n\n===== count_to_ten ======\nfor x in range(10):\n    log(\"{x}\")\n    yield\n</code></pre> <pre><code>@label()\ndef start():\n    yield AWAIT(task_schedule(count_to_ten))\n    log(\"done\")\n\n@label()\ndef count_to_ten():\n    for x in range(10):\n        print(x)\n        yield PollResults.OK_RUN_AGAIN\n</code></pre> <pre><code>|    1\n|    2\n|    3\n|    4\n|    5\n|    6\n|    7\n|    8\n|    9\n|    10\n|    done\n</code></pre>"},{"location":"mast/overview/#route-labels","title":"Route labels","text":"<p>Route labels are special labels that get automatically run when their conditions are met. A task (or subtask) is scheduled by the system to run the label. There is much more detail section about route labels </p>  MAST <pre><code># Automatically scheduled when a TSN, player is spawned\n// spawn if has_roles(SPAWNED_ID, \"tsn, player\")\n    print(\"A new TSN player spawned\")\n    -&gt;END\n</code></pre>"},{"location":"mast/overview/#sub-labels","title":"Sub labels","text":"<p>Sub labels allow the script to have labels that are part of another label.</p> <p>The labels and Route Labels defined above could be called major labels to group them. Labels have to be unique. Route labels are specific to the route.</p> <p>Sub labels are only unique to it the major label is contained in. This is useful for having labels that are also descriptive while not worrying about name conflicts.</p> <p>While labels start with ===, sub labels start with at least 3 dashes ---. They can be used for jumps etc. but the jump will only work within the major label it is defined in.</p>  MAST <pre><code># Automatically scheduled when a TSN, player is spawned\n\n=== some_label\n\n    --- ai_loop\n    print(\"A new TSN player spawned\")\n    . . .\n\n\n// spawn if has_roles(SPAWNED_ID, \"raider\")\n\n    --- ai_loop\n\n    print(\"A new TSN player spawned\")\n    -&gt;END\n</code></pre> <p>See the Secret Meeting mission for an example that demonstrates good use of indention and sub_labels.</p> This is an updated secret meeting <p>The link is to git hub copy of Secret Meeting and may be different than the shipped version.The code was updated to use as this example.</p>"},{"location":"mast/overview/#schedulers","title":"Schedulers","text":"<p>MAST and pyMAST run all the tasks using schedulers. This process is mostly hidden to the writer of MAST and pyMAST code.</p> <p>Tasks are run on 'Schedulers' and to put it simply for now, the Server and each Console has a scheduler. Additional schedulers can be created but typically the Server runs most of the tasks and the Consoles run a few tasks associated with that particular Console.</p> <p>For example, the Server runs a scheduler that may have a task for presenting its User Interface/GUI, and maybe have other tasks to manage the world creation, handling comms, science etc. Consoles typically have a scheduler as a single task for handling the User Interface/GUI.</p> <p>The more complex the script, the more tasks that will run. And if the complexity warrants it, more schedulers can be created. e.g. schedulers for each player ships etc.</p> <p>When Artemis Cosmos calls the scripting engine, MAST/pyMAST will run al the Schedulers and each scheduler runs all of its Tasks. </p> <p>As tasks are finished, they are removed. If a scheduler runs and no longer has tasks it is removed.</p> <p>Route labels are special labels that get automatically run when their conditions are met. A task (or subtask) is scheduled by the system to run the label.</p>"},{"location":"mast/overview/#xml-events-vs-label-tasks-and-routes","title":"XML Events vs label, tasks and routes","text":"<p>If you ever programmed Artemis 2.x, Tasks are similar to events. XML is NOT supported, but used as examples for those familiar with Artemis 2.x scripting.</p> <ul> <li> <p>XML events </p> <ul> <li>are always scheduled</li> <li>and always run</li> <li>never stop</li> </ul> </li> <li> <p>Tasks </p> <ul> <li>need to be scheduled or they don't run</li> <li>They start running a specified label</li> <li>They can end</li> <li>They can be canceled</li> </ul> </li> <li> <p>Route labels</p> <ul> <li>Schedule as task and run the label</li> <li>The only get scheduled when their condition is met</li> <li>They run like any other label after that</li> </ul> </li> </ul> XML  MAST  MAST pyMAST <pre><code>&lt;event name=\"do_some_thing\"&gt;\n&lt;/event&gt;\n</code></pre> <pre><code># To schedule the task\ntask_schedule(do_some_thing)\n# To end a task\n-&gt;END\n\n\n==== do_some_thing ====\nlog(\"Hello\")\n</code></pre> <pre><code># Automatically scheduled when a TSN, player is spawned\n// spawn if has_roles(SPAWNED_ID, \"tsn, player\")\n    # To end a task\n    print(\"An new TSN player spawned\")\n    -&gt;END\n</code></pre> <pre><code>@label()\ndef start():\n    task_schedule(do_some_thing)\n\n@label()\ndef do_some_thing():\n    log(\"Hello\")\n</code></pre>"},{"location":"mast/overview/#setting-data-vs-xml-variable","title":"Setting data vs. XML Variable","text":"<p>With MAST you can set data that is shared by the server, all client consoles and all tasks. You can scope variables or pass data to a specific task. This allows tasks to be scheduled multiple times. pyMAST has the added ability to scope data to a label since it is a function in python.</p> <p>In contrast to an XML event, every variable was always shared. Also, events did not have scoped data. Events could not be reused. This meant to schedule events multiple times, you had to copy and paste the event and create new variables. </p> XML  MAST pyMAST <pre><code>&lt;event name=\"do_some_thing\"&gt;\n    &lt;set_variable name=\"some_data\" value=\"1\"/&gt; \n    &lt;set_variable name=\"some_data_one\" value=\"1\"/&gt; \n    &lt;set_variable name=\"some_data_two\" value=\"1\"/&gt; \n&lt;/event&gt;\n</code></pre> <pre><code># create shared data\nshared say_what = \"Hello\"\nlocal_data = \"I'm different\"\n\n# When run outputs Hello, World So Long Goodbye\ntask_schedule(do_some_thing, {\"passed_data\": \"World\"})\n# When run outputs Hello, Cosmos So Long Goodbye\ntask_schedule(do_some_thing, {\"passed_data\": \"Cosmos\"})\n\n-&gt;END\n\n==== do_some_thing ====\n# set a local variable \nlocal_data = \"Goodbye\"\n\nlog(f\"{say_what}, {passed_data}\")\nlog(f\"{local_data}\")\n</code></pre> <pre><code>@label()\ndef start():\n    # Shared data is added to the story\n    set_shared_variable(\"say_what\", \"Hello\")\n\n    # When run out puts Hello, World So Long Goodbye\n    task_schedule(do_some_thing, {\"passed_data\": \"World\"})\n    # When run out puts Hello, Cosmos So Long Goodbye\n    task_schedule(do_some_thing, {\"passed_data\": \"Cosmos\"})\n\n@label()\ndef do_some_thing():\n    say_what = get_shared_variable(\"say_what\")\n    # To share with the task\n    # so it can be used in other labels run by this task\n    set_variable(\"local_data\", \"So Long\")\n    task_local_data = get_variable(\"local_data\")\n    # a label is a function in python so it can also have\n    # data local to the function/label\n    label_data = \"Goodbye\"\n\n\n    log(f\"{say_what}, {passed_data}\")\n    log(f\"{task_local_data}\")\n    log(f\"{label_data}\")\n</code></pre>"},{"location":"mast/overview/#delaying-things-and-xml-timers","title":"Delaying things and XML Timers","text":"<p>There are times that a delay is needed before the next thing happens. There are multiple reasons for this:</p> <ul> <li>pause between steps e.g. showing credits, spawning different waves of enemies</li> <li>delay something to not overwhelm the users, periodically report game state</li> </ul> <p>Example one delaying credits.</p> XML  MAST pyMAST <pre><code>    &lt;start&gt;\n        . . .\n        &lt;set_timer name=\"credits_timer\"/&gt;\n        &lt;set_variable name=\"credits\" comparator=\"EQUALS\" value=\"0\"/&gt;\n    &lt;/start&gt;\n\n    &lt;event name=\"Credits 1\"&gt;\n        &lt;if_timer_finished name=\"credits_timer\"/&gt;\n        &lt;if_variable name=\"credits\" comparator=\"EQUALS\" value=\"0\"/&gt;\n        &lt;big_message title=\"This is the first page of credits\" subtitle2=\"\"/&gt;\n        &lt;set_variable name=\"credits\" value=\"1\"/&gt;\n    &lt;/event&gt;\n    &lt;event name=\"Credits 2\"&gt;\n        &lt;if_timer_finished name=\"credits_timer\"/&gt;\n        &lt;if_variable name=\"credits\" comparator=\"EQUALS\" value=\"1\"/&gt;\n        &lt;big_message title=\"This is the second page of credits\" subtitle2=\"\"/&gt;\n        &lt;set_variable name=\"credits\" value=\"2\"/&gt;\n    &lt;/event&gt;\n    &lt;event name=\"Credits 3\"&gt;\n        &lt;if_timer_finished name=\"credits_timer\"/&gt;\n        &lt;if_variable name=\"credits\" comparator=\"EQUALS\" value=\"2\"/&gt;\n        &lt;big_message title=\"This is the third page of credits\" subtitle2=\"\"/&gt;\n        &lt;set_variable name=\"credits\" value=\"999\"/&gt;\n    &lt;/event&gt;\n</code></pre> <pre><code>==== show_credits ====\n\n\"\"\" This is the first page of credits\"\"\"\nawait gui(timeout=delay_sim(10))\n\"\"\" This is the second page of credits\"\"\"\nawait gui(timeout=delay_sim(10))\n\"\"\" This is the third page of credits\"\"\"\nawait gui(timeout=delay_sim(10))\n</code></pre> <pre><code>@label()\ndef start():\n    gui_text(\"this is the first page of credits\")\n    yield AWAIT(gui(timeout=delay_sim(10)))\n    gui_text(\"this is the second page of credits\")\n    yield AWAIT(gui(timeout=delay_sim(10)))\n    gui_text(\"this is the third page of credits\")\n    yield AWAIT(gui(timeout=delay_sim(10)))\n</code></pre> <p>Another use is to spawn enemy waves. The XML for this would be very verbose.</p> xml  MAST pyMAST <pre><code>&lt;Skipping/&gt;\n</code></pre> <pre><code>==== spawn_wave ====\nenemyTypeNameList = [\"kralien_dreadnaught\",\"kralien_battleship\",\"skaraan_defiler\",\"cargo_ship\",\"arvonian_carrier\",\"torgoth_behemoth\"]\nenemy_prefix = \"KLMNQ\"\n\n\n# this gets a radom span location just outside the view of the sctor \nspawn_points = scatter_sphere(int(enemy_count), 0,0,0, 6000, 6000+250*enemy_count, ring=True)\n\nfor v in spawn_points:\n    r_type = random.choice(enemyTypeNameList)\n    r_name = f\"{random.choice(enemy_prefix)}_{enemy}\"\n    spawn_data = npc_spawn(v.x, v.y, v.z, r_name, \"RAIDER\", r_type, \"behav_npcship\")\n    raider = spawn_data.py_object\n    set_face(raider.id, random_kralien())\n    add_role(raider.id, \"Raider\")\n    enemy = enemy + 1\n\n\ndelay_sim(minutes=8)\n</code></pre> <pre><code>@label()\ndef spawn_wave():\n    enemyTypeNameList = [\"kralien_dreadnaught\",\"kralien_battleship\",\"skaraan_defiler\",\"cargo_ship\",\"arvonian_carrier\",\"torgoth_behemoth\"]\n    enemy_prefix = \"KLMNQ\"\n\n    # this gets a radom span location just outside the view of the sector \n    spawn_points = scatter_sphere(int(enemy_count), 0,0,0, 6000, 6000+250*enemy_count, ring=True)\n\n    for v in spawn_points:\n        r_type = random.choice(enemyTypeNameList)\n        r_name = f\"{random.choice(enemy_prefix)}_{enemy}\"\n        spawn_data = npc_spawn(v.x, v.y, v.z, r_name, \"RAIDER\", r_type, \"behav_npcship\")\n        raider = spawn_data.py_object\n        set_face(raider.id, random_kralien())\n        add_role(raider.id, \"Raider\")\n        enemy = enemy + 1\n    yield AWAIT(delay_sim(minutes=8))\n</code></pre>"},{"location":"mast/python/","title":"pyMAST","text":"<p>The MAST Runtime is written in python.</p> <p>pyMAST is a version where you do not need to write in mast. You can write in just native python.</p> <p>The remote_mission_pick mission is written this way.</p> <p>The MAST language has been the current focus so this part of the runtime is experimental.</p> <p>Labels are functions, but they still run as a flow and allow jumps and awaitable futures.</p> <p>It does not use python native await or future since that requires multi-threading.</p> <p>MAST and pyMAST share common library. In pyMAST you must import them in order to use them.</p> <p>Many example do not list the imports. But the example below does.</p>  MAST pyMAST <pre><code># no import needed in mast\nlog(\"Hello, World\")\n</code></pre> <pre><code># need to import from library\nfrom sbs_utils.procedural.execution import log\n\n@label\ndef some_label(self):\n    log(\"Hello, World\")\n</code></pre>"},{"location":"mast/syntax/","title":"Language Basics","text":"<ul> <li>Data</li> <li>Task flow</li> <li>Conditional</li> <li>Loops </li> <li>Scheduling Tasks</li> </ul>"},{"location":"mast/syntax/#data","title":"Data","text":"<p>You can create data that is any valid python type. This data can be used in your MAST tasks.</p>"},{"location":"mast/syntax/#simple-assignment","title":"Simple assignment","text":"<p>To do so you use the assignment statement::</p> <pre><code>fred = 3\n</code></pre> <p>Assignment has a variable name an equals followed by a value.</p>"},{"location":"mast/syntax/#using-python-with-assignment","title":"Using python with assignment","text":"<p>The assignment is simple and has trouble with more complex python statements e.g. a list of list, etc. To allow more complex assignments you can wrap the value in 'snakes' to have the python compiler used::</p> <pre><code>players_inventory = ~~ [ [2,3], [4,5]] ~~\n</code></pre> <p>You need at least 2 'snakes' (the tilde character), before and after the python values. But you can have more tha two, and the number doesn't need to be exactly the same, as long as you have at least two::</p> <pre><code>players_inventory = \n    ~~~~~~~~~ \n    [\n        [2,3], \n        [4,5]\n    ] \n    ~~~~~~\n</code></pre>"},{"location":"mast/syntax/#shared-data-assignment","title":"Shared data assignment","text":"<p>Data has multiple scopes. Data can be at the scope of a MAST story, a scheduler, a task, or a label.</p> <p>There are times you want data to be shared by all tasks within a story. To share data you add the 'shared' marked in front of the assignment::</p> <pre><code>shared enemy_count = 20\nshared beer_count = 8\n</code></pre> <p>When using Data, scope is automatically handled. You only need to specify shared at assignment::</p> <pre><code>shared beer_count = 8\nmy_beer = 0\n\n# Drink all the beer\nmy_beer = my_beer + beer_count\nshare beer_count = 0\n</code></pre>"},{"location":"mast/syntax/#task-flow-story-sections-via-labels","title":"Task Flow: Story sections via labels","text":"<p>A MAST story is broken into sections using labels. You also can have comments, and there are also other 'markers' that can help organizing sections and help have them stand out in the file.</p>"},{"location":"mast/syntax/#labels","title":"Labels","text":"<p>Labels have a Name with no spaces and are  enclosed in 2 or more equals</p>  MAST <pre><code>====== GotoBar ====\n . . .\n== ShowHelm ==\n . . .\n\n========================================== MoreStuff ===========================\n . . .\n</code></pre> <p>There are two labels that are implied: main and END.</p> <p>The label \"main\" is the very start of the script. The label \"END\" end the current task.</p> <p>They are predefined and don't need to be defined in script.</p> <p>Labels are not 'functions', one label passes into the next label</p>  MASTOutput <pre><code>======== One =====\nlog(\"One\")\n======== Two =====\nlog(\"Two\")\n===== Three ====\nlog(\"Three\")\n</code></pre> <pre><code>One\nTwo\nThree\n</code></pre>"},{"location":"mast/syntax/#stateflow-changes-jump","title":"State/Flow changes: Jump","text":"<p>There are times you will want to change what part of a task is running. This is done by redirecting the flow to a label.</p>"},{"location":"mast/syntax/#jump","title":"Jump","text":"<p>This can be done by a Jump command. Which is a 'thin arrow' followed by the label name.::</p>  MASTOutput <pre><code>-&gt; Here\n\n======== NotHere =====\nlog(\"Got here later\")\n-&gt; End\n\n======== Here =====\nlog(\"First\")\n-&gt; NotHere\n\n======== End =====\nlog(\"Done\")\n-&gt;END\n======== Never =====\nlog(\"Can never reach\")\n</code></pre> <pre><code>First\nGot Here later\nDone\n</code></pre>"},{"location":"mast/syntax/#jump-to-end","title":"Jump to End","text":"<p>To immediately end a task you can use a Jump to End.</p> <p>Jump to end looks like a Jump with a thin arrow and the label \"END\"</p>  MAST pyMASTOutput <pre><code>===== start ====\n\nlog(\"See you later\")\n-&gt;END\nlog(\"Never gets here\")\n</code></pre> <pre><code>@label()\ndef start(self):\n    print(\"See you later\")\n    yield END()\n</code></pre> <pre><code>See you later\n</code></pre> <p>Jump to End ends the task. If that task the only task, the whole story ends.</p>"},{"location":"mast/syntax/#scheduling-tasks-and-waiting-for-them-to-complete","title":"Scheduling tasks and waiting for them to complete","text":"<p>A story can have multiple tasks running in parallel.</p> <p>For example, a ship maybe have multiple Tasks associated with it.  One tracking it comms, several for its client consoles, and several related to 'quest' it is involved in.</p> <p>To do so, new task can be scheduled. Either in python or via Mast.</p>"},{"location":"mast/syntax/#scheduling-tasks-in-mast","title":"Scheduling tasks in mast","text":"<p>Schedule a task is similar to a Jump, but it uses the Fat arrow. The difference is another task begins, and the original task continues on.</p>  MAST pyMASTOutput <pre><code>log(\"before\")\n#\ntask_schedule(ATask)\nlog(\"after\")\n\n=== ATask ===\nlog(\"in task\")\n</code></pre> <pre><code>@label()\ndef start(self):\n    logger()\n    log(\"before\")\n    task_schedule(self.a_task)\n    log(\"after\")\n\n@label()\ndef a_task(self):\n    log(\"in task\")\n</code></pre> <pre><code>before\nafter\nin task\n</code></pre>"},{"location":"mast/syntax/#passing-data-to-a-task","title":"passing data to a task","text":"<p>You can pass data to a new task. The data passed is different than the original task.</p>  MAST pyMASTOutput <pre><code>message = \"Different\"\ntask_schedule(ATask, {\"message\": \"Hello\"})\nlog(f\"{message}\")\n\n=== ATask ===\nlog(f\"{message}\")\nmessage = \"Who cares\"\n</code></pre> <pre><code>@label()\ndef start():\n    logger()\n\n    task_schedule(a_task, {\"message\": \"Hello\"})\n    message = get_variable(\"message\")\n    log(f\"{message}\")\n\n@label()\ndef a_task():\n    log(task.message)\n    set_variable(\"message\", \"Should not change original\")\n</code></pre> <pre><code>different\nHello\n</code></pre>"},{"location":"mast/syntax/#named-task-and-waiting-for-a-task-or-tasks","title":"Named task and waiting for a Task or Tasks","text":"<p>You can assign a task to a variable by putting a name in front of the fat arrow.</p> <p>This can be used to await the task later.</p> <p>Example scheduling a task</p>  MASTOutput <pre><code>log(\"Start\")\ntask1 task_schedule(ATask)\nawait task1\nlog(\"Done\")\n\n=== ATask ===\nlog(\"task run\")\n</code></pre> <pre><code>Start\ntask run\nDone\n</code></pre>"},{"location":"mast/syntax/#awaiting-for-any-or-all-tasks","title":"Awaiting for any or all tasks","text":"<p>This can be used to await a list of tasks. You can await for ay task to complete. And you can await for all tasks to finish.</p> <p>Example await all</p>  MASTOutput <pre><code>log(\"Start\")\ntask1 = task_schedule(ATask, data= {\"say\": \"Task1\"})\ntask2 = task_schedule(ATask, data= {\"say\": \"Task2\"})\n#### This needs to be refactored it isn't valid yet\nawait task_all(task1,task2)\nlog(\"Done\")\n\n=== ATask ===\nlog(\"{say}\")\n</code></pre> <pre><code>Start\nTask1\nTask2\nDone\n</code></pre> <p>Await any</p>  MASTOutput <pre><code>log(\"Start\")\ntask1 = task_schedule(ATask, data= {\"say\": \"Task1\"})\ntask2 = task_schedule(ATask, data= {\"say\": \"Task2\"})\n#### This needs to be refactored\nawait task_any(task1,task2)\nlog(\"Done\")\n\n=== ATask ===\nlog(\"{say}\")\"\n</code></pre> <pre><code>Start\nTask1\nTask2\nDone\n</code></pre> <p>The order maybe be different based on timing of the tasks.</p> <p>For an await any if any task end, the await is satisfied.</p>"},{"location":"mast/syntax/#canceling-a-task","title":"Canceling a task","text":"<p>You can cancel a tasks by name from another task.</p>  MAST pyMASTOutput <pre><code>log(\"Start\")\ntask1 task_schedule(ATask)\ntask_cancel(task1)\nlog(\"Done\")\n\n=== ATask ===\nlog(\"May not run\")\n</code></pre> <pre><code>@label()\ndef start(self):\n    logger()\n    log(\"Start\")\n    task1 = task_schedule(a_task)\n    task_cancel(task1)\n    log(\"Done\")\n\n@label()\ndef a_task(self):\n    log(\"May not run\")\n</code></pre> <p>Start Done</p>"},{"location":"mast/syntax/#conditional-statements","title":"Conditional Statements","text":"<p>MAST supports both if and match statements similar to python syntax. pyMAST simply uses the python statements.</p>"},{"location":"mast/syntax/#if-statements","title":"If statements","text":"<p>MAST supports if statements similar to python with if, elif, and else.</p> <p>If conditionals can be nested as well.</p>  MAST pyMASTOutput <pre><code>===== start ====\nvalue = 300\n\nif value &lt; 300:\n    log(\"less\")\nelif value &gt; 300:\nlog(\"more\")\nelse:\n    log(\"equal\")\n</code></pre> <pre><code>@label()\ndef start():\n    value = 300\n    if value &lt; 300:\n        log(\"less\")\n    elif value &gt; 300:\n        log(\"more\")\n    else:\n        log(\"equal\")\n</code></pre> <pre><code>equal\n</code></pre>"},{"location":"mast/syntax/#match-statements","title":"Match statements","text":"<p>MAST supports match statements similar to python with match, case.</p>  MAST pyMASTOutput <pre><code>===== start ====\nvalue = 300\n\nmatch value:\n    case 200:\n        log(\"200\")\n    case 300:\n        log(\"300\")\n    case _:\n        log*(\"something else\")\n</code></pre> <pre><code>@label()\ndef start(self):\n    value = 300\n    match value:\n        case 200:\n            log(\"200\")\n        case 300:\n            log(\"300\")\n        case _:\n            log(\"something else\")\n</code></pre> <pre><code>300\n</code></pre>"},{"location":"mast/syntax/#for-loops","title":"For loops","text":"<p>MAST supports for loop similar to python with for, break, continue .</p> <p>pyMAST uses the standard python for or while loop.</p> <p>However, MAST support a for ... in loop and a for .. while loop.</p>  MAST pyMASTOutput <pre><code>for x in range(3):\n    log(\"{x}\")\n\n\ny = 10\nfor z while y &lt; 30:\n    log(\"{z} {y}\")\n    y += 10\n</code></pre> <pre><code>for x in range(3):\n    log(\"{x}\")\n\ny = 10\nz = 0\nwhile y &lt; 30:\n    log(\"{z} {y}\")\n    y += 10\n    z += 1\n</code></pre> <pre><code>1\n2\n3\n0 10\n1 20\n2 30\n</code></pre>"},{"location":"mast/syntax/#comments","title":"Comments","text":"<p>Comments provide code extra information to help make it more understandable.</p>"},{"location":"mast/syntax/#comments_1","title":"Comments","text":"<p>Single line comments start with a # and go until the end of the line.</p> <p>Comments use the # like python does</p>  MAST <pre><code>fred = 10 # set fred to 10\n</code></pre>"},{"location":"mast/syntax/#multi-line-comments-aka-block-comments","title":"Multi line Comments aka block comments","text":"<p>You can have a c style block comment</p>  MAST <pre><code>/*********\nBeware\nThis is the tricky part\n****/\n</code></pre> <p>Using block comments to 'disable' code it can quickly get confusing. Therefore, an additional block comment is supported.</p>"},{"location":"mast/syntax/#importing","title":"Importing","text":"<p>You can break up mast content into multiple files and use import to included them</p>  MAST <pre><code>import story_two.mast\n</code></pre> <p>The import command also supports importing from a zip fill</p>  MAST <pre><code>from my_lib.zip import bar.mast\n</code></pre> <p>One use of the zip file concept it to create a sharable library of things.</p>"},{"location":"mast/syntax/#logging","title":"Logging","text":"<p>MAST supports syntax to simplify pythons logging features.</p>"},{"location":"mast/syntax/#logger-command","title":"logger command","text":"<p>The logger command sets up logging. </p> <p>Logging needs to be enabled</p> <p>Logging can enabled for stdout, to a string stream (stringIO) variable, and a file</p>  MAST pyMAST <pre><code># enable logging to stdout\nlogger()\n# enable logging to stdout, and a string\nlogger(var=\"string my_string_logger\")\n# enable logging to stdout, and a file\nlogger(file=\"{mission_dir}/my_log.log\")\n# enable logging to stdout, a string and a file\nlogger(var=\"my_string_logger\", file=\"{mission_dir}/my_log.log\")\n</code></pre> <pre><code>@label\ndef some_label(self):\n    # Logging to stdout\n    logger()\n    # Logging to string IO\n    logger(var=\"my_string_logger\")\n    # Logging to file\n    logger(file=\"{mission_dir}/my_log.log\")\n    logger()\n</code></pre> <p>You can have multiple loggers, each logger can have separate strings, or files.</p> <p>The default logger does not need to specify the name.</p> <p>To create a new loggers by using the logger command specifying a name</p>  MAST pyMAST <pre><code>logger(name=\"tonnage\")\nlogger(name=\"tonnage\", var=\"tonnage\")\nlogger(name=\"tonnage\",file=\"{get_mission_dir()}/tonnage.txt\")\n</code></pre> <pre><code># this import is needed for get_mission_dir\nfrom sbs_utils.fs import get_mission_dir\n\n@label\ndef some_label(self):\n    logger(name=\"tonnage\")\n    logger(name=\"tonnage\", var=\"tonnage\")\n    logger(name=\"tonnage\",file=\"{get_mission_dir()}/tonnage.txt\")\n</code></pre>"},{"location":"mast/syntax/#log-command","title":"log command","text":"<p>The log command is how you send messages to the log.</p>  MAST pyMAST <pre><code># no logger name defaults to name \"mast\"\nlog(\"Hello, World\")\n# Specify a name to log to a secondary logger\nlog(\"Tonnage score {tonnage}\", name=\"tonnage\")\n</code></pre> <pre><code>@label\ndef some_label(self):\n    # no logger name defaults to name \"mast\"\n    log(\"Hello, World\")\n    # Specify a name to log to a secondary logger\n    log(\"Tonnage score {tonnage}\", name=\"tonnage\")\n</code></pre> <p>The log command can accept levels. These are visible is the stdout messages.</p>  MAST pyMAST <pre><code>log(\"Hello, World\", level=\"info\")\nlog(\"Hello, World\", level= \"debug\")\nlog(\"Hello, World\", level= \"error\")\n</code></pre> <pre><code>@label\ndef some_label(self):\n\n    log(\"Hello, World\", level=\"info\")\n    log(\"Hello, World\", level= \"debug\")\n    log(\"Hello, World\", level= \"error\")\n</code></pre>"},{"location":"mast/syntax/#delay-commands","title":"Delay commands","text":"<p>The delay command continues to execute for a period of time.</p> <p>A Delay needs a clock to use. Artemis Cosmos has two clocks: gui and sim. The gui clock is running continuously (realtime). The sim clock can be paused when the simulation is not running (game time).</p> <p>For gui and other things use the gui clock. If you want to delay 10s of game time use sim.</p> <p>Delay can specify minutes and seconds.</p>  MAST pyMAST <pre><code>await delay_app(minutes=1)\nawait delay_app(seconds=10)\nawait delay_app(seconds=5, minutes=1)\nawait delay_sim(0, 10)\n</code></pre> <pre><code>yield AWAIT(delay_app(minutes=1))\nyield AWAIT(delay_app(seconds=10))\nyield AWAIT(delay_app(seconds=5, minutes=1))\nyield AWAIT(delay_sim(0, 10))\n</code></pre> <p>Delay can delay the flow of the code</p>  MAST pyMASTOutput <pre><code>for x in range(3):\n    log(\"{x}\")\n    await delay_app(1)\n</code></pre> <pre><code>for x in range(3):\n    log(\"{x}\")\n    yield AWAIT(delay_app(1))\n</code></pre> <pre><code>1\n2\n3\n</code></pre>"},{"location":"mast/tutorial/","title":"Getting Started","text":"<p>This tutorial is intended to create a small mission in Artemis: Cosmos. It will describe the folder structure and files required to create the mission. The tutorial leverages the sbs_utils library and the MAST scripting language.</p> <p>The map created will result in a smaller version of the Siege scenario included as part of the Legendary Missions. It leverages a lot of reusable code provided by add-ons that are created from the Legendary Missions files that ship with the game.</p>"},{"location":"mast/tutorial/#mission-structure","title":"Mission structure","text":"<p>Missions in Artemis: Cosmos are not just a single file. It takes several files. MAST further adds a couple more files. MAST scripts can be written once the file structure is in place.</p>"},{"location":"mast/tutorial/#mission-required-files","title":"Mission required files","text":"<p>A mission script requires </p> <ul> <li>script.py</li> <li>description.txt</li> </ul> <p>The description.txt file holds information for displaying scenario select list. Which contains:</p> <ul> <li>A category for the mission. When this list grows, future versions will display or filter based on category. It is not used now.</li> <li>The description of the mission.</li> <li>a list of up to 6 icons and their color. MAST missions for example show an acorn icon.</li> </ul> <p></p> <p>The script.py file is how the Artemis: Cosmos engine communicates with the scripting system. The engine calls the function cosmos_event_handler with engine events.</p>  python <pre><code>def  cosmos_event_handler(sim, event):\n    pass\n</code></pre> <p>Script writers can write there own entire from scratch python missions this way.</p> <p>Libraries like sbs_utils should help by providing reusable code to build off of.</p> <p>sbs_utils can be used without MAST and provides many low level systems to do so.</p>"},{"location":"mast/tutorial/#mast-required-files","title":"MAST Required files","text":"<p>A MAST mission script requires a couple more files.</p> <ul> <li>description (like above)</li> <li>script.py (A specific common boilerplate version)</li> <li>story.mast</li> <li>story.json</li> </ul> <p>It is recommended to start with the script.py from another MAST mission like the one linked.</p> <p>It provides all the code needed to load the sbs_utils library, provide a default cosmos_event_handler, and bootstraps the MAST runtime by running story.mast. It also provides a top level exception handler which helps prevent bugs from crashing the application from python and MAST errors.</p> <p>story.mast can be were your mission script is written. Later in this tutorial it is recommended to create a folder to hold most of mission script code.</p> <p>story.json specifies the libraries and addons the mission is dependent on. Missions written using MAST require at least the sbs_utils library. Many missions will also use items from the core add-ons created by Legendary Missions.</p> <p>A mission can copy the Secret Meeting story.json as a good start. </p> <p>The script.py will likely not need any changes and is used to bootstrap the MAST runtime.</p>"},{"location":"mast/tutorial/#creating-a-map","title":"Creating a map","text":"<p>Missions need content. The library and addons work together to present maps to pick from. Maps are discovered at runtime by finding a map label.</p> <p>A map label starts with \"@map\" followed by an identifier e.g. first map. A map label is similar to other route labels and the use the \"/\" separator to distinguish parts of the identity of the label.</p> <p>The map label also includes a string Display Name. The display name is what is seen by the crew on the mission selections screen.</p> <p>The label can also have a number of description lines. Each starts with a quote followed by text. Each line starts with a quote, and there is no ending quote.</p>  MAST <pre><code>@map/first_map \"Hello Cosmos\"\n\" This is my first map\n\" and it's description\n</code></pre>"},{"location":"mast/tutorial/#mast-optional-files","title":"MAST Optional files","text":"<ul> <li>README.md</li> <li>setup.json</li> </ul> <p>README.md should describe the mission. Missions that are put on github will have the README.md display on the github repository.</p> Github is a place to manage source code <p>Github is used by many software developers. Artemis: Cosmos has features to get missions from github with a simple command line. Using github is encouraged for it version control abilities and providing a simple single place for downloadable content for the game: Missions, Libraries, Addons and mods.</p>"},{"location":"mast/tutorial/#finished-step-one-first-map","title":"Finished step one: First Map","text":"<p>Running this code should result in seeing the mission \"Hello Cosmos\" when the missions is selected.</p> <p></p> <p>The finished code for this step is here:</p> <p>code</p>"},{"location":"mast/tutorial/#creating-a-module-within-a-mission","title":"Creating a module within a mission","text":"<p>Missions can become complex. Putting all code in story.mast is not the best method for larger projects.</p> <p>On startup, the MAST runtime will run story.mast then it will look for modules and load them. A module is a folder with a __init__.mast file and any other .mast or .py files. To be included, the files need to be imported by placing an import command in __init__.mast.</p> <p>See the example folder in the Secret Meeting mission.</p> <p>Create a module for the mission.</p> <ul> <li>Create a folder in the mission folder called maps</li> <li>create an __init__.mast file</li> <li>create one or more MAST files or python files in the folder</li> <li>move the code from story.mast to map.mast in the module folder maps</li> <li>add an import statement </li> </ul>"},{"location":"mast/tutorial/#___import___mast","title":"___import___.mast","text":"MAST <pre><code>import map.mast\n</code></pre>"},{"location":"mast/tutorial/#mapmast","title":"map.mast","text":"MAST <pre><code>@map/first_map \"Hello Cosmos\"\n\" This is my first map\n\" and it's description\n</code></pre> <p>story.mast should now be empty, but keep it for later since the system expects it to exist. It can also be used for code in the future.</p>"},{"location":"mast/tutorial/#fished-step-two-modular-map","title":"Fished step two: Modular map","text":"<p>The finished code for this step is here:</p> <p>code</p>"},{"location":"mast/tutorial/#multiple-maps-and-a-mission-overview","title":"Multiple maps and a mission overview","text":"<p>Multiple map labels can be created. Each of these will be discovered and presented as option in the mission selection carousel.</p> <p>Additionally, the mission overview text (the title and description at the top of the selections screen) can be set using a specific __overview_ map label.</p>  MAST <pre><code>@map/__overview__ \"My episodic mission\"\n\" This is an epic journey \n\" told over several episodes\n</code></pre>"},{"location":"mast/tutorial/#run-the-mission","title":"run the mission","text":"<p>Running the mission should now show the overview as well as the first map.</p> <p></p>"},{"location":"mast/tutorial/#fished-step-two-modular-map_1","title":"Fished step two: Modular map","text":"<p>The finished code for this step is here:</p> <p>code</p>"},{"location":"mast/tutorial/#modules-addon-library-files","title":"Modules / Addon / Library Files","text":"<p>The map folder created to hold the maps is called a module. Multiple modules can be created in folders in the mission. </p> <p>Module folders can have folders however the content of those sub folders are not 'discovered' by the system. Files in those sub folders would need to be imported via the module __init__.mast</p> <p>A module can be used to create an addon. Addons are simply zip files of a module folder typically renaming the extension from \".zip\" to \".mastlib\". </p> <p>The __lib__ folder in the Artemis: Cosmos missions folder contains the several modules from LegendryMissions as addons. These addons are created using the build_addons.bat and build_addons.py.</p> <p>The __lib__ folder can also contain python libraries. Files with the \".sbslib\" extension are python libraries. These are also simply zip files of python modules. While python has several methods for managing libraries, this sbslib method was picked for an Artemis: Cosmos simplified method for sharing code.</p> <p>Addons and libraries are not discoverd by the system. The dependency on a library or addon must be listed in the  story.json file.</p> <p>There are two sections one for. sbslib files and one for mastlib files. Note that the file name is included so you can use any extension you wish. e.g. use \".zip\" when creating and testing your own addons.</p> <p>Addons present an interesting ways to share partial missions, Gamemaster/Admiral comm commands etc.</p> <p>The libraries and addons that ship with Artemis: Cosmos have a specific naming scheme that include their github user name, github repository name and a version number. This naming can help avoid naming conflicts and version mismatches.</p>"},{"location":"mast/tutorial/#adding-some-map-content","title":"Adding some map content","text":"<p>To fill out the map, station and NPC ships need to be spawned. This can be done individually with some low level functions. This tutorial will use a couple of python functions defined in the addons.</p> <p>To spawn at a lower level see the spawn module.</p>"},{"location":"mast/tutorial/#creating-some-stations","title":"Creating some stations","text":"<p>To create a spread of stations, use the terrain_spawn_stations, passing it the DIFFICULTY level and the lethal terrain value. The higher the DIFFICULTY, the fewer stations that will spawn. The lethal terrain value tells the function how many mines to generate around the station.</p>  MAST <pre><code>terrain_spawn_stations(5, 2)\n</code></pre>"},{"location":"mast/tutorial/#handle-the-player-ships","title":"Handle the player ships","text":"<p>The following task schedules a MAST label that handles spawning the player ships.</p>  MAST <pre><code>await task_schedule(spawn_players)\n</code></pre>"},{"location":"mast/tutorial/#creating-some-enemies","title":"Creating some enemies","text":"<p>The prefab_spawn function is used to create one or more objects that are define by a prefab label. </p> <p>prefab_fleet_raider is a label for creating enemy fleets.</p> <p>This function takes a race for the fleet to spawn. The difficult level 0 - 10. and a position. This example picks random points in a ring around 0,0,0. </p>  MAST <pre><code>for a in range(10):\n    fleet_pos = Vec3.rand_in_sphere(39990, 40000, False, True)\n    prefab_spawn(prefab_fleet_raider, {\"race\": \"skaraan\", \"fleet_difficulty\": DIFFICULTY,\"START_X\": fleet_pos.x, \"START_Y\": fleet_pos.y, \"START_Z\": fleet_pospos.z})\n</code></pre>"},{"location":"mast/tutorial/#end-game-conditions","title":"End game conditions","text":"<p>Script writers can create their own end game logic or use the Admiral (Game Master) console. The Admiral has a command to end the game.</p> <p>The default end game logic for Legendary Missions watches for failure when all stations or players are destroyed, and victory if all enemies are defeated. It will also end the game if the mission timer runs out. Explaining this code goes beyond the intent of a simple tutorial like this.</p> <p>The code is not in an add-on, so it needs to be copied.</p> <p>To have an end game like this:</p> <ul> <li>copy the watch_for_end.mast file to this tutorial mission map module.</li> <li>Add an import watch_for_end.mast to __init__.mast</li> <li>add a task_schedule to run the logic</li> </ul>  MAST <pre><code>task_schedule(task_end_game)\n</code></pre> Taunts may not work <p>At this time taunts will not work unless the taunt.json file is in the mission. The taunt.json can be copied from Legendary Missions. This will be addressed in a future update.</p>"},{"location":"mast/tutorial/#finish-step-four-simple-game","title":"Finish: Step four simple game","text":"<p>This ends this \"getting started\" tutorial. Running the script should be a playable game fighting of some enemy fleets.</p> <p>The finished code for this step is here:</p> <p>code</p>"},{"location":"mast/tutorial/#more-complex-examples","title":"More complex examples","text":"<p>The Legendary Mission, Secret Meeting and the WalkTheLine have their own maps and are a good reference.</p> <ul> <li>Legendary Mission maps</li> <li>Legendary Mission Admiral Comms</li> <li>Secret Meeting map</li> <li>Walk The Line map</li> </ul>"},{"location":"mast/routes/","title":"Route labels","text":"<p>The Artemis: Cosmos engine and the sbs_utils library deal with events. The engine calls into python providing an event. sbs_utils has a number of dispatchers that receive the event and dispatch that event to interested listeners.</p> <p>Within MAST that results in special labels being executed call route labels or routes fo short. A route label does not run until the event and conditions are met for it to run. When a script is compiled, these labels are discovered and automatically registered with the dispatchers to get called appropriately.</p> not all pyMAST routes exist <p>MAST routes are generally created first. pyMAST lags behind in development and are not guaranteed to exist. Examples may include routes that have not been implemented and will be added overtime.</p> <p>Routes general start with a double slash: e.g. //spawn  Some routes are also used in the UI and include data used by the UI. These typically start with an @: e.g. @map.</p> <p>In general // route labels related to sbs_utils event dispatchers, and @ route labels are discovered and used by other systems like the @map is discovered by the mission selection process and the label is scheduled when a map is selected to run.</p> <p>Routes in pyMAST functions with a decorator. Decorators are python syntax and all decorator with the @.</p> <p>With mast, routes also have a condition that is used to determine if the label should be run.</p>  MAST <pre><code>//spawn if has_roles(SPAWNED_ID, \"monster, typhon, classic\")\n</code></pre> <p>This example the route label will get run when an object is spawned if that object has all the roles of \"monster, typhon and classic.\"</p>"},{"location":"mast/routes/#spawn-route-labels","title":"Spawn route labels","text":"<p>When object spawn script writers may want to add additional data or behavior to the object. The spawn route is also where AI logic is schedule to run.  </p> lifetime dispatcher <p>The spawn route labels and other routes are connected to the sbs_utils lifetime dispatcher. The lifetime dispatcher dispatches events dealing with lifetime: spawn, deleted etc.</p>"},{"location":"mast/routes/#example-spawn-route","title":"Example spawn route","text":"<p>The following is the AI code for a typhon monster (as of version 1.0, located in LegendaryMissions)</p> <p>Code reference</p> <p>The code will only run when a classic typhon monster is spawned. The code creates an AI loop when the monster looks for the closest thing to attack. If nothing is around it goes idle.</p>  MAST pyMAST <pre><code>//spawn if has_roles(SPAWNED_ID, \"monster, typhon, classic\")\n\n-- ai_loop\n    -&gt;END if  not object_exists(SPAWNED_ID)\n\n    # The role \"#\" is an invisible e.g. admiral, operator\n    _target = closest(SPAWNED_ID, broad_test_around(SPAWNED_ID, 6000,6000, 0xf0)-role(\"__terrain__\")-role(\"monster\")-role(\"#\"))\n    if _target is None:\n        clear_target(SPAWNED_ID)\n    else:\n        #print(\"Typhon hunting\")\n        target(SPAWNED_ID, _target, True, 1.2)\n\n    await delay_sim(seconds=5)\n\n    jump ai_loop\n</code></pre> <pre><code>@spawn\ndef monster_ai():\n\u00a0 \u00a0 task = FrameContext.task\n\u00a0 \u00a0 SPAWNED_ID = task.get_variable(\"SPAWNED_ID\")\n\u00a0 \u00a0 if not has_roles(SPAWNED_ID, \"monster, typhon, classic\"):\n\u00a0 \u00a0 \u00a0 \u00a0 yield PollResults.OK_FAIL\n\u00a0 \u00a0 if \u00a0not object_exists(SPAWNED_ID):\n\u00a0 \u00a0 \u00a0 \u00a0 yield POllResults.OK_END\n\u00a0 \u00a0 _target = closest(SPAWNED_ID, broad_test_around(\n         SPAWNED_ID, 5000,5000, 0xf0)\n         -role(\"__terrain__\") -role(\"monster\"))\n\u00a0 \u00a0 if _target is None:\n\u00a0 \u00a0 \u00a0 \u00a0 clear_target(SPAWNED_ID)\n\u00a0 \u00a0 else:\n\u00a0 \u00a0 \u00a0 \u00a0 #print(\"Typhon hunting\")\n\u00a0 \u00a0 \u00a0 \u00a0 target(SPAWNED_ID, _target)\n\u00a0 \u00a0 yield AWAIT(delay_sim(seconds=5))\n\u00a0 \u00a0 yield jump(monster_ai)\n</code></pre>"},{"location":"mast/routes/comms/","title":"Communication related","text":"<p>The communication system is a powerful system for communicating with npc ships and stations. As well as internally and with engineering rooms and damcons.</p> <p>The comms task provides these variables</p> <ul> <li>COMMS_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>COMMS_ORIGIN - The python Agent of the player ship for the comms console</li> <li>COMMS_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>COMMS_SELECTED - The python Agent of being communicated with</li> </ul>"},{"location":"mast/routes/comms/#enabling-comms","title":"Enabling comms","text":"<p>Agents are not immediately available to the communication system. Comms must be enabled.</p> It is possible to enable comms too much <p>Enabling comms runs a task to handle the comms. It is vary possible that an agent meets the conditions of one or more //enable/comms. roles an conditions should be created to make the agent unique enough so that it is only enabled once. If comms is enabled more than once, you may not see all the comms buttons expected. This issue may be fixed in a future version.</p> <p>Enabling comms is a label, and can have addition task related data associated with it.</p>  MAST <pre><code>//enable/comms if has_roles(COMMS_SELECTED_ID, \"raider\")\n    # Example of data being defined with enable comms\n    hail_count = 0\n</code></pre> <p>The same communication system is used by the engineering grid system. It uses a different route label: //enable/grid/comms</p>  MAST <pre><code>//enable/grid/comms if has_roles(COMMS_SELECTED_ID, \"damcon\")\n    # Example of data being defined with enable comms\n    injured_count = 0\n</code></pre>"},{"location":"mast/routes/comms/#comms-buttons-and-tree-navigation","title":"Comms Buttons and tree navigation","text":"<p>Comms routes can be very rich and deep. A comms route specifies the navigation path that the buttons are added to.</p> <p>Comms buttons are specified with a plus + followed by a Quoted string for the button text. Then followed by either a route to navigate to, or a block of code to execute. </p> <p>These button types can be mixed together. e.g. the code button example has a back button that is a route navigation</p> Button order <p>Button order is currently can sometimes result in unexpected order. This will be addressed in a future version.</p>  MAST  MAST <pre><code>#\n# Comms buttons with route navigation\n#\n//comms if has_roles(COMMS_ORIGIN_ID, 'admiral')\n    + \"Spawn\" //comms/admiral/spawn\n    + \"Selected\" //comms/admiral/selected\n    + \"Area\" //comms/admiral/area\n    + \"Commands\" //comms/admiral/commands\n</code></pre> <pre><code>#\n# Comms buttons with code\n#\n//comms/admiral/spawn/terrain if has_roles(COMMS_ORIGIN_ID, 'admiral')\n    + \"Back\" //comms\n    + \"Asteroids\":\n        pos = Vec3(COMMS_ORIGIN.pos)\n        size = get_inventory_value(COMMS_ORIGIN_ID, f\"ADMIRAL_lmb_SIZE\", 5000)\n        # This should be a property setting\n        map_asteroid_scatter(9, 21, *pos, size, 1000, size)\n    + \"Nebulas\":\n        pos = Vec3(COMMS_ORIGIN.pos)\n        size = get_inventory_value(COMMS_ORIGIN_ID, f\"ADMIRAL_lmb_SIZE\", 5000)\n        # This should be a property setting\n        map_nebula_scatter(4, 12, *pos, size, 1000, size)\n    + \"Black hole\":\n        pos = Vec3(COMMS_ORIGIN.pos)\n        pos.x = pos.x + 100\n        terrain_spawn_black_hole(*pos.xyz)\n    + \"Monster\":\n        pos = Vec3(COMMS_ORIGIN.pos)\n        pos.x = pos.x + 100\n        typhon_classic_spawn(*pos.xyz)\n    + \"Minefield\":\n        pos = Vec3(COMMS_ORIGIN.pos)\n        size = get_inventory_value(COMMS_ORIGIN_ID, f\"ADMIRAL_lmb_SIZE\", 5000)\n        map_mine_scatter(4, 10, *pos, size, 1000, size)\n</code></pre>"},{"location":"mast/routes/comms/#more","title":"More","text":"<p>The Admiral comms demonstrate many different whay that comms buttons and navigation can work.</p> <p>This documentation may grow over time, but for now refer to that file for examples that include:</p> <ul> <li>Complex comms tree</li> <li>Dynamic buttons from the simulation data</li> <li>etc.</li> </ul> <p>Admiral comms</p>"},{"location":"mast/routes/gui/","title":"GUI","text":"<p>Routes related to the GUI</p>"},{"location":"mast/routes/gui/#gui-consoles","title":"Gui consoles","text":"<p>New consoles can be created using a @console route</p> <p>The client console will discover these and add them to the list of selectable consoles</p>  MAST <pre><code>@console/hangar \"Flight Hangar\"\n\" Fly fighter- shuttle and cargo missions\n</code></pre> <p>Respond to when a console is presented</p>  MAST <pre><code>//gui/norm_weap\n</code></pre> <p>e.g. manual beams is implemented as an extension of weapons</p>"},{"location":"mast/routes/gui/#other-console-events","title":"Other Console events","text":"<p>When the user select change console</p>  MAST <pre><code>//console/change\n</code></pre> <p>When the user changes the camera mode</p>  MAST <pre><code>//console/mainscreen/change\n</code></pre>"},{"location":"mast/routes/lifetime/","title":"Lifetime routes","text":"<p>These routes are related to the lifetime of Agents</p>"},{"location":"mast/routes/lifetime/#spawn","title":"Spawn","text":"<ul> <li>SPAWNED_ID</li> <li>SPAWNED</li> </ul>  MAST <pre><code>//spawn\n</code></pre> <p>For engineering grid  </p>  MAST <pre><code>//spawn/grid\n</code></pre>"},{"location":"mast/routes/lifetime/#collision","title":"Collision","text":"<ul> <li>COLLISION_ORIGIN_ID</li> <li>COLLISION_SELECTED_ID</li> </ul>  MAST  MAST <pre><code>//collision/passive\n</code></pre> <pre><code>//collision/interactive\n</code></pre>"},{"location":"mast/routes/lifetime/#damage-internal","title":"Damage internal","text":"<ul> <li>DAMAGE_ORIGIN_ID</li> </ul>  MAST  MAST <pre><code>//damage/internal\n</code></pre> <pre><code>//damage/heat\n</code></pre>"},{"location":"mast/routes/lifetime/#damage-object","title":"Damage object","text":"<ul> <li>DAMAGE_ORIGIN_ID</li> <li>DAMAGE_PARENT_ID</li> <li> <p>DAMAGE_SELECTED_ID</p> </li> <li> <p>DAMAGE_SOURCE_ID</p> </li> <li>DAMAGE_TARGET_ID</li> </ul>  MAST <pre><code>//damage/object\n</code></pre>"},{"location":"mast/routes/lifetime/#destroy-and-killed","title":"Destroy and killed","text":"<ul> <li>DESTROYED_ID</li> </ul>  MAST <pre><code>//damage/destroy\n</code></pre> <ul> <li>DAMAGE_ORIGIN_ID</li> </ul>  MAST <pre><code>//damage/killed\n</code></pre>"},{"location":"mast/routes/lifetime/#fighter-docking","title":"Fighter docking","text":"<p>This maybe refactored.</p> <p>So use this route sparingly as it will change. Currently it is triggered when a fighter request dock. It currently use the raw EVENT data</p>  MAST <pre><code>//dock/hangar\n</code></pre>"},{"location":"mast/routes/lifetime/#ship-docking","title":"Ship Docking","text":"<p>Currently the docking code does not use routes. In the future it will. The refactor of docking did not make it into 1.0</p>"},{"location":"mast/routes/maps/","title":"Maps","text":"<p>Maps are the main chapters of a mission.</p>  MAST <pre><code>@map/my_map \"My Map display Name\"\n</code></pre>"},{"location":"mast/routes/maps/#map-overview","title":"Map overview","text":"MAST <pre><code>@map/\\__overview__ \"This is the mission select top description\"\n</code></pre> <p>Legendary Mission Maps</p>"},{"location":"mast/routes/science/","title":"Science scan","text":"<p>The task running the science routing will provide these variables</p> <ul> <li>SCIENCE_ORIGIN_ID - The engine ID of the player ship doing the scan</li> <li>SCIENCE_ORIGIN - The python Agent of the player ship doing the scan</li> <li>SCIENCE_SELECTED_ID - The engine ID of the Agent being scanned</li> <li>SCIENCE_SELECTED - The python Agent of being scanned</li> </ul>"},{"location":"mast/routes/science/#enabling-science","title":"Enabling science","text":"<p>NPCs are not immediately available to the science system. Science must be enabled.</p> It is possible to enable science too much <p>Enabling science runs a task to handle the scans. It is vary possible that an agent meets the conditions of one or more //enable/science. roles and conditions should be created to make the agent unique enough so that it is only enabled once. If science is enabled more than once, you may not see all the scan tabs expected. This issue may be fixed in a future version.</p> <p>Enabling science is a label, and can have addition task related data associated with it.</p>  MAST <pre><code>//enable/science if has_roles(COMMS_SELECTED_ID, \"raider\")\n    # Example of data being defined with enable science\n    bio_scan_count = 0\n</code></pre>"},{"location":"mast/routes/science/#scan-tabs","title":"Scan tabs","text":"<p>Like the comms button system, science has buttons. These button are the scan tabs. The code in the button's code block is executed when the scan is complete. The \\ command specifies the scan results. <p>The example show that the response uses a random selection of responses. Each line starting with % is one one the choices that could be displayed.</p>  MAST <pre><code>//enable/science if has_roles(SCIENCE_SELECTED_ID, \"wreck\")\n\n//science if has_role(SCIENCE_SELECTED_ID, \"wreck\")\n\n    + \"scan\":\n        &lt;scan&gt;\n            % Gutted and battle-scarred wreckage that used to be a starship.\n            % Hulk of a destroyed ship.\n            % Wreckage of a destroyed starship. \n    + \"status\":\n        &lt;scan&gt; \n            % WARNING: Radiation leak detected! Do not board this derelict!\n            % Readings indicate this ship was destroyed by weapons fire.\n            % Cause of this ship's destruction cannot be determined by sensor scan.\n            % WARNING: high radiation levels! This ship might have been destroyed by an accidental reactor leak.\n            % WARNING: high radiation level warning for the entire crew! This ship might have been destroyed by an accidental reactor leak.\n\n    + \"bio\":\n        &lt;scan&gt;\n            % Indeterminate life signs detected. It could be alien eggs or pods. Proceed with caution.\n            % No life detected.\n            % Readings indicate a dangerous pathogen on this wreck. Recommend quarantine protocol Beta.\n            % Reading radiation mutations of pathogenetic viruses on this wreck. Recommend quarantine protocol Omicron.\n</code></pre>"},{"location":"mast/routes/signals/","title":"Signal routes","text":"<p>Signals are script defined event.</p> <p>Signals are emitted. Signal name and the data to pass to the signal </p>  MAST <pre><code>signal_emit(\"player_ship_destroyed\", {\"DESTROYED_ID\": ship_id})\n</code></pre> <p>Only the server receives shared signals</p>  MAST <pre><code>//shared/signal/player_ship_destroyed\n</code></pre> <p>Each console will receive this signal</p>  MAST <pre><code>//signal/player_ship_destroyed\n</code></pre>"},{"location":"mast/routes/user_interact/","title":"User Interaction routes","text":"<p>There are a number of events that are routed due to user interactions.</p> <p>These values are provided to the task when running the routes.</p> <p>For comms:</p> <ul> <li>COMMS_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>COMMS_ORIGIN - The python Agent of the player ship for the comms console</li> <li>COMMS_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>COMMS_SELECTED - The python Agent of being communicated with</li> </ul> <p>For comms2d:</p> <ul> <li>COMMS2D_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>COMMS2D_ORIGIN - The python Agent of the player ship for the comms console</li> <li>COMMS2D_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>COMMS2D_SELECTED - The python Agent of being communicated with</li> </ul> <p>For normal:</p> <ul> <li>NORMAL_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>NORMAL_ORIGIN - The python Agent of the player ship for the comms console</li> <li>NORMAL_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>NORMAL_SELECTED - The python Agent of being communicated with</li> </ul> <p>For Weapons:</p> <ul> <li>WEAPONS_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>WEAPONS_ORIGIN - The python Agent of the player ship for the comms console</li> <li>WEAPONS_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>WEAPONS_SELECTED - The python Agent of being communicated with</li> </ul> <p>For Science:</p> <ul> <li>SCIENCE_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>SCIENCE_ORIGIN - The python Agent of the player ship for the comms console</li> <li>SCIENCE_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>SCIENCE_SELECTED - The python Agent of being communicated with</li> </ul> <p>For select/grid:</p> <ul> <li>COMMS_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>COMMS_ORIGIN - The python Agent of the player ship for the comms console</li> <li>COMMS_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>COMMS_SELECTED - The python Agent of being communicated with</li> </ul> <p>For all other grid:</p> <ul> <li>GRID_ORIGIN_ID - The engine ID of the player ship for the comms console</li> <li>GRID_ORIGIN - The python Agent of the player ship for the comms console</li> <li>GRID_SELECTED_ID - The engine ID of the Agent being communicated with</li> <li>GRID_SELECTED - The python Agent of being communicated with</li> </ul> <p>All also receive the raw event in the variable EVENT</p>"},{"location":"mast/routes/user_interact/#selection","title":"Selection","text":"<p>When the selection is changed on a console.</p>  MAST  MAST  MAST  MAST  MAST  MAST <pre><code>//select/comms\n</code></pre> <pre><code>//select/comms2d\n</code></pre> <pre><code>//select/normal\n</code></pre> <pre><code>//select/weapons\n</code></pre> <pre><code>//select/science\n</code></pre> <pre><code>//select/grid\n</code></pre>"},{"location":"mast/routes/user_interact/#focus","title":"Focus","text":"<p>When the focus is changed on a console. This is similar to select, but will not run if the selected item was already selected.</p>  MAST <pre><code>//focus/comms\n</code></pre> <p>text</p>  MAST <pre><code>//focus/comms2d\n</code></pre> <p>text</p>  MAST <pre><code>//focus/normal\n</code></pre> <p>text</p>  MAST <pre><code>//focus/weapons\n</code></pre> <p>text</p>  MAST <pre><code>//focus/science\n</code></pre> <p>text</p>  MAST <pre><code>//focus/grid\n</code></pre> <p>text</p>"},{"location":"mast/routes/user_interact/#point","title":"Point","text":"<p>When the 2D View is clicked on an open area the point is available.</p> <p>the EVENT.source_point has the point vaule.</p>  MAST <pre><code>//point/comms2d\n</code></pre> <p>text</p>  MAST <pre><code>//point/normal\n</code></pre> <p>text</p>  MAST <pre><code>//point/comms\n</code></pre> <p>text</p>  MAST <pre><code>//point/weapons\n</code></pre> <p>text</p>  MAST <pre><code>//point/science \n</code></pre> <p>text</p>  MAST <pre><code>//point/grid\n</code></pre> <p>text</p>"},{"location":"mast/routes/user_interact/#object","title":"Object","text":"<p>This is currently just for the grid. When a grid object arrives at a path location.</p>  MAST <pre><code>//object/grid\n</code></pre>"},{"location":"sbs/","title":"SBS","text":"<p>SBS is the Python API exposed by the Artemis: Cosmos engine.</p> <p>Missions scripts can be created by just accessing this API, and the sbs Utils library is not required.</p>"},{"location":"sbs_utils/","title":"SBS Utils","text":"<p>This is a lower level part of the system written in pure python.</p> <p>The Mast runtime uses this functionality.</p> <p>The sbs utils aspects can be used without mast as well. So creating pure python scripts can be created, and use many of the functions used by mast.</p> <p>Python coding can be more complex than mast, but if you know python you may find this method useful.</p>"},{"location":"tutorial/","title":"MAST Tutorial","text":"<p>A tutorial describing how to write a simple mission that utilizes many of the tools MAST has to offer.</p>"},{"location":"tutorial/#tutorial-goals","title":"Tutorial Goals","text":""},{"location":"tutorial/#general-goals","title":"General Goals","text":"<p>Upon completion of this tutorial, you will have learned to: 1. Create a new mission from a template 2. Update the name and description of your mission 3. Understand what a 'label' is in MAST 4. Spawn player ships 5. Mission settings 6. Spawn terrain 7. Spawn enemies 8. Utilize Roles 9. Add science scans 10. Detect damage and destruction 11. Testing the mission 12. Recurring Tasks 13. [Build comms buttons] 14. [Handle game end]</p>"},{"location":"tutorial/#specific-goals","title":"Specific Goals","text":"<p>For this tutorial, we are writing a mission about finding and recovering a lost treasure.  </p> <ol> <li>The players will need to fight off scavengers while they search.  </li> <li>They will need to scan asteroids to find the treasure.  </li> <li>They will need to shoot at the asteroid to remove debris from the treasure.  </li> <li>They will need to collect the treasure by giving instructions to a specialist team retrieve it.</li> </ol>"},{"location":"tutorial/#what-you-will-not-learn","title":"What you will NOT learn","text":"<p>MAST is loosely based on, and for Cosmos is compiled by, Python. Python is a popular programming language which integrates with the Cosmos game engine to allow for flexible mission scripting. This tutorial is not a python tutorial, and we will touch on some aspects of the language, but if you want a more thorough understanding of python there are loads of resources online.</p>"},{"location":"tutorial/#1-setting-up-your-first-mission","title":"1. Setting up your first mission","text":""},{"location":"tutorial/#download-mast_starter","title":"Download mast_starter","text":"<p>To download the basic template documents for any mission, start with the mast_starter mission from the mast_starter Github Repository</p> <p>For a mission that already has some very basic functionality included, you could also use Secret Meeting. This mission is packaged with Cosmos by default, but there may be an updated version on GitHub, and it is always recommended that the most recent version be used.</p> <p>For this tutorial, we will assume that you are using mast_starter as a template.  </p>"},{"location":"tutorial/#2-whats-in-a-name","title":"2. What's in a name?","text":"<p>The name of your mission is, of course, a pretty important part of the mission. Fortunately, it's easy to set the name and description of the mission. Name the mission folder to reflect the name you've chosen for your mission. We will be calling our mission \"Treasure Hunt\". Now, open <code>description.txt</code> in your mission folder. There are at least three lines in this text file. You will see something like this: <pre><code>Standard\nMast Mission Template\n116 #F0D56E \n147 #9da36c\n</code></pre> The first line is the name of your mission, as it appears in the mission selection button. The second line is the mission's description, as it appears in the mission selection button. The third line and onwards describe icons that appear on the mission selection button. The number at the start of the line is one of the icons from <code>grid_icon_sheet.png</code>, located in the <code>/data/graphics/</code> folder of the artemis cosmos directory. From left to right, top to bottom, the icon's number increments from 1 onwards.  The second set of seemingly random characters is a hexidecimal color code. You can find hex codes online easily.</p> <p>Once you've changed these to fit what you want, we can close <code>description.txt</code> and open <code>story.mast</code> instead: <pre><code># Use for startup logic\n@map/first_map \"Hello Cosmos\"\n\" This is my first map.\n</code></pre> <code>story.mast</code> is where the bulk of your mission will eventually go, but right now, we're only concerned with the line that starts with <code>@map</code>. A line starting with <code>@map</code> defines a label, which we will get into more later. It tells the game that this is a mission, and what its name is. In our case we want to change the name of the map from \"Hello Cosmos\" to our chosen mission name - \"Treasure Hunt\". Note that this is displayed separately from the information in <code>description.txt</code>. The name and description in <code>information.txt</code> are displayed on the button to select the mission. The name and description shown in the UI after selecting the mission are defined here in <code>story.mast</code>. The <code>/first_map</code> part of the label is used internally by the MAST interpreter, but isn't relevant to us at the moment. You may choose to change this to whatever you want, but it cannot have spaces or special characters in it. The line following the label definition is the label description: <pre><code>\" This is my first map.\n</code></pre> This line, and any subsequent lines that begin with a double quote, comprise the description. For our example I am replace the existing description with this: <pre><code>\" Find the treasure, if you can! Many have sought this long-lost piece of history.\n\" None have succeeded. Some say it is only a myth. But recent archaeological finds have\n\" given clues regarding the location of this mysterious artifact.\n</code></pre> Now if you open Cosmos and select the Treasure Hunt mission, you will see the mission title and description.  </p>"},{"location":"tutorial/#3-a-brief-overview-of-labels","title":"3. A brief overview of Labels","text":"<p>A label, at its most basic, is a reusable and schedulable section of code. A label is used by MAST to create at task, and that task can be scheduled to run at a particular time, under specific conditions, and more than once, if desired. This gives mission writers a great deal of flexibility.  </p>"},{"location":"tutorial/#label-types","title":"Label Types","text":"<p>There are multiple kinds of labels:  Media Labels  Map Labels  Route Labels  Main Labels * Inline Labels (also known as sublabels)  </p> <p>We've already encountered a map label - <code>@map/first_map \"Treasure Hunt\"</code>. In practice, most of the startup code in your mission script will be part of this map label. Media labels are very similar in syntax and meaning. They start with <code>@media</code>, followed by the type of media, followed by the desired filename or directory. Note that the name at the end, unlike that of a map label, currently has no bearing on the mission. <pre><code>@media/music/default \"Cosmos Default Music\"\n@media/skybox/sky1-bored-alice \"borealis\"\n</code></pre> This will set the mission's music and skybox to whichever you specify. If you use more than one, a random skybox or music will be used. While not strictly necessary, I recommend that media labels be used at the very beginning of your mast file, before any functional code. We will cover route labels in later sections, so we will focus now on the last two types of labels. Main labels (which will hereafter be referred to as just labels) are the mainstay of a mission. Let's dissect the following example: <pre><code>== Hello_Cosmos\n\" This is an example label\nmetadata: ```\nsome_data: 10\n```\n</code></pre> The first line defines a label's name. A label has two or more equals signs at the start of the line. It may have any number of spaces, followed by the name of the label. The name may contain any number, letter, or underscore, but may not begin with a number. It may then be followed by any number of spaces, and any number of equals signs at the end. All of the following are valid label definitions, with the same name: <pre><code>== Hello_Cosmos\n======Hello_Cosmos==\n===               Hello_Cosmos                 ==========\n</code></pre> Though do note that labels must have unique names, so if you tried to include the above exactly, it would cause errors.  Sublabels have the same rules, but use a minus sign: <pre><code>---- some_sublabel\n</code></pre> The second line in our label example above you will recognize from the map labels - it is a description of the label. This is mostly used for documentation purposes, so that you (and any mission writer who might be trying to learn from your mission) can more easily follow the intent and use of the label. The third line and onwards defines the metadata associated with this label. Within the set of triple backticks, you can define keys, and set the default value for that key. This is very useful, because when you schedule a task, you can include different values for each key. This allows a label to not only run multiple times, but use different information while doing so. For both main and sublabels, the description and metadata lines are optional. You might be able to guess what is special about sublabels. They are defined inside of a main label, and are only applicable to the their parent label. Sublabels with the same parent may not share a name, but if their parent labels are different, sublabel names can be reused. More details on tasks and labels.</p>"},{"location":"tutorial/#4-spawning-player-ships","title":"4. Spawning Player Ships","text":"<p>Moving on from all that technical stuff, let's get into actual mission writing! \u2026 Which requires some technical stuff. You've learned that labels are used by MAST to create a task. Well, it turns out that it's time to do so. <pre><code>await task_schedule(spawn_players)\n</code></pre> Wait, is it that simple? Yeah, it really is! But what does all this do? What does it mean? Let's start with <code>task_schedule(spawn_players)</code>. <code>task_schedule()</code> is a python function (if you're not sure what a function is, do a google search). It takes a label as an argument, and builds a task from that label. \"But, wait!\" I hear you interrupt. \"Where is <code>spawn_players</code> defined? And how do I learn all of these functions and what they do?\" That's a couple of great questions. First, let's take a brief detour and open <code>story.json</code> in your mission folder. You'll see something like this: <pre><code>{\n    \"sbslib\": [\n        \"artemis-sbs.sbs_utils.v1.0.4.sbslib\"\n    ],\n    \"mastlib\": [\n        \"artemis-sbs.LegendaryMissions.autoplay.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.ai.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.commerce.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.comms.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.consoles.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.damage.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.docking.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.fleets.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.grid_comms.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.hangar.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.internal_comms.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.operator.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.science_scans.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.side_missions.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.upgrades.v1.0.4.mastlib\",\n        \"artemis-sbs.LegendaryMissions.zadmiral.v1.0.4.mastlib\"\n    ]\n}\n</code></pre> The sbslib file listed is the groundwork of MAST and is required for any mission. It's loaded with functions for you to use. The mastlib files, on the other hand, are entire optional. They contain, in this example, all of the contents of the LegendaryMissions mission folder, and are referred to as \"addons\". You can remove any of them, but until you've learned more about mission writing you should not. These files contain all the information about the different consoles, enemy and friendly AI, upgrades, and more, and as such they comprise the core of the default Cosmos gameplay experience. However, these are made up of MAST files, including labels that can be utilized by us, as mission writers. If you open the <code>/Cosmos_Install/data/missions/__lib__/</code> folder, you'll see these .sbslib and .mastlib files. You can copy and rename them to .zip and unzip them to view their contents, or you can go to the github page. The <code>spawn_players</code> label is defined in LegendaryMissions/fleets/map_common.mast, if you want to take a look at it.  </p> <p>There's another way to find all these functions, though: if you use VSCode (which I recommend), there's an extension called MAST that is built for us mission writers. It has loads of features that you'll find useful.  </p> <p>But let's get back to our own mission. We've looked at task_schedule(spawn_players), but there's another part of this line that's important. The line begins with <code>await</code>. <code>await</code> tells MAST to pause the current task (our mission) until the completion of the <code>spawn_players</code> task. Without using <code>await</code>, the new task would run concurrently with our mission's current task. We want to make sure that the player ships have spawned before we continue with our task, and <code>await</code> does this quite handily.</p>"},{"location":"tutorial/#5-mission-settings","title":"5. MIssion Settings","text":"<p>While we're on the topic of player ships, you may have noticed that Legendary Missions have various settings, including a setting for the number of player ships. You have probably wondered how you can add these settings to your mission. Let's dive in! Let's look at the beginning of the Double Front mission. In the metadata for the map label, we have the following: <pre><code>Properties:\n  Main:\n    Player Ships: 'gui_int_slider(\"$text:int;low: 1.0;high:8.0;\", var= \"PLAYER_COUNT\")'\n    Difficulty: 'gui_int_slider(\"$text:int;low: 1.0;high:11.0;\", var= \"DIFFICULTY\")'\n  Map:\n    Terrain: 'gui_drop_down(\"$text: {TERRAIN_SELECT};list: none, few, some, lots, many\",var=\"TERRAIN_SELECT\")'\n    Lethal Terrain: 'gui_drop_down(\"$text: {LETHAL_SELECT};list: none, few, some, lots, many\", var=\"LETHAL_SELECT\")'\n    Friendly Ships: 'gui_drop_down(\"$text: {FRIENDLY_SELECT};list: none, few, some, lots, many\", var=\"FRIENDLY_SELECT\")'\n    Monsters: 'gui_drop_down(\"$text: {MONSTER_SELECT};list: none, few, some, lots, many\", var=\"MONSTER_SELECT\")'\n    Upgrades: 'gui_drop_down(\"$text: {UPGRADE_SELECT};list: none, few, some, lots, many\", var= \"UPGRADE_SELECT\")'\n    Time Limit: 'gui_input(\"desc: Minutes;\", var=\"GAME_TIME_LIMIT\")'\n</code></pre> These are the default properties for all the Legendary Missions, and you can probably figure out most of what is going on here, but let's touch a few important bits. There are a bunch of <code>gui_whatever()</code> functions that can be used, and they all work very similarly. They need a <code>$text</code> attribute and a <code>var</code> attribute. <code>$text</code> is the text displayed on the gui element. The <code>var</code> attribute's value is the name of a variable that can be used by your mission script. You'll notice that within <code>Properties</code>, there's two sub keys: <code>Main</code> and <code>Map</code>. You can add more of these if you want, they are collapsible groupings. Within each group, you can add however many settings you desire by adding additional <code>gui_whatever()</code> functions, which will most likely be dropdowns and sliders as shown above.</p> <p>Now how do we use these? Well, as mentioned previously, the <code>var</code> attribute in the gui functions tell MAST that the selected value of the gui element is assigned to the specified variable. If we wanted to, we could use the settings like so: <pre><code>if LETHAL_SELECT == \"none\":\n    mine_count = 0\nif LETHAL_SELECT == \"few\":\n    mine_count = 20\nif LETHAL_SELECT == \"some\":\n    mine_count = 40\nif LETHAL_SELECT == \"lots\":\n    mine_count = 60\nif LETHAL_SELECT == \"many\":\n    mine_count = 80\n</code></pre> In this example, you could then spawn the number of mines based on the player's selection. Legendary Missions uses the <code>terrain_to_value(LETHAL_SELECT)</code> function to convert \"none\", \"few\", etc to numeric values, which is usually a much more useful form of information for code. This is probably a good time to note that if a variable is in all caps like <code>LETHAL_SELECT</code>, it should only be changed if it really needs to be changed. You can define your own variables in all caps as well to identify variables that should not be changed.  </p> <p>We'll come back and use settings more in later sections.</p>"},{"location":"tutorial/#6-spawning-terrain","title":"6. Spawning Terrain","text":"<p>So we've got player ships and nothing else on the map right now. Let's add some terrain. For our mission, we want to have an asteroid field. One of these asteroids will contain the treasure. There's a whole slew of ways we could spawn a bunch of randomly placed asteroids. This isn't the place to go through those, so I'll instead refer you to the tutorial on terrain.</p> <p>There's a very simple way to spawn generic terrain, but without any customization: <pre><code># Convert 'some' or whatever to a numeric value\nterrain_value = terrain_to_value(TERRAIN_SELECT)\n# A function from Legendary Missions that spawns a bunch of asteroids based on the terrain value\nterrain_asteroid_clusters(terrain_value)\n</code></pre> This applies to nebulae and black holes as well, using the applicable functions.</p>"},{"location":"tutorial/#7-spawning-enemies","title":"7. Spawning Enemies","text":"<p>It wouldn't be an Artemis mission without its core gameplay: combat! We need to add some enemies to our map. Similar to terrain, there's a host of ways to spawn enemies. We'll look at two options for now, and other tutorials will go into more detail on the rest. First, we'll look at the <code>npc_spawn()</code> function. This can be used to spawn any npc, be it an enemy, a friendly, or a neutral. <code>npc_spawn</code> takes several arguments: <pre><code>npc_spawn(x,y,z,name,side,art_id,behave_id)\n</code></pre> <code>x</code>, <code>y</code>, and <code>z</code> are the coordinates at which it should spawn. <code>name</code> is the name of the ship that is displayed on the UI, e.g. \"Artemis\" or \"D51\". <code>side</code> is, as indicated, the side the ship belongs to, such as \"tsn\" or \"kralien\". However, it is slightly more complicated than that, but we'll dig into this more in the next section. <code>art_id</code> is used to determine what 3D model, texture, etc., that should apply to the ship. These can be found in shipData.json, and for any given ship, this is the <code>artfileroot</code> value. Finally, <code>behave_id</code> tells Cosmos how to handle the ship. Don't worry too much about this,  As an example: <pre><code>npc_spawn(300,800,0,\"Ravager of Worlds\",\"Torgoth_Leviathan\",\"behav_npc\")\n</code></pre> Using <code>npc_spawn()</code> is great for spawning a single ship, especially if it has a particular name and art, or a particular purpose in your story. But if you want to spawn, say, a generic Kralien fleet, it would be a hassle to spawn each ship using <code>npc_spawn()</code>.  </p> <p>Instead, MAST has a 'prefab' system. A prefab is actually just a label, but to use a prefab, we call the <code>spawn_prefab()</code> function. Legendary Missions includes several prefabs (and it is likely that more will be added over time), and it has one specifically for enemy fleets (though it isn't limited to spawning enemy enemies) called <code>prefab_fleet_raider</code>. I hope at this point you have intuited how to use this function: <pre><code>prefab_spawn(prefab_fleet_raider)\n</code></pre> But I can hear you wondering \"How is this useful? I can't choose where to put the fleet.\" It is now time to expand upon the use of labels. Remember how labels can have metadata associated with the label? Whenever you run a label, you can include data to pass to the task. In this case, <code>prefab_spawn()</code> has a second argument where you can put that data. Let's look at the metadata for <code>spawn_fleet_raider</code>: <pre><code>type: prefab/fleet/raider\nrace: kralien\nship_roles: raider\nfleet_roles: raider_fleet\nfleet_difficulty: 5\nbrain:\n</code></pre></p> <p>The metadata keys <code>type</code>, <code>race</code>, <code>ship_roles</code>, <code>fleet_roles</code>, <code>fleet_difficulty</code>, and <code>bran</code> can all be customized. I've left out the contents of <code>brain</code> for brevity, and because AI brains are beyond the scope of this tutorial. What isn't obvious here is that the variables <code>START_X</code>, <code>START_Y</code>, and <code>START_Z</code> can be set for any label, even if it's not relevant. So how do we use this. Let's say we don't need to change any of the values in the metadata except for <code>fleet_difficulty</code> and the position coordinates. <pre><code>prefab_spawn(prefab_fleet_raider, {\"fleet_difficulty\": DIFFICULTY, \"START_X\": 1000, \"START_Y\": 20000, \"START_Z\": -100})\n</code></pre> Pretty paiinless, if you ask me. And did you catch how we used the <code>DIFFICULTY</code> setting? This can be used for other labels as well, and makes the use of labels very flexible. Note that the data is effectivley a python Dictionary, if you want to dig into those more. You might also be wondering more about fleets, how they work, and how they cam be further customized with composition and AI, but again, those topics are beyond the scope of this tutorial.</p>"},{"location":"tutorial/#8-utilizing-roles","title":"8. Utilizing Roles","text":"<p>In the metadata section above, there were two keys <code>ship_roles</code> and <code>fleet_roles</code>. The Role system in Cosmos is a powerful and integral part of MAST, and its definitely worth discussing roles in some detail here. Every object in the game has roles associated with it, and they can have any number of roles. Some of the default roles are listed in shipData.json. Remember how I said we'd discuss the <code>side</code> argument in <code>npc_spawn()</code>? Well, it turns out that the side of an object is also a role, but an object can only have one side, as opposed to unlimited roles, and sides determine what shows up in the game as friendly vs enemy vs neutral. Now, how do we use roles? There are a few functions that use them. The three you will probably use most often are <code>role()</code> <code>add_role()</code>, and <code>has_role()</code>. In my opinion, <code>role()</code> is the really fun one. If we call <code>role(\"my_role\")</code>, it returns a Set containing the IDs of all objects that have the role \"my_role\". We can use set operations to find specific subgroups in really elegant way. Let's say we want to find all TSN ships that are not carriers: <pre><code>not_carriers = role(\"tsn\")-role(\"carrier\")\n</code></pre> <code>has_role()</code> is simple; it returns <code>True</code> if the specified object has the role, otherwise it returns <code>False</code>: <pre><code>if has_role(ship, \"my_role\"):\n    # Do something\n</code></pre> <code>add_role()</code> seems similar in use. It adds the role to the object, but does not return anything.  <pre><code>add_role(ship, \"new_role\")\n</code></pre></p> <p>For our tutorial mission, we want a particular asteroid to contain treasure. We've spawned the asteroids already, but how can we make one of them special? We can start by using <code>role()</code>! <pre><code>asteroids = role(\"asteroid\")\n</code></pre> We have found all the asteroids, so we need to pick one of them to contain the treasure. MAST has a function that chooses a random id from a set: <pre><code>random_asteroid = random_id(asteroids)\n</code></pre> And now that we have an asteroid to contain the treasure, we can make it special: <pre><code>add_role(random_asteroid, \"treasure\")\n</code></pre></p> <p>Now let's use our newfound knowledge of roles to do....</p>"},{"location":"tutorial/#9-science","title":"9. Science!","text":"<p>In out tutorial mission, we want our players to be able to find the right asteroid. To do that, the asteroid will have special scan text, so the science officer will need to scan all asteroids until the treasure is found. First, we need to tell MAST that science should be enabled for objects that meet certain criteria. In our case, the criteria is an object with the \"treasure\" role: <pre><code>//enable/science if has_role(SCIENCE_SELECTED_ID, \"treasure\")\n</code></pre> This is a route label or a route, and all routes share this format. You'll note that we have a new variable: <code>SCIENCE_SELECTED_ID</code>. All routes have similar variables, and they can be found here. The big difference between route labels and other types of labels is how and when they run. While main and sublabels are scheduled by the mission writer, routes run whenever the specified conditions are met. In this case, the object represented by <code>SCIENCE_SELECTED_ID</code> must have the \"treasure\" role. We have another important step before we begin adding science scans: <pre><code>//science if has_role(SCIENCE_SELECTED_ID, \"treasure\")\n</code></pre> The <code>//enable/science</code> route is necessary whenever we need to use a <code>//science</code> route. We don't need to know how or why it works in any detail (and I honestly don't understand nhow it works myself), but just know that it is very important to include. Now, on the scan text area of the science console, there are some buttons: \"scan\", \"status\", or \"info\", for example. Buttons are easily added to scan info using the plus sign, followed by the name in quotes: <pre><code>    + \"scan\"\n    + \"status\"\n    + \"bio\"\n</code></pre> Adding scan text is just as simple. Let's just use one button for the moment: <pre><code>    + \"scan\"\n        &lt;scan&gt;\n            % This asteroid has some odd radiation readings...\n</code></pre> And what's really cool is that we can have multiple choices for scan text to use! This can improve immersion and replayability: <pre><code>    + \"scan\"\n        &lt;scan&gt;\n            % This asteroid has some odd radiation readings...\n            % Scans of the asteroid show that part of the asteroid is inconsistent with the rest.\n            % WHOA! These readings are off the charts!\n</code></pre> I'm going to add this as well, to guide the players towards shooting the asteroid: <pre><code>    + \"status\":\n        &lt;scan&gt; # Give a hint as to how to access the treasure\n            % The asteroid has a dense core, surrounded by large quantities of normal asteroid material. Maybe we can blast some of it away...\n</code></pre> Go ahead and add at least one more button with some more scan information of your own. This is a good time to remind you, if you haven't noticed it out already, that python and MAST, use indentation to designate blocks of code. Note that the button, scan, and scan text sections are seqeuentially indented. All of these scan buttons should have the same indentation.</p>"},{"location":"tutorial/#10-damage-and-destruction","title":"10. Damage and Destruction","text":"<p>In the last section, we learned about route labels. Remember how I said that routes run whenever the conditions are met? Well, there's routes for damage - several, in fact. Here's the list of damage routes: <pre><code># When an object takes damage and is destroyed\n//damage/destroy\n# When damage is taken due to overheating\n//damage/heat\n# When an engineering node takes damage (aside from heat)\n//damage/internal\n# Documentation is unclear on this, but I think it's when a crew member (DamCon) is killed\n//damage/killed\n# Object took damage that doesn't meet the other criteria\n//damage/object\n</code></pre> We want the players for our mission to shoot at the asteroid, and to detect when that happens, we'll use the <code>//damage/object</code> route. Once it's been hit, we're going to get rid of the asteroid and replace it with the treasure. <pre><code>//damage/object if has_role(DAMAGE_SELECTED_ID, \"treasure\")\n    sbs.delete_object(DAMAGE_TARGET_ID)\n</code></pre> This is the first time we've encountered a function that is part of a module. The <code>sbs</code> module is a set of functions that are directly mapped to C++ functions in the Cosmos game engine. There are a bunch of modules that are built into python and are available for us to use, such as <code>math</code> and <code>random</code>. There's also a few MAST-specific ones, such as <code>faces</code> and <code>scatter</code>. We've now gotten rid of our asteroid. How do we replace it with treasure? Let's say we want the treasure to be an upgrade. We can use the <code>pickup_spawn()</code> function: <pre><code>pickup_spawn(x, y, z, \"tauron_focuser\")\n</code></pre> But wait, how do we know what coordinates to use? Let's go back to right before we delete the asteroid and get its position: <pre><code>//damage/object if has_role(DAMAGE_SELECTED_ID, \"treasure\")\n    pos = get_pos(DAMAGE_SELECTED_ID)  # This line gets the position of an object.\n    sbs.delete_object(DAMAGE_SELECTED_ID)\n    pickup_spawn(pos.x, pos.y, pos.z, \"tauron_focuser\")\n</code></pre></p>"},{"location":"tutorial/#11-testing-our-mission","title":"11. Testing our mission","text":"<p>Great, let's test what we've got so far! To simplify our testing, let's only spawn one asteroid by changing one line: <pre><code># Let's just comment this line out while we test\n# terrain_asteroid_clusters(terrain_value)\n\n# And we'll add this line instead\ntreasure = terrain_spawn(200,0,150,None,\"#,asteroid\",\"plain_asteroid_9\",\"behav_asteroid\")\n</code></pre> Now only one asteroid will spawn, and it'll be right next to the ship, so we don't need to warp around trying to find it while we test. Fire up Cosmos, check the science scans. All good? Now flip over to weapons and target the asteroid... and we get an error like this, with a whole lot more in addition.  Errors are an unavoidable part of mission writing for Cosmos. Fortunately, crashes are very rare, and we can easily restart the mission after we fix the issue. This particular error is a bit of an edge case. It's caused by <code>resource_gather.py</code>, which is part of the commerce addon in LegendaryMissions. There's a couple ways to get around this, but for now the simplest is to go into story.json and remove the commerce module. It's not used for anything yet anyways. Note that if we use <code>terrain_asteroid_clusters()</code>, this is not an issue and we can use the commerce addon as normal.  </p>"},{"location":"tutorial/#debug-logging","title":"Debug logging","text":"<p>It is often useful to log the value of variable or other bits of information to verify that your code works properly, or to help isolate the cause of an issue. MAST has a built-in logger system, but I prefer to get a message in-game. I usually use the <code>comms_broadcast()</code> function. This function can send a message to the server (and all clients), or it can send the message to only a specific client if necessary. <pre><code>test_var = 10\ncomms_broadcast(0, \"My test var: {test_var}\")\n# All clients and the server will show: \"My test var: 10\"\n</code></pre> If debugging code for a particular client, you can use an id other than 0, but that's a bit more advanced than we need to get into today.  </p> <p>If you're not feeling adventurous about bugfixes yet, you can skip this next section for now.  </p>"},{"location":"tutorial/#for-the-adventurous","title":"For the adventurous","text":"<p>If you open resource_gather.py, and compare with the error message, you'll see that line 31 is where the issue lies. It's actually pretty simple - the value of <code>x</code> is <code>None</code>. If we look up a few lines earlier, we see <code>x = blob.get(\"local_scale_x_coeff\",0)</code>. Blob data can be useful in many situations, but now isn't the time to go into it too much. Basically, the commerce module expects that the blob information contains the \"local_scale_x_coeff\" value. But since it's returning <code>None</code>, the value hasn't been set. <code>terrain_asteroid_clusters()</code> does this, but <code>terrain_spawn()</code> does not. We just need to set the local scale coefficients for our asteroid: <pre><code>blob = to_blob(treasure.id)\nblob.set(\"local_scale_x_coeff\",1)\nblob.set(\"local_scale_y_coeff\",1)\nblob.set(\"local_scale_z_coeff\",1)\n</code></pre></p>"},{"location":"tutorial/#back-to-mission-writing","title":"Back to mission writing!","text":"<p>Okay, now it's working great. But of our several objectives for this mission, the fourth is this: \"They will need to collect the treasure by giving instructions to a specialist team retrieve it.\" Upgrades can be collected just by flying the ship near them, so that won't do.Let's turn to the <code>npc_spawn()</code> function again. We used this function before to create the asteroid we're using for testing. <pre><code># Instead of\npickup_spawn(pos.x, pos.y, pos.z, \"tauron_focuser\")\n# Let's use\ntreasure = terrain_spawn(pos.x, pos.y, pos.z, None, None, \"container_2a\", \"behav_pickup\")\n</code></pre> We'll give instructions to the specialist team in a later section.</p>"},{"location":"tutorial/#challenge-time","title":"Challenge Time!","text":"<p>Before we move on, use what you know about roles and route labels to give the treasure some scan information.</p>"},{"location":"tutorial/#12-recurring-tasks","title":"12. Recurring Tasks","text":"<p>Let's recap what we've done so far in our mission. * Spawned player ships and terrain * Determined the asteroid that has the treasure * Added scan text to the asteroid * Detected if the asteroid has been damaged * Replaced the asteroid with the treasure</p> <p>Looking back at our list of objectives for our mission, we've completed #2 and #3. But #1 is only partially completed. We only spawn a single fleet of enemies. We want to keep the player on their toes while they search. To do that we're going to implement a recurring event where a fleet of enemies will spawn at a random location roughly 15,000 units from the players every 5 minutes or so.  </p>"},{"location":"tutorial/#labels-to-the-rescue","title":"Labels to the rescue","text":"<p>Remember that one of the key aspects of a label is that it is reusable. We can create a label, and run that label whenever we need to spawn more ships. First, we need to identify what should happen within the label. The way I see it we have three things we need to do: * Determine where the players are * Determine where the enemies should spawn * Spawn the enemies To determine the location of the players, you'll need to know that the role for player ships is <code>\"__player__\"</code>. We'll assume that there is only one player ship. Go ahead and see if you can get the id of the player ship on your own!  </p> <p>Now that you've given that a shot, let's see if you did what I did:  </p> Get the player ship <pre><code>players = role(\"__player__\") # a set of all the players  \nship = random_id(players) # Since there's only one (we assume), this returns the id of that ship.  \n</code></pre> <p>Now let's figure out where enemies should spawn. We want them to spawn about 15k away from the ship, and we haven't specified any particular direction. You could find a random distance in one axis, then use some trig to figure out the distance in the other axis, but we've got other options. I'm looking at the <code>scatter_arc()</code> function: <pre><code>pos = get_pos(ship)\npoints = scatter_arc(1, pos.x, pos.y, pos.z, 15000, 280, 320)\n</code></pre> The various scatter functions return a number of locations, specified by the first arguemnt. In this case, we only want one spawn location. The last two arguments here are the start and end of the arc, in degrees, and it will choose a random location between this arc. We can now spawn our enemies. We've learned a couple different ways to do this, but for now we'll stick with using the existing <code>prefab_fleet_raider</code> prefab. This is only slightly more complicated because we used a scatter function: <pre><code>for point in points:\n    prefab_spawn(prefab_fleet_raider,{\"START_X\":point.x, \"START_Y\": point.y, \"START_Z\": point.z, \"fleet_difficulty\": DIFFICULTY})\n</code></pre> Since we've identified everything that needs to happen in this label, let's put it all together. Define a label with the name \"spawn_area_defenders\" and add all of the functionality we've discussed in this section to the label.</p> What it should look like <pre><code>== spawn_area_defenders\n\" A label to help us spawn new enemies throughout the mission\n    players = role(\"__player__\") # a set of all the players \n    ship = random_id(players) # Since there's only one (we assume), this returns the id of that ship.\n    pos = get_pos(ship)\n    points = scatter_arc(1, pos.x, pos.y, pos.z, 15000, 280, 320)  \n    for point in points:\n        prefab_spawn(prefab_fleet_raider,{\"START_X\":point.x, \"START_Y\": point.y, \"START_Z\": point.z, \"fleet_difficulty\": DIFFICULTY})\n</code></pre>"},{"location":"tutorial/#scheduling-the-label","title":"Scheduling the label","text":"<p>Now we need to schedule the task. We know how to use the <code>task_schedule()</code> function. But we need to have the enemies spawn periodically. You can get pretty creative with how to do this - you could trigger the label when the last enemy is destroyed. You could set timers for every 5 minutes until the mission ends. Probably the simplest is to use the <code>delay_sim()</code> function at the end of the label and then jump back to the beginning of the label: <pre><code>await delay_sim(minutes=5)\njump spawn_area_defenders\n</code></pre> You'll notice that we're using <code>await</code> again here. This pauses task execution until the delay is complete. I'm sure you've also seen that we're using the <code>jump</code> keyword instead of <code>task_schedule()</code>. This is a MAST-specific keyword, and it works very similarly to the <code>GOTO</code> keyword in BASIC. There is a difference between using <code>task_schedule()</code> and <code>jump</code> - <code>task_schedule()</code> creates a new, separate task, but continues the execution of the original task, while the <code>jump</code> keyword keeps the execution flow in the same task. This can be useful in a situation where you want to use the same metadata. An example of this can be found in station_prefabs.mast in Legendary Missions. <code>jump</code> could also be replaced with <code>-&gt;</code>. Its meaning and use are identical: <pre><code>-&gt; spawn_area_defenders\n</code></pre></p>"},{"location":"tutorial/#13-using-comms","title":"13. Using comms","text":"<p>We now need to learn how to interact with our specialists, who will collect and analyze the treasure. To do this, we need to learn about comms buttons and lifeforms.  </p>"},{"location":"tutorial/#lifeforms","title":"Lifeforms","text":"<p>Lifeforms are a pretty flexible way to handle communication with an NPC character. They are tied to a host space object, like a ship or station, and comms can communicate with specific lifeforms by selecting the ship/station/etc that the desired lifeform is on.</p>"},{"location":"tutorial/ai/complex_ai/","title":"complex","text":"<p>===================================</p> <p>Uses behavior trees</p> <p>Do friendly patrol Do harvester</p> <p>Create mission </p> <p>Create the mission from using a starter mission.</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>.\\fetch artemis-sbs mast_starter simple_ai\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>.\\fetch artemis-sbs pymast_starter simple_ai\n</code></pre> <p>Add more enemies</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>#TODO\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>#TODO\n</code></pre>"},{"location":"tutorial/ai/simple_ai/","title":"simple","text":""},{"location":"tutorial/ai/simple_ai/#_1","title":"simple","text":""},{"location":"tutorial/ai/simple_ai/#create-mission","title":"Create mission","text":"<p>Create the mission from using a starter mission.</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>.\\fetch artemis-sbs mast_starter simple_ai\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>.\\fetch artemis-sbs pymast_starter simple_ai\n</code></pre>"},{"location":"tutorial/ai/simple_ai/#add-more-stations","title":"Add more stations","text":"<p>.. tabs::    .. code-tab:: mast mast       :emphasize-lines: 3</p> <pre><code>  # Create a space station\n  ds1 = npc_spawn(1000,0,1000, \"DS1\", \"tsn\", \"starbase_command\", \"behav_station\")\n  ds2 = npc_spawn(1000,0,-1000, \"DS2\", \"tsn\", \"starbase_command\", \"behav_station\")\n</code></pre> <p>.. code-tab:: py PyMast       :emphasize-lines: 3</p> <pre><code>  # Create a space station\n  ds1 = Npc().spawn(self.sim, 1000,0,1000, \"DS1\", \"tsn\", \"starbase_command\", \"behav_station\")\n  ds2 = Npc().spawn(self.sim, -1000,0,1000, \"DS2\", \"tsn\", \"starbase_command\", \"behav_station\")\n</code></pre>"},{"location":"tutorial/ai/simple_ai/#add-role","title":"Add role","text":"<p>.. tabs::    .. code-tab:: mast mast       :emphasize-lines: 4</p> <pre><code>  # Create a space station\n  ds1 = npc_spawn(1000,0,1000, \"DS1\", \"tsn\", \"starbase_command\", \"behav_station\")\n  ds2 = npc_spawn(1000,0,-1000, \"DS2\", \"tsn\", \"starbase_command\", \"behav_station\")\n  do add_role({ds1.id, ds2.id}, \"Station\")\n</code></pre> <p>.. code-tab:: py PyMast       :emphasize-lines: 4</p> <pre><code>  # Create a space station\n  ds1 = Npc().spawn(self.sim, 1000,0,1000, \"DS1\", \"tsn\", \"starbase_command\", \"behav_station\")\n  ds2 = Npc().spawn(self.sim, 1000,0,-1000, \"DS2\", \"tsn\", \"starbase_command\", \"behav_station\")\n  query.add_role({ds1.id, ds2.id}, \"Station\")\n</code></pre> <p>Add a router for ai</p> <p>Routers create tasks automatically a needed and starts running at a specific label. That label that uses logic to route to other labels based on certain conditions.</p> <p>.. tabs::    .. code-tab:: mast Mast</p> <pre><code>     # at the top of the mast file add \n     # Configure the label where comms routing occurs\n     route spawn route_ai\n</code></pre> <p>.. code-tab:: py PyMast</p> <pre><code>   # in the __init__ of the story add \n   self.route_spawn(self.route_ai)\n</code></pre>"},{"location":"tutorial/ai/simple_ai/#add-a-task-to-route-ai","title":"Add a task to route AI","text":"<p>.. tabs::    .. code-tab:: mast mast</p> <pre><code>  ========== route_ai =========\n  #\n  # SPAWNED_ID is a special value of the ID of the thing spawned\n  #\n  if has_role(SPAWNED_ID, \"raider\"):\n     jump npc_targeting_ai\n  end_if\n  #if not a raider end the task\n  -&gt;END\n</code></pre> <p>.. code-tab:: py PyMast</p> <pre><code>  @label()    \n  def route_ai(self):\n     #\n     # SPAWNED_ID is a special value of the ID of the thing spawned\n     #\n     if query.has_role(self.task.SPAWNED_ID, \"raider\"):\n           yield self.jump(self.npc_targeting_ai)\n</code></pre>"},{"location":"tutorial/ai/simple_ai/#add-a-task-to-do-npc-targeting-ai","title":"Add a task to do npc targeting AI","text":"<p>.. tabs::    .. code-tab:: mast mast</p> <pre><code>  =====  npc_targeting_ai   =========\n\n  the_target = closest(SPAWNED_ID, role(\"__PLAYER__\"), 2000)\n  if the_target is None:\n     the_target = closest(SPAWNED_ID, role(\"Station\"))\n  end_if\n  if the_target is not None:\n     do target(sim, SPAWNED_ID, the_target, True)\n  end_if\n\n  delay sim 5s\n  jump npc_targeting_ai\n</code></pre> <p>.. code-tab:: py PyMast</p> <pre><code>  @label()    \n  def npc_targeting_ai(self):\n     the_target = query.closest(self.task.SPAWNED_ID, query.role(\"__PLAYER__\"), 2000)\n     if the_target is None:\n           the_target = query.closest(self.task.SPAWNED_ID, query.role(\"Station\"))\n     if the_target is not None:\n           query.target(self.sim, self.task.SPAWNED_ID, the_target, True)\n\n     yield self.delay(5)\n     yield self.jump(self.npc_targeting_ai)\n</code></pre>"},{"location":"tutorial/comms/complex_comms/","title":"complex","text":"<p>===================================</p> <p>Uses behavior trees</p> <p>Do friendly patrol Do harvester</p> <p>Create mission </p> <p>Create the mission from using a starter mission.</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>.\\fetch artemis-sbs mast_starter simple_ai\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>.\\fetch artemis-sbs pymast_starter simple_ai\n</code></pre> <p>Add more enemies</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>#TODO\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>#TODO\n</code></pre>"},{"location":"tutorial/comms/simple_comms/","title":"Macro Syntax Error","text":"<p>File: <code>tutorial\\comms\\simple_comms.md</code></p> <p>Line 155 in Markdown file: expected token 'end of print statement', got ':' <pre><code>            \"Hail\": button_hail,\n</code></pre></p>"},{"location":"tutorial/gui/simple_gui/","title":"simple","text":"<p>===================================</p> <p>Create mission </p> <p>Create the mission from using a starter mission.</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>.\\fetch artemis-sbs mast_starter simple_ai\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>.\\fetch artemis-sbs pymast_starter simple_ai\n</code></pre> <p>Add more enemies</p> <p>.. tabs::    .. code-tab:: shell mast</p> <pre><code>#TODO\n</code></pre> <p>.. code-tab:: shell PyMast</p> <pre><code>#TODO\n</code></pre>"},{"location":"tutorial/science/simple_science/","title":"simple","text":"<p>===================================</p> <p>Create mission </p> <p>Create the mission from using a starter mission.</p>  MAST pyMAST <p>.\\fetch artemis-sbs mast_starter simple_ai    </p> <p>.\\fetch artemis-sbs pymast_starter simple_ai</p> <p>Add more enemies</p>  MAST pyMAST"},{"location":"tutorial/science/simple_science/#todo","title":"TODO","text":""},{"location":"tutorial/science/simple_science/#todo_1","title":"TODO","text":""}]}